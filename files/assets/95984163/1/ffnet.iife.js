var ffnet=(()=>{var Rt=Object.defineProperty,Mi=Object.getOwnPropertyDescriptor,xi=Object.getOwnPropertyNames,Ei=Object.prototype.hasOwnProperty,qi=(e,t)=>{for(var r in t)Rt(e,r,{get:t[r],enumerable:!0})},Ti=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of xi(t))Ei.call(e,i)||i===r||Rt(e,i,{get:()=>t[i],enumerable:!(n=Mi(t,i))||n.enumerable});return e},Ai=e=>Ti(Rt({},"__esModule",{value:!0}),e),A=(e,t,r)=>new Promise((n,i)=>{var a=s=>{try{o(r.next(s))}catch(u){i(u)}},l=s=>{try{o(r.throw(s))}catch(u){i(u)}},o=s=>s.done?n(s.value):Promise.resolve(s.value).then(a,l);o((r=r.apply(e,t)).next())}),En={},Ui=(qi(En,{Channel:()=>Ot,Gameplay:()=>ct,Match:()=>dt,NetDriver:()=>Zr,RoomChannel:()=>Nt,Social:()=>ue}),Object.create),xt=Object.defineProperty,Ci=Object.getOwnPropertyDescriptor,ti=Object.getOwnPropertyNames,$r=Object.getOwnPropertySymbols,Bi=Object.getPrototypeOf,ri=Object.prototype.hasOwnProperty,Fi=Object.prototype.propertyIsEnumerable,Xr=(e,t,r)=>t in e?xt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Mt=(e,t)=>{for(var r in t=t||{})ri.call(t,r)&&Xr(e,r,t[r]);if($r)for(var r of $r(t))Fi.call(t,r)&&Xr(e,r,t[r]);return e},Di=(e,t)=>function(){return t||(0,e[ti(e)[0]])((t={exports:{}}).exports,t),t.exports},Ii=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of ti(t))ri.call(e,i)||i===r||xt(e,i,{get:()=>t[i],enumerable:!(n=Ci(t,i))||n.enumerable});return e},zi=(e,t,r)=>(r=null!=e?Ui(Bi(e)):{},Ii(!t&&e&&e.__esModule?r:xt(r,"default",{value:e,enumerable:!0}),e)),N=(e,t,r)=>new Promise((n,i)=>{var a=s=>{try{o(r.next(s))}catch(u){i(u)}},l=s=>{try{o(r.throw(s))}catch(u){i(u)}},o=s=>s.done?n(s.value):Promise.resolve(s.value).then(a,l);o((r=r.apply(e,t)).next())}),bi=Di({"node_modules/whatwg-fetch/fetch.js"(e){!function(t){"use strict";var r_searchParams,r_iterable,r_blob,r_formData,r_arrayBuffer,n,i,a,T,le;function l(k){if("string"!=typeof k&&(k=String(k)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(k))throw new TypeError("Invalid character in header field name");return k.toLowerCase()}function o(k){return k="string"!=typeof k?String(k):k}function s(k){var R={next:function(){var q=k.shift();return{done:void 0===q,value:q}}};return r_iterable&&(R[Symbol.iterator]=function(){return R}),R}function u(k){this.map={},k instanceof u?k.forEach(function(R,q){this.append(q,R)},this):Array.isArray(k)?k.forEach(function(R){this.append(R[0],R[1])},this):k&&Object.getOwnPropertyNames(k).forEach(function(R){this.append(R,k[R])},this)}function d(k){if(k.bodyUsed)return Promise.reject(new TypeError("Already read"));k.bodyUsed=!0}function h(k){return new Promise(function(R,q){k.onload=function(){R(k.result)},k.onerror=function(){q(k.error)}})}function m(k){var R=new FileReader,q=h(R);return R.readAsArrayBuffer(k),q}function P(k){if(k.slice)return k.slice(0);var R=new Uint8Array(k.byteLength);return R.set(new Uint8Array(k)),R.buffer}function O(){return this.bodyUsed=!1,this._initBody=function(k){if(this._bodyInit=k)if("string"==typeof k)this._bodyText=k;else if(r_blob&&Blob.prototype.isPrototypeOf(k))this._bodyBlob=k;else if(r_formData&&FormData.prototype.isPrototypeOf(k))this._bodyFormData=k;else if(r_searchParams&&URLSearchParams.prototype.isPrototypeOf(k))this._bodyText=k.toString();else if(r_arrayBuffer&&r_blob&&i(k))this._bodyArrayBuffer=P(k.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!r_arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(k)&&!a(k))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=P(k)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof k?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r_searchParams&&URLSearchParams.prototype.isPrototypeOf(k)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},r_blob&&(this.blob=function(){var k=d(this);if(k)return k;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?d(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var k=d(this);if(k)return k;if(this._bodyBlob)return function(k){var R=new FileReader,q=h(R);return R.readAsText(k),q}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(k){for(var R=new Uint8Array(k),q=new Array(R.length),S=0;S<R.length;S++)q[S]=String.fromCharCode(R[S]);return q.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},r_formData&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}function g(k,R){var q=(R=R||{}).body;if(k instanceof g){if(k.bodyUsed)throw new TypeError("Already read");this.url=k.url,this.credentials=k.credentials,R.headers||(this.headers=new u(k.headers)),this.method=k.method,this.mode=k.mode,q||null==k._bodyInit||(q=k._bodyInit,k.bodyUsed=!0)}else this.url=String(k);if(this.credentials=R.credentials||this.credentials||"omit",!R.headers&&this.headers||(this.headers=new u(R.headers)),this.method=function(k){var R=k.toUpperCase();return-1<T.indexOf(R)?R:k}(R.method||this.method||"GET"),this.mode=R.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&q)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(q)}function E(k){var R=new FormData;return k.trim().split("&").forEach(function(q){var w;q&&(w=(q=q.split("=")).shift().replace(/\+/g," "),q=q.join("=").replace(/\+/g," "),R.append(decodeURIComponent(w),decodeURIComponent(q)))}),R}function L(k,R){R=R||{},this.type="default",this.status=void 0===R.status?200:R.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in R?R.statusText:"OK",this.headers=new u(R.headers),this.url=R.url||"",this._initBody(k)}t.fetch||(r_searchParams="URLSearchParams"in t,r_iterable="Symbol"in t&&"iterator"in Symbol,r_blob="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(k){return!1}}(),r_formData="FormData"in t,(r_arrayBuffer="ArrayBuffer"in t)&&(n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=function(k){return k&&DataView.prototype.isPrototypeOf(k)},a=ArrayBuffer.isView||function(k){return k&&-1<n.indexOf(Object.prototype.toString.call(k))}),u.prototype.append=function(k,R){k=l(k),R=o(R);var q=this.map[k];this.map[k]=q?q+","+R:R},u.prototype.delete=function(k){delete this.map[l(k)]},u.prototype.get=function(k){return k=l(k),this.has(k)?this.map[k]:null},u.prototype.has=function(k){return this.map.hasOwnProperty(l(k))},u.prototype.set=function(k,R){this.map[l(k)]=o(R)},u.prototype.forEach=function(k,R){for(var q in this.map)this.map.hasOwnProperty(q)&&k.call(R,this.map[q],q,this)},u.prototype.keys=function(){var k=[];return this.forEach(function(R,q){k.push(q)}),s(k)},u.prototype.values=function(){var k=[];return this.forEach(function(R){k.push(R)}),s(k)},u.prototype.entries=function(){var k=[];return this.forEach(function(R,q){k.push([q,R])}),s(k)},r_iterable&&(u.prototype[Symbol.iterator]=u.prototype.entries),T=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],g.prototype.clone=function(){return new g(this,{body:this._bodyInit})},O.call(g.prototype),O.call(L.prototype),L.prototype.clone=function(){return new L(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new u(this.headers),url:this.url})},L.error=function(){var k=new L(null,{status:0,statusText:""});return k.type="error",k},le=[301,302,303,307,308],L.redirect=function(k,R){if(-1===le.indexOf(R))throw new RangeError("Invalid status code");return new L(null,{status:R,headers:{location:k}})},t.Headers=u,t.Request=g,t.Response=L,t.fetch=function(k,R){return new Promise(function(q,S){var w=new g(k,R),c=new XMLHttpRequest;c.onload=function(){var R,k={status:c.status,statusText:c.statusText,headers:(k=c.getAllResponseHeaders()||"",R=new u,k.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(S){var S=S.split(":"),c=S.shift().trim();c&&(S=S.join(":").trim(),R.append(c,S))}),R)},U=(k.url="responseURL"in c?c.responseURL:k.headers.get("X-Request-URL"),"response"in c?c.response:c.responseText);q(new L(U,k))},c.onerror=function(){S(new TypeError("Network request failed"))},c.ontimeout=function(){S(new TypeError("Network request failed"))},c.open(w.method,w.url,!0),"include"===w.credentials?c.withCredentials=!0:"omit"===w.credentials&&(c.withCredentials=!1),"responseType"in c&&r_blob&&(c.responseType="blob"),w.headers.forEach(function(M,U){c.setRequestHeader(U,M)}),c.send(void 0===w._bodyInit?null:w._bodyInit)})},t.fetch.polyfill=!0)}("undefined"!=typeof self?self:e)}}),Tn=zi(bi()),Li="function"==typeof atob,Gi="function"==typeof btoa,pt="function"==typeof Buffer,An="function"==typeof TextDecoder?new TextDecoder:void 0,Kr="function"==typeof TextEncoder?new TextEncoder:void 0,Wi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",ce=[...Wi],ft=(()=>{let t={};return ce.forEach((r,n)=>t[r]=n),t})(),Hi=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,V=String.fromCharCode.bind(String),Un="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):(e,t=r=>r)=>new Uint8Array(Array.prototype.slice.call(e,0).map(t)),Vi=e=>e.replace(/[+\/]/g,t=>"+"==t?"-":"_").replace(/=+$/m,""),Zi=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),$i=e=>{let t,r,n,i,a="",l=e.length%3;for(let o=0;o<e.length;){if(255<(r=e.charCodeAt(o++))||255<(n=e.charCodeAt(o++))||255<(i=e.charCodeAt(o++)))throw new TypeError("invalid character found");t=r<<16|n<<8|i,a+=ce[t>>18&63]+ce[t>>12&63]+ce[t>>6&63]+ce[63&t]}return l?a.slice(0,l-3)+"===".substring(l):a},_t=Gi?e=>btoa(e):pt?e=>Buffer.from(e,"binary").toString("base64"):$i,Xi=pt?e=>Buffer.from(e).toString("base64"):e=>{let r=[];for(let n=0,i=e.length;n<i;n+=4096)r.push(V.apply(null,e.subarray(n,n+4096)));return _t(r.join(""))},Ki=e=>{var t;return e.length<2?(t=e.charCodeAt(0))<128?e:t<2048?V(192|t>>>6)+V(128|63&t):V(224|t>>>12&15)+V(128|t>>>6&63)+V(128|63&t):(t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320),V(240|t>>>18&7)+V(128|t>>>12&63)+V(128|t>>>6&63)+V(128|63&t))},Yi=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Qi=e=>e.replace(Yi,Ki),Yr=pt?e=>Buffer.from(e,"utf8").toString("base64"):Kr?e=>Xi(Kr.encode(e)):e=>_t(Qi(e)),Q=(e,t=!1)=>t?Vi(Yr(e)):Yr(e),ji=e=>{if(e=e.replace(/\s+/g,""),!Hi.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,r="",n,i;for(let a=0;a<e.length;)t=ft[e.charAt(a++)]<<18|ft[e.charAt(a++)]<<12|(n=ft[e.charAt(a++)])<<6|(i=ft[e.charAt(a++)]),r+=64===n?V(t>>16&255):64===i?V(t>>16&255,t>>8&255):V(t>>16&255,t>>8&255,255&t);return r},Qr=Li?e=>atob(Zi(e)):pt?e=>Buffer.from(e,"base64").toString("binary"):ji;function J(e,t,r){let n=Mt(Mt({},{method:e}),t);n.headers=Mt({},t.headers);e=Object.getOwnPropertyDescriptor(XMLHttpRequest.prototype,"withCredentials");return null!=e&&e.set||(n.credentials="cocos-ignore"),Object.keys(n.headers).includes("Accept")||(n.headers.Accept="application/json"),Object.keys(n.headers).includes("Content-Type")||(n.headers["Content-Type"]="application/json"),Object.keys(n.headers).forEach(a=>{n.headers[a]||delete n.headers[a]}),r&&(n.body=r),n}for(var en=class{constructor(e,t,r){this.serverKey=e,this.basePath=t,this.timeoutMs=r}healthcheck(e,t={}){let n=new Map,a=this.buildFullUrl(this.basePath,"/healthcheck",n),l=J("GET",t,"");return e&&(l.headers.Authorization="Bearer "+e),Promise.race([fetch(a,l).then(o=>{if(204==o.status)return o;if(200<=o.status&&o.status<300)return o.json();throw o}),new Promise((o,s)=>setTimeout(s,this.timeoutMs,"Request timed out."))])}getAccount(e,t={}){let n=new Map,a=this.buildFullUrl(this.basePath,"/v2/account",n),l=J("GET",t,"");return e&&(l.headers.Authorization="Bearer "+e),Promise.race([fetch(a,l).then(o=>{if(204==o.status)return o;if(200<=o.status&&o.status<300)return o.json();throw o}),new Promise((o,s)=>setTimeout(s,this.timeoutMs,"Request timed out."))])}updateAccount(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");var i=new Map,t=JSON.stringify(t||{});let l=this.buildFullUrl(this.basePath,"/v2/account",i),o=J("PUT",r,t);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}authenticateApple(e,t,r,n,i,a={}){if(null==r)throw new Error("'body' is a required parameter but is null or undefined.");let o=new Map;o.set("create",n),o.set("username",i);n=JSON.stringify(r||{});let u=this.buildFullUrl(this.basePath,"/v2/account/authenticate/apple",o),d=J("POST",a,n);return d.headers.Authorization="Basic "+Q(e+":"+t),Promise.race([fetch(u,d).then(h=>{if(204==h.status)return h;if(200<=h.status&&h.status<300)return h.json();throw h}),new Promise((h,m)=>setTimeout(m,this.timeoutMs,"Request timed out."))])}authenticateCustom(e,t,r,n,i,a={}){if(null==r)throw new Error("'body' is a required parameter but is null or undefined.");let o=new Map;o.set("create",n),o.set("username",i);n=JSON.stringify(r||{});let u=this.buildFullUrl(this.basePath,"/v2/account/authenticate/custom",o),d=J("POST",a,n);return d.headers.Authorization="Basic "+Q(e+":"+t),Promise.race([fetch(u,d).then(h=>{if(204==h.status)return h;if(200<=h.status&&h.status<300)return h.json();throw h}),new Promise((h,m)=>setTimeout(m,this.timeoutMs,"Request timed out."))])}authenticateDevice(e,t,r,n,i,a={}){if(null==r)throw new Error("'body' is a required parameter but is null or undefined.");let o=new Map;o.set("create",n),o.set("username",i);n=JSON.stringify(r||{});let u=this.buildFullUrl(this.basePath,"/v2/account/authenticate/device",o),d=J("POST",a,n);return d.headers.Authorization="Basic "+Q(e+":"+t),Promise.race([fetch(u,d).then(h=>{if(204==h.status)return h;if(200<=h.status&&h.status<300)return h.json();throw h}),new Promise((h,m)=>setTimeout(m,this.timeoutMs,"Request timed out."))])}authenticateEmail(e,t,r,n,i,a={}){if(null==r)throw new Error("'body' is a required parameter but is null or undefined.");let o=new Map;o.set("create",n),o.set("username",i);n=JSON.stringify(r||{});let u=this.buildFullUrl(this.basePath,"/v2/account/authenticate/email",o),d=J("POST",a,n);return d.headers.Authorization="Basic "+Q(e+":"+t),Promise.race([fetch(u,d).then(h=>{if(204==h.status)return h;if(200<=h.status&&h.status<300)return h.json();throw h}),new Promise((h,m)=>setTimeout(m,this.timeoutMs,"Request timed out."))])}authenticateFacebook(e,t,r,n,i,a,l={}){if(null==r)throw new Error("'body' is a required parameter but is null or undefined.");let s=new Map;s.set("create",n),s.set("username",i),s.set("sync",a);n=JSON.stringify(r||{});let d=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebook",s),h=J("POST",l,n);return h.headers.Authorization="Basic "+Q(e+":"+t),Promise.race([fetch(d,h).then(m=>{if(204==m.status)return m;if(200<=m.status&&m.status<300)return m.json();throw m}),new Promise((m,p)=>setTimeout(p,this.timeoutMs,"Request timed out."))])}authenticateFacebookInstantGame(e,t,r,n,i,a={}){if(null==r)throw new Error("'body' is a required parameter but is null or undefined.");let o=new Map;o.set("create",n),o.set("username",i);n=JSON.stringify(r||{});let u=this.buildFullUrl(this.basePath,"/v2/account/authenticate/facebookinstantgame",o),d=J("POST",a,n);return d.headers.Authorization="Basic "+Q(e+":"+t),Promise.race([fetch(u,d).then(h=>{if(204==h.status)return h;if(200<=h.status&&h.status<300)return h.json();throw h}),new Promise((h,m)=>setTimeout(m,this.timeoutMs,"Request timed out."))])}authenticateGameCenter(e,t,r,n,i,a={}){if(null==r)throw new Error("'body' is a required parameter but is null or undefined.");let o=new Map;o.set("create",n),o.set("username",i);n=JSON.stringify(r||{});let u=this.buildFullUrl(this.basePath,"/v2/account/authenticate/gamecenter",o),d=J("POST",a,n);return d.headers.Authorization="Basic "+Q(e+":"+t),Promise.race([fetch(u,d).then(h=>{if(204==h.status)return h;if(200<=h.status&&h.status<300)return h.json();throw h}),new Promise((h,m)=>setTimeout(m,this.timeoutMs,"Request timed out."))])}authenticateGoogle(e,t,r,n,i,a={}){if(null==r)throw new Error("'body' is a required parameter but is null or undefined.");let o=new Map;o.set("create",n),o.set("username",i);n=JSON.stringify(r||{});let u=this.buildFullUrl(this.basePath,"/v2/account/authenticate/google",o),d=J("POST",a,n);return d.headers.Authorization="Basic "+Q(e+":"+t),Promise.race([fetch(u,d).then(h=>{if(204==h.status)return h;if(200<=h.status&&h.status<300)return h.json();throw h}),new Promise((h,m)=>setTimeout(m,this.timeoutMs,"Request timed out."))])}authenticateSteam(e,t,r,n,i,a,l={}){if(null==r)throw new Error("'body' is a required parameter but is null or undefined.");let s=new Map;s.set("create",n),s.set("username",i),s.set("sync",a);n=JSON.stringify(r||{});let d=this.buildFullUrl(this.basePath,"/v2/account/authenticate/steam",s),h=J("POST",l,n);return h.headers.Authorization="Basic "+Q(e+":"+t),Promise.race([fetch(d,h).then(m=>{if(204==m.status)return m;if(200<=m.status&&m.status<300)return m.json();throw m}),new Promise((m,p)=>setTimeout(p,this.timeoutMs,"Request timed out."))])}linkApple(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");var i=new Map,t=JSON.stringify(t||{});let l=this.buildFullUrl(this.basePath,"/v2/account/link/apple",i),o=J("POST",r,t);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}linkCustom(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");var i=new Map,t=JSON.stringify(t||{});let l=this.buildFullUrl(this.basePath,"/v2/account/link/custom",i),o=J("POST",r,t);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}linkDevice(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");var i=new Map,t=JSON.stringify(t||{});let l=this.buildFullUrl(this.basePath,"/v2/account/link/device",i),o=J("POST",r,t);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}linkEmail(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");var i=new Map,t=JSON.stringify(t||{});let l=this.buildFullUrl(this.basePath,"/v2/account/link/email",i),o=J("POST",r,t);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}linkFacebook(e,t,r,n={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");let a=new Map;a.set("sync",r);r=JSON.stringify(t||{});let o=this.buildFullUrl(this.basePath,"/v2/account/link/facebook",a),s=J("POST",n,r);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(o,s).then(u=>{if(204==u.status)return u;if(200<=u.status&&u.status<300)return u.json();throw u}),new Promise((u,d)=>setTimeout(d,this.timeoutMs,"Request timed out."))])}linkFacebookInstantGame(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");var i=new Map,t=JSON.stringify(t||{});let l=this.buildFullUrl(this.basePath,"/v2/account/link/facebookinstantgame",i),o=J("POST",r,t);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}linkGameCenter(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");var i=new Map,t=JSON.stringify(t||{});let l=this.buildFullUrl(this.basePath,"/v2/account/link/gamecenter",i),o=J("POST",r,t);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}linkGoogle(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");var i=new Map,t=JSON.stringify(t||{});let l=this.buildFullUrl(this.basePath,"/v2/account/link/google",i),o=J("POST",r,t);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}linkSteam(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");var i=new Map,t=JSON.stringify(t||{});let l=this.buildFullUrl(this.basePath,"/v2/account/link/steam",i),o=J("POST",r,t);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}sessionRefresh(e,t,r,n={}){if(null==r)throw new Error("'body' is a required parameter but is null or undefined.");var a=new Map,r=JSON.stringify(r||{});let o=this.buildFullUrl(this.basePath,"/v2/account/session/refresh",a),s=J("POST",n,r);return s.headers.Authorization="Basic "+Q(e+":"+t),Promise.race([fetch(o,s).then(u=>{if(204==u.status)return u;if(200<=u.status&&u.status<300)return u.json();throw u}),new Promise((u,d)=>setTimeout(d,this.timeoutMs,"Request timed out."))])}unlinkApple(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");var i=new Map,t=JSON.stringify(t||{});let l=this.buildFullUrl(this.basePath,"/v2/account/unlink/apple",i),o=J("POST",r,t);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}unlinkCustom(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");var i=new Map,t=JSON.stringify(t||{});let l=this.buildFullUrl(this.basePath,"/v2/account/unlink/custom",i),o=J("POST",r,t);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}unlinkDevice(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");var i=new Map,t=JSON.stringify(t||{});let l=this.buildFullUrl(this.basePath,"/v2/account/unlink/device",i),o=J("POST",r,t);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}unlinkEmail(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");var i=new Map,t=JSON.stringify(t||{});let l=this.buildFullUrl(this.basePath,"/v2/account/unlink/email",i),o=J("POST",r,t);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}unlinkFacebook(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");var i=new Map,t=JSON.stringify(t||{});let l=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebook",i),o=J("POST",r,t);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}unlinkFacebookInstantGame(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");var i=new Map,t=JSON.stringify(t||{});let l=this.buildFullUrl(this.basePath,"/v2/account/unlink/facebookinstantgame",i),o=J("POST",r,t);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}unlinkGameCenter(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");var i=new Map,t=JSON.stringify(t||{});let l=this.buildFullUrl(this.basePath,"/v2/account/unlink/gamecenter",i),o=J("POST",r,t);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}unlinkGoogle(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");var i=new Map,t=JSON.stringify(t||{});let l=this.buildFullUrl(this.basePath,"/v2/account/unlink/google",i),o=J("POST",r,t);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}unlinkSteam(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");var i=new Map,t=JSON.stringify(t||{});let l=this.buildFullUrl(this.basePath,"/v2/account/unlink/steam",i),o=J("POST",r,t);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}listChannelMessages(e,t,r,n,i,a={}){if(null==t)throw new Error("'channelId' is a required parameter but is null or undefined.");let l="/v2/channel/{channelId}".replace("{channelId}",encodeURIComponent(String(t))),o=new Map,u=(o.set("limit",r),o.set("forward",n),o.set("cursor",i),this.buildFullUrl(this.basePath,l,o)),d=J("GET",a,"");return e&&(d.headers.Authorization="Bearer "+e),Promise.race([fetch(u,d).then(h=>{if(204==h.status)return h;if(200<=h.status&&h.status<300)return h.json();throw h}),new Promise((h,m)=>setTimeout(m,this.timeoutMs,"Request timed out."))])}event(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");var i=new Map,t=JSON.stringify(t||{});let l=this.buildFullUrl(this.basePath,"/v2/event",i),o=J("POST",r,t);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}deleteFriends(e,t,r,n={}){let a=new Map,o=(a.set("ids",t),a.set("usernames",r),this.buildFullUrl(this.basePath,"/v2/friend",a)),s=J("DELETE",n,"");return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(o,s).then(u=>{if(204==u.status)return u;if(200<=u.status&&u.status<300)return u.json();throw u}),new Promise((u,d)=>setTimeout(d,this.timeoutMs,"Request timed out."))])}listFriends(e,t,r,n,i={}){let l=new Map,s=(l.set("limit",t),l.set("state",r),l.set("cursor",n),this.buildFullUrl(this.basePath,"/v2/friend",l)),u=J("GET",i,"");return e&&(u.headers.Authorization="Bearer "+e),Promise.race([fetch(s,u).then(d=>{if(204==d.status)return d;if(200<=d.status&&d.status<300)return d.json();throw d}),new Promise((d,h)=>setTimeout(h,this.timeoutMs,"Request timed out."))])}addFriends(e,t,r,n={}){let a=new Map,o=(a.set("ids",t),a.set("usernames",r),this.buildFullUrl(this.basePath,"/v2/friend",a)),s=J("POST",n,"");return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(o,s).then(u=>{if(204==u.status)return u;if(200<=u.status&&u.status<300)return u.json();throw u}),new Promise((u,d)=>setTimeout(d,this.timeoutMs,"Request timed out."))])}blockFriends(e,t,r,n={}){let a=new Map,o=(a.set("ids",t),a.set("usernames",r),this.buildFullUrl(this.basePath,"/v2/friend/block",a)),s=J("POST",n,"");return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(o,s).then(u=>{if(204==u.status)return u;if(200<=u.status&&u.status<300)return u.json();throw u}),new Promise((u,d)=>setTimeout(d,this.timeoutMs,"Request timed out."))])}importFacebookFriends(e,t,r,n={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");let a=new Map;a.set("reset",r);r=JSON.stringify(t||{});let o=this.buildFullUrl(this.basePath,"/v2/friend/facebook",a),s=J("POST",n,r);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(o,s).then(u=>{if(204==u.status)return u;if(200<=u.status&&u.status<300)return u.json();throw u}),new Promise((u,d)=>setTimeout(d,this.timeoutMs,"Request timed out."))])}importSteamFriends(e,t,r,n={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");let a=new Map;a.set("reset",r);r=JSON.stringify(t||{});let o=this.buildFullUrl(this.basePath,"/v2/friend/steam",a),s=J("POST",n,r);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(o,s).then(u=>{if(204==u.status)return u;if(200<=u.status&&u.status<300)return u.json();throw u}),new Promise((u,d)=>setTimeout(d,this.timeoutMs,"Request timed out."))])}listGroups(e,t,r,n,i,a,l,o={}){let u=new Map,h=(u.set("name",t),u.set("cursor",r),u.set("limit",n),u.set("lang_tag",i),u.set("members",a),u.set("open",l),this.buildFullUrl(this.basePath,"/v2/group",u)),m=J("GET",o,"");return e&&(m.headers.Authorization="Bearer "+e),Promise.race([fetch(h,m).then(p=>{if(204==p.status)return p;if(200<=p.status&&p.status<300)return p.json();throw p}),new Promise((p,y)=>setTimeout(y,this.timeoutMs,"Request timed out."))])}createGroup(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");var i=new Map,t=JSON.stringify(t||{});let l=this.buildFullUrl(this.basePath,"/v2/group",i),o=J("POST",r,t);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}deleteGroup(e,t,r={}){if(null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");let n="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(t))),i=new Map,l=this.buildFullUrl(this.basePath,n,i),o=J("DELETE",r,"");return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}updateGroup(e,t,r,n={}){if(null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");if(null==r)throw new Error("'body' is a required parameter but is null or undefined.");var t="/v2/group/{groupId}".replace("{groupId}",encodeURIComponent(String(t))),a=new Map,r=JSON.stringify(r||{});let o=this.buildFullUrl(this.basePath,t,a),s=J("PUT",n,r);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(o,s).then(u=>{if(204==u.status)return u;if(200<=u.status&&u.status<300)return u.json();throw u}),new Promise((u,d)=>setTimeout(d,this.timeoutMs,"Request timed out."))])}addGroupUsers(e,t,r,n={}){if(null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");let i="/v2/group/{groupId}/add".replace("{groupId}",encodeURIComponent(String(t))),a=new Map,o=(a.set("user_ids",r),this.buildFullUrl(this.basePath,i,a)),s=J("POST",n,"");return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(o,s).then(u=>{if(204==u.status)return u;if(200<=u.status&&u.status<300)return u.json();throw u}),new Promise((u,d)=>setTimeout(d,this.timeoutMs,"Request timed out."))])}banGroupUsers(e,t,r,n={}){if(null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");let i="/v2/group/{groupId}/ban".replace("{groupId}",encodeURIComponent(String(t))),a=new Map,o=(a.set("user_ids",r),this.buildFullUrl(this.basePath,i,a)),s=J("POST",n,"");return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(o,s).then(u=>{if(204==u.status)return u;if(200<=u.status&&u.status<300)return u.json();throw u}),new Promise((u,d)=>setTimeout(d,this.timeoutMs,"Request timed out."))])}demoteGroupUsers(e,t,r,n={}){if(null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");if(null==r)throw new Error("'userIds' is a required parameter but is null or undefined.");let i="/v2/group/{groupId}/demote".replace("{groupId}",encodeURIComponent(String(t))),a=new Map,o=(a.set("user_ids",r),this.buildFullUrl(this.basePath,i,a)),s=J("POST",n,"");return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(o,s).then(u=>{if(204==u.status)return u;if(200<=u.status&&u.status<300)return u.json();throw u}),new Promise((u,d)=>setTimeout(d,this.timeoutMs,"Request timed out."))])}joinGroup(e,t,r={}){if(null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");let n="/v2/group/{groupId}/join".replace("{groupId}",encodeURIComponent(String(t))),i=new Map,l=this.buildFullUrl(this.basePath,n,i),o=J("POST",r,"");return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}kickGroupUsers(e,t,r,n={}){if(null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");let i="/v2/group/{groupId}/kick".replace("{groupId}",encodeURIComponent(String(t))),a=new Map,o=(a.set("user_ids",r),this.buildFullUrl(this.basePath,i,a)),s=J("POST",n,"");return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(o,s).then(u=>{if(204==u.status)return u;if(200<=u.status&&u.status<300)return u.json();throw u}),new Promise((u,d)=>setTimeout(d,this.timeoutMs,"Request timed out."))])}leaveGroup(e,t,r={}){if(null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");let n="/v2/group/{groupId}/leave".replace("{groupId}",encodeURIComponent(String(t))),i=new Map,l=this.buildFullUrl(this.basePath,n,i),o=J("POST",r,"");return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}promoteGroupUsers(e,t,r,n={}){if(null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");let i="/v2/group/{groupId}/promote".replace("{groupId}",encodeURIComponent(String(t))),a=new Map,o=(a.set("user_ids",r),this.buildFullUrl(this.basePath,i,a)),s=J("POST",n,"");return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(o,s).then(u=>{if(204==u.status)return u;if(200<=u.status&&u.status<300)return u.json();throw u}),new Promise((u,d)=>setTimeout(d,this.timeoutMs,"Request timed out."))])}listGroupUsers(e,t,r,n,i,a={}){if(null==t)throw new Error("'groupId' is a required parameter but is null or undefined.");let l="/v2/group/{groupId}/user".replace("{groupId}",encodeURIComponent(String(t))),o=new Map,u=(o.set("limit",r),o.set("state",n),o.set("cursor",i),this.buildFullUrl(this.basePath,l,o)),d=J("GET",a,"");return e&&(d.headers.Authorization="Bearer "+e),Promise.race([fetch(u,d).then(h=>{if(204==h.status)return h;if(200<=h.status&&h.status<300)return h.json();throw h}),new Promise((h,m)=>setTimeout(m,this.timeoutMs,"Request timed out."))])}validatePurchaseApple(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");var i=new Map,t=JSON.stringify(t||{});let l=this.buildFullUrl(this.basePath,"/v2/iap/purchase/apple",i),o=J("POST",r,t);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}validatePurchaseGoogle(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");var i=new Map,t=JSON.stringify(t||{});let l=this.buildFullUrl(this.basePath,"/v2/iap/purchase/google",i),o=J("POST",r,t);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}validatePurchaseHuawei(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");var i=new Map,t=JSON.stringify(t||{});let l=this.buildFullUrl(this.basePath,"/v2/iap/purchase/huawei",i),o=J("POST",r,t);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}deleteLeaderboardRecord(e,t,r={}){if(null==t)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");let n="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(t))),i=new Map,l=this.buildFullUrl(this.basePath,n,i),o=J("DELETE",r,"");return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}listLeaderboardRecords(e,t,r,n,i,a,l={}){if(null==t)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");let o="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(t))),s=new Map,d=(s.set("owner_ids",r),s.set("limit",n),s.set("cursor",i),s.set("expiry",a),this.buildFullUrl(this.basePath,o,s)),h=J("GET",l,"");return e&&(h.headers.Authorization="Bearer "+e),Promise.race([fetch(d,h).then(m=>{if(204==m.status)return m;if(200<=m.status&&m.status<300)return m.json();throw m}),new Promise((m,p)=>setTimeout(p,this.timeoutMs,"Request timed out."))])}writeLeaderboardRecord(e,t,r,n={}){if(null==t)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==r)throw new Error("'body' is a required parameter but is null or undefined.");var t="/v2/leaderboard/{leaderboardId}".replace("{leaderboardId}",encodeURIComponent(String(t))),a=new Map,r=JSON.stringify(r||{});let o=this.buildFullUrl(this.basePath,t,a),s=J("POST",n,r);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(o,s).then(u=>{if(204==u.status)return u;if(200<=u.status&&u.status<300)return u.json();throw u}),new Promise((u,d)=>setTimeout(d,this.timeoutMs,"Request timed out."))])}listLeaderboardRecordsAroundOwner(e,t,r,n,i,a={}){if(null==t)throw new Error("'leaderboardId' is a required parameter but is null or undefined.");if(null==r)throw new Error("'ownerId' is a required parameter but is null or undefined.");let l="/v2/leaderboard/{leaderboardId}/owner/{ownerId}".replace("{leaderboardId}",encodeURIComponent(String(t))).replace("{ownerId}",encodeURIComponent(String(r))),o=new Map,u=(o.set("limit",n),o.set("expiry",i),this.buildFullUrl(this.basePath,l,o)),d=J("GET",a,"");return e&&(d.headers.Authorization="Bearer "+e),Promise.race([fetch(u,d).then(h=>{if(204==h.status)return h;if(200<=h.status&&h.status<300)return h.json();throw h}),new Promise((h,m)=>setTimeout(m,this.timeoutMs,"Request timed out."))])}listMatches(e,t,r,n,i,a,l,o={}){let u=new Map,h=(u.set("limit",t),u.set("authoritative",r),u.set("label",n),u.set("min_size",i),u.set("max_size",a),u.set("query",l),this.buildFullUrl(this.basePath,"/v2/match",u)),m=J("GET",o,"");return e&&(m.headers.Authorization="Bearer "+e),Promise.race([fetch(h,m).then(p=>{if(204==p.status)return p;if(200<=p.status&&p.status<300)return p.json();throw p}),new Promise((p,y)=>setTimeout(y,this.timeoutMs,"Request timed out."))])}deleteNotifications(e,t,r={}){let i=new Map,l=(i.set("ids",t),this.buildFullUrl(this.basePath,"/v2/notification",i)),o=J("DELETE",r,"");return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}listNotifications(e,t,r,n={}){let a=new Map,o=(a.set("limit",t),a.set("cacheable_cursor",r),this.buildFullUrl(this.basePath,"/v2/notification",a)),s=J("GET",n,"");return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(o,s).then(u=>{if(204==u.status)return u;if(200<=u.status&&u.status<300)return u.json();throw u}),new Promise((u,d)=>setTimeout(d,this.timeoutMs,"Request timed out."))])}rpcFunc2(e,t,r,n,i={}){if(null==t)throw new Error("'id' is a required parameter but is null or undefined.");let a="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(t))),l=new Map,s=(l.set("payload",r),l.set("http_key",n),this.buildFullUrl(this.basePath,a,l)),u=J("GET",i,"");return e&&(u.headers.Authorization="Bearer "+e),Promise.race([fetch(s,u).then(d=>{if(204==d.status)return d;if(200<=d.status&&d.status<300)return d.json();throw d}),new Promise((d,h)=>setTimeout(h,this.timeoutMs,"Request timed out."))])}rpcFunc(e,t,r,n,i={}){if(null==t)throw new Error("'id' is a required parameter but is null or undefined.");if(null==r)throw new Error("'body' is a required parameter but is null or undefined.");let a="/v2/rpc/{id}".replace("{id}",encodeURIComponent(String(t))),l=new Map;l.set("http_key",n);t=JSON.stringify(r||{});let s=this.buildFullUrl(this.basePath,a,l),u=J("POST",i,t);return e&&(u.headers.Authorization="Bearer "+e),Promise.race([fetch(s,u).then(d=>{if(204==d.status)return d;if(200<=d.status&&d.status<300)return d.json();throw d}),new Promise((d,h)=>setTimeout(h,this.timeoutMs,"Request timed out."))])}sessionLogout(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");var i=new Map,t=JSON.stringify(t||{});let l=this.buildFullUrl(this.basePath,"/v2/session/logout",i),o=J("POST",r,t);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}readStorageObjects(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");var i=new Map,t=JSON.stringify(t||{});let l=this.buildFullUrl(this.basePath,"/v2/storage",i),o=J("POST",r,t);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}writeStorageObjects(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");var i=new Map,t=JSON.stringify(t||{});let l=this.buildFullUrl(this.basePath,"/v2/storage",i),o=J("PUT",r,t);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}deleteStorageObjects(e,t,r={}){if(null==t)throw new Error("'body' is a required parameter but is null or undefined.");var i=new Map,t=JSON.stringify(t||{});let l=this.buildFullUrl(this.basePath,"/v2/storage/delete",i),o=J("PUT",r,t);return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}listStorageObjects(e,t,r,n,i,a={}){if(null==t)throw new Error("'collection' is a required parameter but is null or undefined.");let l="/v2/storage/{collection}".replace("{collection}",encodeURIComponent(String(t))),o=new Map,u=(o.set("user_id",r),o.set("limit",n),o.set("cursor",i),this.buildFullUrl(this.basePath,l,o)),d=J("GET",a,"");return e&&(d.headers.Authorization="Bearer "+e),Promise.race([fetch(u,d).then(h=>{if(204==h.status)return h;if(200<=h.status&&h.status<300)return h.json();throw h}),new Promise((h,m)=>setTimeout(m,this.timeoutMs,"Request timed out."))])}listStorageObjects2(e,t,r,n,i,a={}){if(null==t)throw new Error("'collection' is a required parameter but is null or undefined.");if(null==r)throw new Error("'userId' is a required parameter but is null or undefined.");let l="/v2/storage/{collection}/{userId}".replace("{collection}",encodeURIComponent(String(t))).replace("{userId}",encodeURIComponent(String(r))),o=new Map,u=(o.set("limit",n),o.set("cursor",i),this.buildFullUrl(this.basePath,l,o)),d=J("GET",a,"");return e&&(d.headers.Authorization="Bearer "+e),Promise.race([fetch(u,d).then(h=>{if(204==h.status)return h;if(200<=h.status&&h.status<300)return h.json();throw h}),new Promise((h,m)=>setTimeout(m,this.timeoutMs,"Request timed out."))])}listTournaments(e,t,r,n,i,a,l,o={}){let u=new Map,h=(u.set("category_start",t),u.set("category_end",r),u.set("start_time",n),u.set("end_time",i),u.set("limit",a),u.set("cursor",l),this.buildFullUrl(this.basePath,"/v2/tournament",u)),m=J("GET",o,"");return e&&(m.headers.Authorization="Bearer "+e),Promise.race([fetch(h,m).then(p=>{if(204==p.status)return p;if(200<=p.status&&p.status<300)return p.json();throw p}),new Promise((p,y)=>setTimeout(y,this.timeoutMs,"Request timed out."))])}listTournamentRecords(e,t,r,n,i,a,l={}){if(null==t)throw new Error("'tournamentId' is a required parameter but is null or undefined.");let o="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(t))),s=new Map,d=(s.set("owner_ids",r),s.set("limit",n),s.set("cursor",i),s.set("expiry",a),this.buildFullUrl(this.basePath,o,s)),h=J("GET",l,"");return e&&(h.headers.Authorization="Bearer "+e),Promise.race([fetch(d,h).then(m=>{if(204==m.status)return m;if(200<=m.status&&m.status<300)return m.json();throw m}),new Promise((m,p)=>setTimeout(p,this.timeoutMs,"Request timed out."))])}writeTournamentRecord2(e,t,r,n={}){if(null==t)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==r)throw new Error("'body' is a required parameter but is null or undefined.");var t="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(t))),a=new Map,r=JSON.stringify(r||{});let o=this.buildFullUrl(this.basePath,t,a),s=J("POST",n,r);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(o,s).then(u=>{if(204==u.status)return u;if(200<=u.status&&u.status<300)return u.json();throw u}),new Promise((u,d)=>setTimeout(d,this.timeoutMs,"Request timed out."))])}writeTournamentRecord(e,t,r,n={}){if(null==t)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==r)throw new Error("'body' is a required parameter but is null or undefined.");var t="/v2/tournament/{tournamentId}".replace("{tournamentId}",encodeURIComponent(String(t))),a=new Map,r=JSON.stringify(r||{});let o=this.buildFullUrl(this.basePath,t,a),s=J("PUT",n,r);return e&&(s.headers.Authorization="Bearer "+e),Promise.race([fetch(o,s).then(u=>{if(204==u.status)return u;if(200<=u.status&&u.status<300)return u.json();throw u}),new Promise((u,d)=>setTimeout(d,this.timeoutMs,"Request timed out."))])}joinTournament(e,t,r={}){if(null==t)throw new Error("'tournamentId' is a required parameter but is null or undefined.");let n="/v2/tournament/{tournamentId}/join".replace("{tournamentId}",encodeURIComponent(String(t))),i=new Map,l=this.buildFullUrl(this.basePath,n,i),o=J("POST",r,"");return e&&(o.headers.Authorization="Bearer "+e),Promise.race([fetch(l,o).then(s=>{if(204==s.status)return s;if(200<=s.status&&s.status<300)return s.json();throw s}),new Promise((s,u)=>setTimeout(u,this.timeoutMs,"Request timed out."))])}listTournamentRecordsAroundOwner(e,t,r,n,i,a={}){if(null==t)throw new Error("'tournamentId' is a required parameter but is null or undefined.");if(null==r)throw new Error("'ownerId' is a required parameter but is null or undefined.");let l="/v2/tournament/{tournamentId}/owner/{ownerId}".replace("{tournamentId}",encodeURIComponent(String(t))).replace("{ownerId}",encodeURIComponent(String(r))),o=new Map,u=(o.set("limit",n),o.set("expiry",i),this.buildFullUrl(this.basePath,l,o)),d=J("GET",a,"");return e&&(d.headers.Authorization="Bearer "+e),Promise.race([fetch(u,d).then(h=>{if(204==h.status)return h;if(200<=h.status&&h.status<300)return h.json();throw h}),new Promise((h,m)=>setTimeout(m,this.timeoutMs,"Request timed out."))])}getUsers(e,t,r,n,i={}){let l=new Map,s=(l.set("ids",t),l.set("usernames",r),l.set("facebook_ids",n),this.buildFullUrl(this.basePath,"/v2/user",l)),u=J("GET",i,"");return e&&(u.headers.Authorization="Bearer "+e),Promise.race([fetch(s,u).then(d=>{if(204==d.status)return d;if(200<=d.status&&d.status<300)return d.json();throw d}),new Promise((d,h)=>setTimeout(h,this.timeoutMs,"Request timed out."))])}listUserGroups(e,t,r,n,i,a={}){if(null==t)throw new Error("'userId' is a required parameter but is null or undefined.");let l="/v2/user/{userId}/group".replace("{userId}",encodeURIComponent(String(t))),o=new Map,u=(o.set("limit",r),o.set("state",n),o.set("cursor",i),this.buildFullUrl(this.basePath,l,o)),d=J("GET",a,"");return e&&(d.headers.Authorization="Bearer "+e),Promise.race([fetch(u,d).then(h=>{if(204==h.status)return h;if(200<=h.status&&h.status<300)return h.json();throw h}),new Promise((h,m)=>setTimeout(m,this.timeoutMs,"Request timed out."))])}buildFullUrl(e,t,r){let n=e+t+"?";for(let[i,a]of r)a instanceof Array?n+=a.reduce((l,o)=>l+encodeURIComponent(i)+"="+encodeURIComponent(o)+"&",""):null!=a&&(n+=encodeURIComponent(i)+"="+encodeURIComponent(a)+"&");return n}},X=class{constructor(e,t,r){this.created=r,this.token=e,this.refresh_token=t,this.created_at=Math.floor((new Date).getTime()/1e3),this.update(e,t)}isexpired(e){return this.expires_at-e<0}isrefreshexpired(e){return this.refresh_expires_at-e<0}update(e,t){var r=e.split(".");if(3!=r.length)throw"jwt is not valid.";var r=JSON.parse(Qr(r[1])),i=Math.floor(parseInt(r.exp));if(t){var a=t.split(".");if(3!=a.length)throw"refresh jwt is not valid.";a=JSON.parse(Qr(a[1])),a=Math.floor(parseInt(a.exp));this.refresh_expires_at=a,this.refresh_token=t}this.token=e,this.expires_at=i,this.username=r.usn,this.user_id=r.uid,this.vars=r.vrs}static restore(e,t){return new X(e,t,!1)}},se="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",he="undefined"==typeof Uint8Array?[]:new Uint8Array(256),de=0;de<se.length;de++)he[se.charCodeAt(de)]=de;var de,jr=function(e){for(var t=new Uint8Array(e),n=t.length,i="",r=0;r<n;r+=3)i=(i=(i=(i+=se[t[r]>>2])+se[(3&t[r])<<4|t[r+1]>>4])+se[(15&t[r+1])<<2|t[r+2]>>6])+se[63&t[r+2]];return n%3==2?i=i.substring(0,i.length-1)+"=":n%3==1&&(i=i.substring(0,i.length-2)+"=="),i},ei=function(e){for(var a,l,o,s,t=.75*e.length,r=e.length,i=0,t=("="===e[e.length-1]&&(t--,"="===e[e.length-2]&&t--),new ArrayBuffer(t)),d=new Uint8Array(t),n=0;n<r;n+=4)a=he[e.charCodeAt(n)],l=he[e.charCodeAt(n+1)],o=he[e.charCodeAt(n+2)],s=he[e.charCodeAt(n+3)],d[i++]=a<<2|l>>4,d[i++]=(15&l)<<4|o>>2,d[i++]=(3&o)<<6|63&s;return t},mt=class{constructor(){this._isConnected=!1}get onClose(){return this._socket.onclose}set onClose(e){this._socket.onclose=e}get onError(){return this._socket.onerror}set onError(e){this._socket.onerror=e}get onMessage(){return this._socket.onmessage}set onMessage(e){e?this._socket.onmessage=t=>{let r=JSON.parse(t.data);r.match_data&&r.match_data.data?r.match_data.data=new Uint8Array(ei(r.match_data.data)):r.party_data&&r.party_data.data&&(r.party_data.data=new Uint8Array(ei(r.party_data.data))),e(r)}:e=null}get onOpen(){return this._socket.onopen}set onOpen(e){this._socket.onopen=e}get isConnected(){return this._isConnected}connect(e,t,r,n,i){e=""+e+t+`:${r}/ws?lang=en&status=${encodeURIComponent(n.toString())}&token=`+encodeURIComponent(i);this._socket=new WebSocket(e),this._isConnected=!0}close(){this._isConnected=!1,this._socket.close(),this._socket=void 0}send(e){if(e.match_data_send){e.match_data_send.op_code=e.match_data_send.op_code.toString();var t=e.match_data_send.data;t&&t instanceof Uint8Array?e.match_data_send.data=jr(t.buffer):t&&(e.match_data_send.data=_t(t))}else if(e.party_data_send){e.party_data_send.op_code=e.party_data_send.op_code.toString();let t=e.party_data_send.data;t&&t instanceof Uint8Array?e.party_data_send.data=jr(t.buffer):t&&(e.party_data_send.data=_t(t))}this._socket.send(JSON.stringify(e))}},tn=class{constructor(e,t,r=!1,n=!1,i=new mt){this.host=e,this.port=t,this.useSSL=r,this.verbose=n,this.adapter=i,this.cIds={},this.nextCid=1}generatecid(){var e=this.nextCid.toString();return++this.nextCid,e}connect(e,t=!1){if(this.adapter.isConnected)return Promise.resolve(e);var r=this.useSSL?"wss://":"ws://";return this.adapter.connect(r,this.host,this.port,t,e.token),this.adapter.onClose=n=>{this.ondisconnect(n)},this.adapter.onError=n=>{this.onerror(n)},this.adapter.onMessage=n=>{if(this.verbose&&window&&window.console,n.cid){let i=this.cIds[n.cid];i?(delete this.cIds[n.cid],n.error?i.reject(n.error):i.resolve(n)):this.verbose&&window&&window.console}else n.notifications?n.notifications.notifications.forEach(i=>{i.content=i.content?JSON.parse(i.content):void 0,this.onnotification(i)}):n.match_data?(n.match_data.op_code=parseInt(n.match_data.op_code),this.onmatchdata(n.match_data)):n.match_presence_event?this.onmatchpresence(n.match_presence_event):n.matchmaker_ticket?this.onmatchmakerticket(n.matchmaker_ticket):n.matchmaker_matched?this.onmatchmakermatched(n.matchmaker_matched):n.status_presence_event?this.onstatuspresence(n.status_presence_event):n.stream_presence_event?this.onstreampresence(n.stream_presence_event):n.stream_data?this.onstreamdata(n.stream_data):n.channel_message?(n.channel_message.content=JSON.parse(n.channel_message.content),this.onchannelmessage(n.channel_message)):n.channel_presence_event?this.onchannelpresence(n.channel_presence_event):n.party_data?(n.party_data.op_code=parseInt(n.party_data.op_code),this.onpartydata(n.party_data)):n.on_party_close?this.onpartyclose():n.party_join_request?this.onpartyjoinrequest(n.party_join_request):n.party_leader?this.onpartyleader(n.party_leader):n.party_matchmaker_ticket?this.onpartymatchmakerticket(n.party_matchmaker_ticket):n.party_presence_event?this.onpartypresence(n.party_presence_event):n.party?this.onparty(n.party):this.verbose&&window&&window.console},new Promise((n,i)=>{this.adapter.onOpen=a=>{this.verbose&&window&&window.console,n(e)},this.adapter.onError=a=>{i(a),this.adapter.close()}})}disconnect(e=!0){this.adapter.isConnected&&this.adapter.close(),e&&this.ondisconnect({})}ondisconnect(e){this.verbose&&window&&window.console}onerror(e){this.verbose&&window&&window.console}onchannelmessage(e){this.verbose&&window&&window.console}onchannelpresence(e){this.verbose&&window&&window.console}onnotification(e){this.verbose&&window&&window.console}onmatchdata(e){this.verbose&&window&&window.console}onmatchpresence(e){this.verbose&&window&&window.console}onmatchmakerticket(e){this.verbose&&window&&window.console}onmatchmakermatched(e){this.verbose&&window&&window.console}onparty(e){this.verbose&&window&&window.console}onpartyclose(){this.verbose&&window&&window.console}onpartyjoinrequest(e){this.verbose&&window&&window.console}onpartydata(e){this.verbose&&window&&window.console}onpartyleader(e){this.verbose&&window&&window.console}onpartymatchmakerticket(e){this.verbose&&window&&window.console}onpartypresence(e){this.verbose&&window&&window.console}onstatuspresence(e){this.verbose&&window&&window.console}onstreampresence(e){this.verbose&&window&&window.console}onstreamdata(e){this.verbose&&window&&window.console}send(e){let t=e;return new Promise((r,n)=>{var i;this.adapter.isConnected?t.match_data_send||t.party_data_send?(this.adapter.send(t),r()):(t.channel_message_send?t.channel_message_send.content=JSON.stringify(t.channel_message_send.content):t.channel_message_update&&(t.channel_message_update.content=JSON.stringify(t.channel_message_update.content)),i=this.generatecid(),this.cIds[i]={resolve:r,reject:n},t.cid=i,this.adapter.send(t)):n("Socket connection has not been established yet."),this.verbose&&window&&window.console})}acceptPartyMember(e,t){return this.send({party_accept:{party_id:e,presence:t}})}addMatchmaker(e,t,r,n,i){return N(this,null,function*(){return(yield this.send({matchmaker_add:{min_count:t,max_count:r,query:e,string_properties:n,numeric_properties:i}})).matchmaker_ticket})}addMatchmakerParty(e,t,r,n,i,a){return N(this,null,function*(){return(yield this.send({party_matchmaker_add:{party_id:e,min_count:r,max_count:n,query:t,string_properties:i,numeric_properties:a}})).party_matchmaker_ticket})}closeParty(e){return N(this,null,function*(){return yield this.send({party_close:{party_id:e}})})}createMatch(){return N(this,null,function*(){return(yield this.send({match_create:{}})).match})}createParty(e,t){return N(this,null,function*(){return(yield this.send({party_create:{open:e,max_size:t}})).party})}followUsers(e){return N(this,null,function*(){return(yield this.send({status_follow:{user_ids:e}})).status})}joinChat(e,t,r,n){return N(this,null,function*(){return(yield this.send({channel_join:{target:e,type:t,persistence:r,hidden:n}})).channel})}joinMatch(e,t,r){return N(this,null,function*(){let n={match_join:{metadata:r}};return t?n.match_join.token=t:n.match_join.match_id=e,(yield this.send(n)).match})}joinParty(e){return N(this,null,function*(){return yield this.send({party_join:{party_id:e}})})}leaveChat(e){return this.send({channel_leave:{channel_id:e}})}leaveMatch(e){return this.send({match_leave:{match_id:e}})}leaveParty(e){return this.send({party_leave:{party_id:e}})}listPartyJoinRequests(e){return N(this,null,function*(){return(yield this.send({party_join_request_list:{party_id:e}})).party_join_request})}promotePartyMember(e,t){return N(this,null,function*(){return(yield this.send({party_promote:{party_id:e,presence:t}})).party_leader})}removeChatMessage(e,t){return N(this,null,function*(){return(yield this.send({channel_message_remove:{channel_id:e,message_id:t}})).channel_message_ack})}removeMatchmaker(e){return this.send({matchmaker_remove:{ticket:e}})}removeMatchmakerParty(e,t){return this.send({party_matchmaker_remove:{party_id:e,ticket:t}})}removePartyMember(e,t){return N(this,null,function*(){return this.send({party_remove:{party_id:e,presence:t}})})}rpc(e,t,r){return N(this,null,function*(){return(yield this.send({rpc:{id:e,payload:t,http_key:r}})).rpc})}sendMatchState(e,t,r,n,i){return N(this,null,function*(){return this.send({match_data_send:{match_id:e,op_code:t,data:r,presences:null!=n?n:[],reliable:i}})})}sendPartyData(e,t,r){return this.send({party_data_send:{party_id:e,op_code:t,data:r}})}unfollowUsers(e){return this.send({status_unfollow:{user_ids:e}})}updateChatMessage(e,t,r){return N(this,null,function*(){return(yield this.send({channel_message_update:{channel_id:e,message_id:t,content:r}})).channel_message_ack})}updateStatus(e){return this.send({status_update:{status:e}})}writeChatMessage(e,t){return N(this,null,function*(){return(yield this.send({channel_message_send:{channel_id:e,content:t}})).channel_message_ack})}},rn="127.0.0.1",nn="7350",an="defaultkey",sn=7e3,on=3e5,ii=class{constructor(e=an,t=rn,r=nn,n=!1,i=sn,a=!0){this.serverkey=e,this.host=t,this.port=r,this.useSSL=n,this.timeout=i,this.autoRefreshSession=a,this.expiredTimespanMs=on,this.apiClient=new en(e,(n?"https://":"http://")+t+":"+r,i)}addGroupUsers(e,t,r){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.addGroupUsers(e.token,t,r).then(n=>void 0!==n)})}addFriends(e,t,r){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.addFriends(e.token,t,r).then(n=>void 0!==n)})}authenticateApple(e,t,r){return N(this,arguments,function*(n,i,a,l={},o={}){return this.apiClient.authenticateApple(this.serverkey,"",{token:n,vars:l},i,a,o).then(u=>new X(u.token||"",u.refresh_token||"",u.created||!1))})}authenticateCustom(e,t,r,n={},i={}){return this.apiClient.authenticateCustom(this.serverkey,"",{id:e,vars:n},t,r,i).then(l=>new X(l.token||"",l.refresh_token||"",l.created||!1))}authenticateDevice(e,t,r,n){return this.apiClient.authenticateDevice(this.serverkey,"",{id:e,vars:n},t,r).then(a=>new X(a.token||"",a.refresh_token||"",a.created||!1))}authenticateEmail(e,t,r,n,i){return this.apiClient.authenticateEmail(this.serverkey,"",{email:e,password:t,vars:i},r,n).then(l=>new X(l.token||"",l.refresh_token||"",l.created||!1))}authenticateFacebookInstantGame(e,t,r,n,i={}){e={signed_player_info:e,vars:n};return this.apiClient.authenticateFacebookInstantGame(this.serverkey,"",{signed_player_info:e.signed_player_info,vars:e.vars},t,r,i).then(l=>new X(l.token||"",l.refresh_token||"",l.created||!1))}authenticateFacebook(e,t,r,n,i,a={}){return this.apiClient.authenticateFacebook(this.serverkey,"",{token:e,vars:i},t,r,n,a).then(o=>new X(o.token||"",o.refresh_token||"",o.created||!1))}authenticateGoogle(e,t,r,n,i={}){return this.apiClient.authenticateGoogle(this.serverkey,"",{token:e,vars:n},t,r,i).then(l=>new X(l.token||"",l.refresh_token||"",l.created||!1))}authenticateGameCenter(e,t,r,n){return this.apiClient.authenticateGameCenter(this.serverkey,"",{token:e,vars:n},t,r).then(a=>new X(a.token||"",a.refresh_token||"",a.created||!1))}authenticateSteam(e,t,r,n,i){return N(this,null,function*(){return this.apiClient.authenticateSteam(this.serverkey,"",{token:e,vars:i,sync:n},t,r).then(l=>new X(l.token||"",l.refresh_token||"",l.created||!1))})}banGroupUsers(e,t,r){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.banGroupUsers(e.token,t,r).then(n=>void 0!==n)})}blockFriends(e,t,r){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.blockFriends(e.token,t,r).then(n=>Promise.resolve(null!=n))})}createGroup(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.createGroup(e.token,t).then(r=>Promise.resolve({avatar_url:r.avatar_url,create_time:r.create_time,creator_id:r.creator_id,description:r.description,edge_count:r.edge_count?Number(r.edge_count):0,id:r.id,lang_tag:r.lang_tag,max_count:r.max_count?Number(r.max_count):0,metadata:r.metadata?JSON.parse(r.metadata):void 0,name:r.name,open:r.open,update_time:r.update_time}))})}createSocket(e=!1,t=!1,r=new mt){return new tn(this.host,this.port,e,t,r)}deleteFriends(e,t,r){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.deleteFriends(e.token,t,r).then(n=>void 0!==n)})}deleteGroup(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.deleteGroup(e.token,t).then(r=>void 0!==r)})}deleteNotifications(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.deleteNotifications(e.token,t).then(r=>Promise.resolve(null!=r))})}deleteStorageObjects(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.deleteStorageObjects(e.token,t).then(r=>Promise.resolve(null!=r))})}demoteGroupUsers(e,t,r){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.demoteGroupUsers(e.token,t,r).then(n=>Promise.resolve(null!=n))})}emitEvent(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.event(e.token,t).then(r=>Promise.resolve(null!=r))})}getAccount(e){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.getAccount(e.token)})}importFacebookFriends(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.importFacebookFriends(e.token,t).then(r=>void 0!==r)})}importSteamFriends(e,t,r){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.importSteamFriends(e.token,t,r).then(n=>void 0!==n)})}getUsers(e,t,r,n){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.getUsers(e.token,t,r,n).then(i=>{var a={users:[]};return null!=i.users&&i.users.forEach(l=>{a.users.push({avatar_url:l.avatar_url,create_time:l.create_time,display_name:l.display_name,edge_count:l.edge_count?Number(l.edge_count):0,facebook_id:l.facebook_id,gamecenter_id:l.gamecenter_id,google_id:l.google_id,id:l.id,lang_tag:l.lang_tag,location:l.location,online:l.online,steam_id:l.steam_id,timezone:l.timezone,update_time:l.update_time,username:l.username,metadata:l.metadata?JSON.parse(l.metadata):void 0})}),Promise.resolve(a)})})}joinGroup(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.joinGroup(e.token,t,{}).then(r=>void 0!==r)})}joinTournament(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.joinTournament(e.token,t,{}).then(r=>void 0!==r)})}kickGroupUsers(e,t,r){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.kickGroupUsers(e.token,t,r).then(n=>Promise.resolve(null!=n))})}leaveGroup(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.leaveGroup(e.token,t,{}).then(r=>void 0!==r)})}listChannelMessages(e,t,r,n,i){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listChannelMessages(e.token,t,r,n,i).then(a=>{var l={messages:[],next_cursor:a.next_cursor,prev_cursor:a.prev_cursor,cacheable_cursor:a.cacheable_cursor};return null!=a.messages&&a.messages.forEach(o=>{l.messages.push({channel_id:o.channel_id,code:o.code?Number(o.code):0,create_time:o.create_time,message_id:o.message_id,persistent:o.persistent,sender_id:o.sender_id,update_time:o.update_time,username:o.username,content:o.content?JSON.parse(o.content):void 0,group_id:o.group_id,room_name:o.room_name,user_id_one:o.user_id_one,user_id_two:o.user_id_two})}),Promise.resolve(l)})})}listGroupUsers(e,t,r,n,i){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listGroupUsers(e.token,t,n,r,i).then(a=>{var l={group_users:[],cursor:a.cursor};return null!=a.group_users&&a.group_users.forEach(o=>{l.group_users.push({user:{avatar_url:o.user.avatar_url,create_time:o.user.create_time,display_name:o.user.display_name,edge_count:o.user.edge_count?Number(o.user.edge_count):0,facebook_id:o.user.facebook_id,gamecenter_id:o.user.gamecenter_id,google_id:o.user.google_id,id:o.user.id,lang_tag:o.user.lang_tag,location:o.user.location,online:o.user.online,steam_id:o.user.steam_id,timezone:o.user.timezone,update_time:o.user.update_time,username:o.user.username,metadata:o.user.metadata?JSON.parse(o.user.metadata):void 0},state:o.state?Number(o.state):0})}),Promise.resolve(l)})})}listUserGroups(e,t,r,n,i){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listUserGroups(e.token,t,r,n,i).then(a=>{var l={user_groups:[],cursor:a.cursor};return null!=a.user_groups&&a.user_groups.forEach(o=>{l.user_groups.push({group:{avatar_url:o.group.avatar_url,create_time:o.group.create_time,creator_id:o.group.creator_id,description:o.group.description,edge_count:o.group.edge_count?Number(o.group.edge_count):0,id:o.group.id,lang_tag:o.group.lang_tag,max_count:o.group.max_count,metadata:o.group.metadata?JSON.parse(o.group.metadata):void 0,name:o.group.name,open:o.group.open,update_time:o.group.update_time},state:o.state?Number(o.state):0})}),Promise.resolve(l)})})}listGroups(e,t,r,n){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listGroups(e.token,t,r,n).then(i=>{var a={groups:[]};return null!=i.groups&&(a.cursor=i.cursor,i.groups.forEach(l=>{a.groups.push({avatar_url:l.avatar_url,create_time:l.create_time,creator_id:l.creator_id,description:l.description,edge_count:l.edge_count?Number(l.edge_count):0,id:l.id,lang_tag:l.lang_tag,max_count:l.max_count,metadata:l.metadata?JSON.parse(l.metadata):void 0,name:l.name,open:l.open,update_time:l.update_time})})),Promise.resolve(a)})})}linkApple(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.linkApple(e.token,t).then(r=>void 0!==r)})}linkCustom(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.linkCustom(e.token,t).then(r=>void 0!==r)})}linkDevice(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.linkDevice(e.token,t).then(r=>void 0!==r)})}linkEmail(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.linkEmail(e.token,t).then(r=>void 0!==r)})}linkFacebook(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.linkFacebook(e.token,t).then(r=>void 0!==r)})}linkFacebookInstantGame(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.linkFacebookInstantGame(e.token,t).then(r=>void 0!==r)})}linkGoogle(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.linkGoogle(e.token,t).then(r=>void 0!==r)})}linkGameCenter(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.linkGameCenter(e.token,t).then(r=>void 0!==r)})}linkSteam(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.linkSteam(e.token,t).then(r=>void 0!==r)})}listFriends(e,t,r,n){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listFriends(e.token,r,t,n).then(i=>{var a={friends:[],cursor:i.cursor};return null!=i.friends&&i.friends.forEach(l=>{a.friends.push({user:{avatar_url:l.user.avatar_url,create_time:l.user.create_time,display_name:l.user.display_name,edge_count:l.user.edge_count?Number(l.user.edge_count):0,facebook_id:l.user.facebook_id,gamecenter_id:l.user.gamecenter_id,google_id:l.user.google_id,id:l.user.id,lang_tag:l.user.lang_tag,location:l.user.location,online:l.user.online,steam_id:l.user.steam_id,timezone:l.user.timezone,update_time:l.user.update_time,username:l.user.username,metadata:l.user.metadata?JSON.parse(l.user.metadata):void 0,facebook_instant_game_id:l.user.facebook_instant_game_id},state:l.state})}),Promise.resolve(a)})})}listLeaderboardRecords(e,t,r,n,i,a){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listLeaderboardRecords(e.token,t,r,n,i,a).then(l=>{var o={next_cursor:l.next_cursor,prev_cursor:l.prev_cursor,owner_records:[],records:[]};return null!=l.owner_records&&l.owner_records.forEach(s=>{o.owner_records.push({expiry_time:s.expiry_time,leaderboard_id:s.leaderboard_id,metadata:s.metadata?JSON.parse(s.metadata):void 0,num_score:s.num_score?Number(s.num_score):0,owner_id:s.owner_id,rank:s.rank?Number(s.rank):0,score:s.score?Number(s.score):0,subscore:s.subscore?Number(s.subscore):0,update_time:s.update_time,username:s.username,max_num_score:s.max_num_score?Number(s.max_num_score):0})}),null!=l.records&&l.records.forEach(s=>{o.records.push({expiry_time:s.expiry_time,leaderboard_id:s.leaderboard_id,metadata:s.metadata?JSON.parse(s.metadata):void 0,num_score:s.num_score?Number(s.num_score):0,owner_id:s.owner_id,rank:s.rank?Number(s.rank):0,score:s.score?Number(s.score):0,subscore:s.subscore?Number(s.subscore):0,update_time:s.update_time,username:s.username,max_num_score:s.max_num_score?Number(s.max_num_score):0})}),Promise.resolve(o)})})}listLeaderboardRecordsAroundOwner(e,t,r,n,i){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listLeaderboardRecordsAroundOwner(e.token,t,r,n,i).then(a=>{var l={next_cursor:a.next_cursor,prev_cursor:a.prev_cursor,owner_records:[],records:[]};return null!=a.owner_records&&a.owner_records.forEach(o=>{l.owner_records.push({expiry_time:o.expiry_time,leaderboard_id:o.leaderboard_id,metadata:o.metadata?JSON.parse(o.metadata):void 0,num_score:o.num_score?Number(o.num_score):0,owner_id:o.owner_id,rank:o.rank?Number(o.rank):0,score:o.score?Number(o.score):0,subscore:o.subscore?Number(o.subscore):0,update_time:o.update_time,username:o.username,max_num_score:o.max_num_score?Number(o.max_num_score):0})}),null!=a.records&&a.records.forEach(o=>{l.records.push({expiry_time:o.expiry_time,leaderboard_id:o.leaderboard_id,metadata:o.metadata?JSON.parse(o.metadata):void 0,num_score:o.num_score?Number(o.num_score):0,owner_id:o.owner_id,rank:o.rank?Number(o.rank):0,score:o.score?Number(o.score):0,subscore:o.subscore?Number(o.subscore):0,update_time:o.update_time,username:o.username,max_num_score:o.max_num_score?Number(o.max_num_score):0})}),Promise.resolve(l)})})}listMatches(e,t,r,n,i,a,l){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listMatches(e.token,t,r,n,i,a,l)})}listNotifications(e,t,r){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listNotifications(e.token,t,r).then(n=>{var i={cacheable_cursor:n.cacheable_cursor,notifications:[]};return null!=n.notifications&&n.notifications.forEach(a=>{i.notifications.push({code:a.code?Number(a.code):0,create_time:a.create_time,id:a.id,persistent:a.persistent,sender_id:a.sender_id,subject:a.subject,content:a.content?JSON.parse(a.content):void 0})}),Promise.resolve(i)})})}listStorageObjects(e,t,r,n,i){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listStorageObjects(e.token,t,r,n,i).then(a=>{var l={objects:[],cursor:a.cursor};return null!=a.objects&&a.objects.forEach(o=>{l.objects.push({collection:o.collection,key:o.key,permission_read:o.permission_read?Number(o.permission_read):0,permission_write:o.permission_write?Number(o.permission_write):0,value:o.value?JSON.parse(o.value):void 0,version:o.version,user_id:o.user_id,create_time:o.create_time,update_time:o.update_time})}),Promise.resolve(l)})})}listTournaments(e,t,r,n,i,a,l){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listTournaments(e.token,t,r,n,i,a,l).then(o=>{var s={cursor:o.cursor,tournaments:[]};return null!=o.tournaments&&o.tournaments.forEach(u=>{s.tournaments.push({id:u.id,title:u.title,description:u.description,duration:u.duration?Number(u.duration):0,category:u.category?Number(u.category):0,sort_order:u.sort_order?Number(u.sort_order):0,size:u.size?Number(u.size):0,max_size:u.max_size?Number(u.max_size):0,max_num_score:u.max_num_score?Number(u.max_num_score):0,can_enter:u.can_enter,end_active:u.end_active?Number(u.end_active):0,next_reset:u.next_reset?Number(u.next_reset):0,metadata:u.metadata?JSON.parse(u.metadata):void 0,create_time:u.create_time,start_time:u.start_time,end_time:u.end_time,start_active:u.start_active})}),Promise.resolve(s)})})}listTournamentRecords(e,t,r,n,i,a){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listTournamentRecords(e.token,t,r,n,i,a).then(l=>{var o={next_cursor:l.next_cursor,prev_cursor:l.prev_cursor,owner_records:[],records:[]};return null!=l.owner_records&&l.owner_records.forEach(s=>{o.owner_records.push({expiry_time:s.expiry_time,leaderboard_id:s.leaderboard_id,metadata:s.metadata?JSON.parse(s.metadata):void 0,num_score:s.num_score?Number(s.num_score):0,owner_id:s.owner_id,rank:s.rank?Number(s.rank):0,score:s.score?Number(s.score):0,subscore:s.subscore?Number(s.subscore):0,update_time:s.update_time,username:s.username,max_num_score:s.max_num_score?Number(s.max_num_score):0})}),null!=l.records&&l.records.forEach(s=>{o.records.push({expiry_time:s.expiry_time,leaderboard_id:s.leaderboard_id,metadata:s.metadata?JSON.parse(s.metadata):void 0,num_score:s.num_score?Number(s.num_score):0,owner_id:s.owner_id,rank:s.rank?Number(s.rank):0,score:s.score?Number(s.score):0,subscore:s.subscore?Number(s.subscore):0,update_time:s.update_time,username:s.username,max_num_score:s.max_num_score?Number(s.max_num_score):0})}),Promise.resolve(o)})})}listTournamentRecordsAroundOwner(e,t,r,n,i){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.listTournamentRecordsAroundOwner(e.token,t,r,n,i).then(a=>{var l={next_cursor:a.next_cursor,prev_cursor:a.prev_cursor,owner_records:[],records:[]};return null!=a.owner_records&&a.owner_records.forEach(o=>{l.owner_records.push({expiry_time:o.expiry_time,leaderboard_id:o.leaderboard_id,metadata:o.metadata?JSON.parse(o.metadata):void 0,num_score:o.num_score?Number(o.num_score):0,owner_id:o.owner_id,rank:o.rank?Number(o.rank):0,score:o.score?Number(o.score):0,subscore:o.subscore?Number(o.subscore):0,update_time:o.update_time,username:o.username,max_num_score:o.max_num_score?Number(o.max_num_score):0})}),null!=a.records&&a.records.forEach(o=>{l.records.push({expiry_time:o.expiry_time,leaderboard_id:o.leaderboard_id,metadata:o.metadata?JSON.parse(o.metadata):void 0,num_score:o.num_score?Number(o.num_score):0,owner_id:o.owner_id,rank:o.rank?Number(o.rank):0,score:o.score?Number(o.score):0,subscore:o.subscore?Number(o.subscore):0,update_time:o.update_time,username:o.username,max_num_score:o.max_num_score?Number(o.max_num_score):0})}),Promise.resolve(l)})})}promoteGroupUsers(e,t,r){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.promoteGroupUsers(e.token,t,r)})}readStorageObjects(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.readStorageObjects(e.token,t).then(r=>{var n={objects:[]};return null!=r.objects&&r.objects.forEach(i=>{n.objects.push({collection:i.collection,key:i.key,permission_read:i.permission_read?Number(i.permission_read):0,permission_write:i.permission_write?Number(i.permission_write):0,value:i.value?JSON.parse(i.value):void 0,version:i.version,user_id:i.user_id,create_time:i.create_time,update_time:i.update_time})}),Promise.resolve(n)})})}rpc(e,t,r){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.rpcFunc(e.token,t,JSON.stringify(r)).then(n=>Promise.resolve({id:n.id,payload:n.payload?JSON.parse(n.payload):void 0}))})}rpcHttpKey(e,t,r){return N(this,null,function*(){return this.apiClient.rpcFunc2("",t,r&&JSON.stringify(r)||"",e).then(n=>Promise.resolve({id:n.id,payload:n.payload?JSON.parse(n.payload):void 0})).catch(n=>{throw n})})}sessionLogout(e,t,r){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.sessionLogout(e.token,{refresh_token:r,token:t}).then(n=>void 0!==n)})}sessionRefresh(e){return N(this,arguments,function*(t,r={}){if(!t)return t;t.created&&(t.expires_at,t.created_at),t.created&&(t.refresh_expires_at,t.created_at);r=yield this.apiClient.sessionRefresh(this.serverkey,"",{token:t.refresh_token,vars:r});return t.update(r.token,r.refresh_token),t})}unlinkApple(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.unlinkApple(e.token,t).then(r=>void 0!==r)})}unlinkCustom(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.unlinkCustom(e.token,t).then(r=>void 0!==r)})}unlinkDevice(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.unlinkDevice(e.token,t).then(r=>void 0!==r)})}unlinkEmail(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.unlinkEmail(e.token,t).then(r=>void 0!==r)})}unlinkFacebook(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.unlinkFacebook(e.token,t).then(r=>void 0!==r)})}unlinkFacebookInstantGame(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.unlinkFacebookInstantGame(e.token,t).then(r=>void 0!==r)})}unlinkGoogle(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.unlinkGoogle(e.token,t).then(r=>void 0!==r)})}unlinkGameCenter(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.unlinkGameCenter(e.token,t).then(r=>void 0!==r)})}unlinkSteam(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.unlinkSteam(e.token,t).then(r=>void 0!==r)})}updateAccount(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.updateAccount(e.token,t).then(r=>void 0!==r)})}updateGroup(e,t,r){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.updateGroup(e.token,t,r).then(n=>void 0!==n)})}validatePurchaseApple(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.validatePurchaseApple(e.token,{receipt:t})})}validatePurchaseGoogle(e,t){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.validatePurchaseGoogle(e.token,{purchase:t})})}validatePurchaseHuawei(e,t,r){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.validatePurchaseHuawei(e.token,{purchase:t,signature:r})})}writeLeaderboardRecord(e,t,r){return N(this,null,function*(){return this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e)),this.apiClient.writeLeaderboardRecord(e.token,t,{metadata:r.metadata?JSON.stringify(r.metadata):void 0,score:r.score,subscore:r.subscore}).then(n=>Promise.resolve({expiry_time:n.expiry_time,leaderboard_id:n.leaderboard_id,metadata:n.metadata?JSON.parse(n.metadata):void 0,num_score:n.num_score?Number(n.num_score):0,owner_id:n.owner_id,score:n.score?Number(n.score):0,subscore:n.subscore?Number(n.subscore):0,update_time:n.update_time,username:n.username,max_num_score:n.max_num_score?Number(n.max_num_score):0,rank:n.rank?Number(n.rank):0}))})}writeStorageObjects(e,t){return N(this,null,function*(){this.autoRefreshSession&&e.refresh_token&&e.isexpired((Date.now()+this.expiredTimespanMs)/1e3)&&(yield this.sessionRefresh(e));var r={objects:[]};return t.forEach(n=>{r.objects.push({collection:n.collection,key:n.key,permission_read:n.permission_read,permission_write:n.permission_write,value:JSON.stringify(n.value),version:n.version})}),this.apiClient.writeStorageObjects(e.token,r)})}writeTournamentRecord(e,t,r){return N(this,null,function*(){return this.apiClient.writeTournamentRecord(e.token,t,{metadata:r.metadata?JSON.stringify(r.metadata):void 0,score:r.score,subscore:r.subscore}).then(n=>Promise.resolve({expiry_time:n.expiry_time,leaderboard_id:n.leaderboard_id,metadata:n.metadata?JSON.parse(n.metadata):void 0,num_score:n.num_score?Number(n.num_score):0,owner_id:n.owner_id,score:n.score?Number(n.score):0,subscore:n.subscore?Number(n.subscore):0,update_time:n.update_time,username:n.username,max_num_score:n.max_num_score?Number(n.max_num_score):0,rank:n.rank?Number(n.rank):0}))})}},un=Object.create,Vr=Object.defineProperty,ln=Object.getOwnPropertyDescriptor,gi=Object.getOwnPropertyNames,ni=Object.getOwnPropertySymbols,dn=Object.getPrototypeOf,Si=Object.prototype.hasOwnProperty,cn=Object.prototype.propertyIsEnumerable,ai=(e,t,r)=>t in e?Vr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,f=(e,t)=>{for(var r in t=t||{})Si.call(t,r)&&ai(e,r,t[r]);if(ni)for(var r of ni(t))cn.call(t,r)&&ai(e,r,t[r]);return e},z=(e,t)=>function(){return t||(0,e[gi(e)[0]])((t={exports:{}}).exports,t),t.exports},hn=(e,t,r,n)=>{if(t&&"object"==typeof t||"function"==typeof t)for(let i of gi(t))Si.call(e,i)||i===r||Vr(e,i,{get:()=>t[i],enumerable:!(n=ln(t,i))||n.enumerable});return e},ie=(e,t,r)=>(r=null!=e?un(dn(e)):{},hn(!t&&e&&e.__esModule?r:Vr(r,"default",{value:e,enumerable:!0}),e)),kt=z({"node_modules/long/src/long.js"(e,t){t.exports=n;var r=null;try{r=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(w){}function n(w,c,M){this.low=0|w,this.high=0|c,this.unsigned=!!M}function i(w){return!0===(w&&w.__isLong__)}Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=i;var a={},l={};function o(w,c){var M,U,F;return c?(F=0<=(w>>>=0)&&w<256)&&(U=l[w])?U:(M=u(w,(0|w)<0?-1:0,!0),F&&(l[w]=M),M):(F=-128<=(w|=0)&&w<128)&&(U=a[w])?U:(M=u(w,w<0?-1:0,!1),F&&(a[w]=M),M)}function s(w,c){if(isNaN(w))return c?E:g;if(c){if(w<0)return E;if(O<=w)return R}else{if(w<=-T)return q;if(T<=w+1)return k}return w<0?s(-w,c).neg():u(w%P|0,w/P|0,c)}function u(w,c,M){return new n(w,c,M)}n.fromInt=o,n.fromNumber=s,n.fromBits=u;var d=Math.pow;function h(w,c,M){if(0===w.length)throw Error("empty string");if("NaN"===w||"Infinity"===w||"+Infinity"===w||"-Infinity"===w)return g;if(c="number"==typeof c?(M=c,!1):!!c,(M=M||10)<2||36<M)throw RangeError("radix");var U;if(0<(U=w.indexOf("-")))throw Error("interior hyphen");if(0===U)return h(w.substring(1),c,M).neg();for(var F=s(d(M,8)),C=g,I=0;I<w.length;I+=8){var W=Math.min(8,w.length-I),Z=parseInt(w.substring(I,I+W),M);C=W<8?(W=s(d(M,W)),C.mul(W).add(s(Z))):(C=C.mul(F)).add(s(Z))}return C.unsigned=c,C}function m(w,c){return"number"==typeof w?s(w,c):"string"==typeof w?h(w,c):u(w.low,w.high,"boolean"==typeof c?c:w.unsigned)}n.fromString=h,n.fromValue=m;var P=4294967296,O=P*P,T=O/2,x=o(1<<24),g=o(0),E=(n.ZERO=g,o(0,!0)),B=(n.UZERO=E,o(1)),L=(n.ONE=B,o(1,!0)),le=(n.UONE=L,o(-1)),k=(n.NEG_ONE=le,u(-1,2147483647,!1)),R=(n.MAX_VALUE=k,u(-1,-1,!0)),q=(n.MAX_UNSIGNED_VALUE=R,u(0,-2147483648,!1)),t=(n.MIN_VALUE=q,n.prototype);t.toInt=function(){return this.unsigned?this.low>>>0:this.low},t.toNumber=function(){return this.unsigned?(this.high>>>0)*P+(this.low>>>0):this.high*P+(this.low>>>0)},t.toString=function(c){if((c=c||10)<2||36<c)throw RangeError("radix");if(this.isZero())return"0";var U,M;if(this.isNegative())return this.eq(q)?(M=s(c),M=(U=this.div(M)).mul(M).sub(this),U.toString(c)+M.toInt().toString(c)):"-"+this.neg().toString(c);for(var C=s(d(c,6),this.unsigned),I=this,W="";;){var Z=I.div(C),D=(I.sub(Z.mul(C)).toInt()>>>0).toString(c);if((I=Z).isZero())return D+W;for(;D.length<6;)D="0"+D;W=""+D+W}},t.getHighBits=function(){return this.high},t.getHighBitsUnsigned=function(){return this.high>>>0},t.getLowBits=function(){return this.low},t.getLowBitsUnsigned=function(){return this.low>>>0},t.getNumBitsAbs=function(){if(this.isNegative())return this.eq(q)?64:this.neg().getNumBitsAbs();for(var c=0!=this.high?this.high:this.low,M=31;0<M&&0==(c&1<<M);M--);return 0!=this.high?M+33:M+1},t.isZero=function(){return 0===this.high&&0===this.low},t.eqz=t.isZero,t.isNegative=function(){return!this.unsigned&&this.high<0},t.isPositive=function(){return this.unsigned||0<=this.high},t.isOdd=function(){return 1==(1&this.low)},t.isEven=function(){return 0==(1&this.low)},t.equals=function(c){return i(c)||(c=m(c)),(this.unsigned===c.unsigned||this.high>>>31!=1||c.high>>>31!=1)&&(this.high===c.high&&this.low===c.low)},t.eq=t.equals,t.notEquals=function(c){return!this.eq(c)},t.neq=t.notEquals,t.ne=t.notEquals,t.lessThan=function(c){return this.comp(c)<0},t.lt=t.lessThan,t.lessThanOrEqual=function(c){return this.comp(c)<=0},t.lte=t.lessThanOrEqual,t.le=t.lessThanOrEqual,t.greaterThan=function(c){return 0<this.comp(c)},t.gt=t.greaterThan,t.greaterThanOrEqual=function(c){return 0<=this.comp(c)},t.gte=t.greaterThanOrEqual,t.ge=t.greaterThanOrEqual,t.compare=function(c){if(i(c)||(c=m(c)),this.eq(c))return 0;var M=this.isNegative(),U=c.isNegative();return M&&!U?-1:!M&&U?1:this.unsigned?c.high>>>0>this.high>>>0||c.high===this.high&&c.low>>>0>this.low>>>0?-1:1:this.sub(c).isNegative()?-1:1},t.comp=t.compare,t.negate=function(){return!this.unsigned&&this.eq(q)?q:this.not().add(B)},t.neg=t.negate,t.add=function(c){i(c)||(c=m(c));var M=this.high>>>16,U=65535&this.high,F=this.low>>>16,C=65535&this.low,I=c.high>>>16,W=65535&c.high,Z=c.low>>>16,D=0,$=0,b=0,H=0;return $+=(b=b+((H+=C+(65535&c.low))>>>16)+(F+Z))>>>16,u((b&=65535)<<16|(H&=65535),((D+=($+=U+W)>>>16)+(M+I)&65535)<<16|($&=65535),this.unsigned)},t.subtract=function(c){return i(c)||(c=m(c)),this.add(c.neg())},t.sub=t.subtract,t.multiply=function(c){if(this.isZero())return g;if(i(c)||(c=m(c)),r)return u(r.mul(this.low,this.high,c.low,c.high),r.get_high(),this.unsigned);if(c.isZero())return g;if(this.eq(q))return c.isOdd()?q:g;if(c.eq(q))return this.isOdd()?q:g;if(this.isNegative())return c.isNegative()?this.neg().mul(c.neg()):this.neg().mul(c).neg();if(c.isNegative())return this.mul(c.neg()).neg();if(this.lt(x)&&c.lt(x))return s(this.toNumber()*c.toNumber(),this.unsigned);var U=this.high>>>16,F=65535&this.high,C=this.low>>>16,I=65535&this.low,W=c.high>>>16,Z=65535&c.high,G=c.low>>>16,c=65535&c.low,$=0,H=0,ht=0,b=(b=0)+((H=H+((ht+=I*c)>>>16)+C*c)>>>16)+((H=(H&65535)+I*G)>>>16);return u((H&=65535)<<16|(ht&=65535),(($+=(b+=F*c)>>>16)+((b=(b&65535)+C*G)>>>16)+((b=(b&65535)+I*Z)>>>16)+(U*c+F*G+C*Z+I*W)&65535)<<16|(b&=65535),this.unsigned)},t.mul=t.multiply,t.divide=function(c){if((c=i(c)?c:m(c)).isZero())throw Error("division by zero");var F,C,U;if(r)return this.unsigned||-2147483648!==this.high||-1!==c.low||-1!==c.high?u((this.unsigned?r.div_u:r.div_s)(this.low,this.high,c.low,c.high),r.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?E:g;if(this.unsigned){if((c=c.unsigned?c:c.toUnsigned()).gt(this))return E;if(c.gt(this.shru(1)))return L;C=E}else{if(this.eq(q))return c.eq(B)||c.eq(le)?q:c.eq(q)?B:(U=this.shr(1).div(c).shl(1)).eq(g)?c.isNegative()?B:le:(F=this.sub(c.mul(U)),C=U.add(F.div(c)));else if(c.eq(q))return this.unsigned?E:g;if(this.isNegative())return c.isNegative()?this.neg().div(c.neg()):this.neg().div(c).neg();if(c.isNegative())return this.div(c.neg()).neg();C=g}for(F=this;F.gte(c);){U=Math.max(1,Math.floor(F.toNumber()/c.toNumber()));for(var W=Math.ceil(Math.log(U)/Math.LN2),Z=W<=48?1:d(2,W-48),G=s(U),D=G.mul(c);D.isNegative()||D.gt(F);)D=(G=s(U-=Z,this.unsigned)).mul(c);G.isZero()&&(G=B),C=C.add(G),F=F.sub(D)}return C},t.div=t.divide,t.modulo=function(c){return i(c)||(c=m(c)),r?u((this.unsigned?r.rem_u:r.rem_s)(this.low,this.high,c.low,c.high),r.get_high(),this.unsigned):this.sub(this.div(c).mul(c))},t.mod=t.modulo,t.rem=t.modulo,t.not=function(){return u(~this.low,~this.high,this.unsigned)},t.and=function(c){return i(c)||(c=m(c)),u(this.low&c.low,this.high&c.high,this.unsigned)},t.or=function(c){return i(c)||(c=m(c)),u(this.low|c.low,this.high|c.high,this.unsigned)},t.xor=function(c){return i(c)||(c=m(c)),u(this.low^c.low,this.high^c.high,this.unsigned)},t.shiftLeft=function(c){return i(c)&&(c=c.toInt()),0==(c&=63)?this:c<32?u(this.low<<c,this.high<<c|this.low>>>32-c,this.unsigned):u(0,this.low<<c-32,this.unsigned)},t.shl=t.shiftLeft,t.shiftRight=function(c){return i(c)&&(c=c.toInt()),0==(c&=63)?this:c<32?u(this.low>>>c|this.high<<32-c,this.high>>c,this.unsigned):u(this.high>>c-32,0<=this.high?0:-1,this.unsigned)},t.shr=t.shiftRight,t.shiftRightUnsigned=function(c){if(i(c)&&(c=c.toInt()),0===(c&=63))return this;var M=this.high;return c<32?u(this.low>>>c|M<<32-c,M>>>c,this.unsigned):u(32===c?M:M>>>c-32,0,this.unsigned)},t.shru=t.shiftRightUnsigned,t.shr_u=t.shiftRightUnsigned,t.toSigned=function(){return this.unsigned?u(this.low,this.high,!1):this},t.toUnsigned=function(){return this.unsigned?this:u(this.low,this.high,!0)},t.toBytes=function(c){return c?this.toBytesLE():this.toBytesBE()},t.toBytesLE=function(){var c=this.high,M=this.low;return[255&M,M>>>8&255,M>>>16&255,M>>>24,255&c,c>>>8&255,c>>>16&255,c>>>24]},t.toBytesBE=function(){var c=this.high,M=this.low;return[c>>>24,c>>>16&255,c>>>8&255,255&c,M>>>24,M>>>16&255,M>>>8&255,255&M]},n.fromBytes=function(c,M,U){return U?n.fromBytesLE(c,M):n.fromBytesBE(c,M)},n.fromBytesLE=function(c,M){return new n(c[0]|c[1]<<8|c[2]<<16|c[3]<<24,c[4]|c[5]<<8|c[6]<<16|c[7]<<24,M)},n.fromBytesBE=function(c,M){return new n(c[4]<<24|c[5]<<16|c[6]<<8|c[7],c[0]<<24|c[1]<<16|c[2]<<8|c[3],M)}}}),fn=z({"node_modules/@protobufjs/aspromise/index.js"(e,t){"use strict";t.exports=function(n,i){for(var a=new Array(arguments.length-1),l=0,o=2,s=!0;o<arguments.length;)a[l++]=arguments[o++];return new Promise(function(d,h){a[l]=function(p){if(s)if(s=!1,p)h(p);else{for(var y=new Array(arguments.length-1),P=0;P<y.length;)y[P++]=arguments[P];d.apply(null,y)}};try{n.apply(i||null,a)}catch(m){s&&(s=!1,h(m))}})}}}),_n=z({"node_modules/@protobufjs/base64/index.js"(e){"use strict";e.length=function(o){var s=o.length;if(!s)return 0;for(var u=0;1<--s%4&&"="===o.charAt(s);)++u;return Math.ceil(3*o.length)/4-u};for(var r=new Array(64),n=new Array(123),i=0;i<64;)n[r[i]=i<26?i+65:i<52?i+71:i<62?i-4:i-59|43]=i++;e.encode=function(o,s,u){for(var y,d=null,h=[],m=0,p=0;s<u;){var P=o[s++];switch(p){case 0:h[m++]=r[P>>2],y=(3&P)<<4,p=1;break;case 1:h[m++]=r[y|P>>4],y=(15&P)<<2,p=2;break;case 2:h[m++]=r[y|P>>6],h[m++]=r[63&P],p=0}8191<m&&((d=d||[]).push(String.fromCharCode.apply(String,h)),m=0)}return p&&(h[m++]=r[y],h[m++]=61,1===p&&(h[m++]=61)),d?(m&&d.push(String.fromCharCode.apply(String,h.slice(0,m))),d.join("")):String.fromCharCode.apply(String,h.slice(0,m))};var a="invalid encoding";e.decode=function(o,s,u){for(var m,d=u,h=0,p=0;p<o.length;){var y=o.charCodeAt(p++);if(61===y&&1<h)break;if(void 0===(y=n[y]))throw Error(a);switch(h){case 0:m=y,h=1;break;case 1:s[u++]=m<<2|(48&y)>>4,m=y,h=2;break;case 2:s[u++]=(15&m)<<4|(60&y)>>2,m=y,h=3;break;case 3:s[u++]=(3&m)<<6|y,h=0}}if(1===h)throw Error(a);return u-d},e.test=function(o){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(o)}}}),pn=z({"node_modules/@protobufjs/eventemitter/index.js"(e,t){"use strict";function r(){this._listeners={}}(t.exports=r).prototype.on=function(i,a,l){return(this._listeners[i]||(this._listeners[i]=[])).push({fn:a,ctx:l||this}),this},r.prototype.off=function(i,a){if(void 0===i)this._listeners={};else if(void 0===a)this._listeners[i]=[];else for(var l=this._listeners[i],o=0;o<l.length;)l[o].fn===a?l.splice(o,1):++o;return this},r.prototype.emit=function(i){var a=this._listeners[i];if(a){for(var l=[],o=1;o<arguments.length;)l.push(arguments[o++]);for(o=0;o<a.length;)a[o].fn.apply(a[o++].ctx,l)}return this}}}),mn=z({"node_modules/@protobufjs/float/index.js"(e,t){"use strict";function r(o){return"undefined"!=typeof Float32Array?(s=new Float32Array([-0]),u=new Uint8Array(s.buffer),d=128===u[3],o.writeFloatLE=d?h:m,o.writeFloatBE=d?m:h,o.readFloatLE=d?p:y,o.readFloatBE=d?y:p):function(){function s(d,h,m,p){var y=h<0?1:0;0===(h=y?-h:h)?d(0<1/h?0:2147483648,m,p):isNaN(h)?d(2143289344,m,p):d(34028234663852886e22<h?(y<<31|2139095040)>>>0:h<11754943508222875e-54?(y<<31|Math.round(h/1401298464324817e-60))>>>0:(y<<31|(d=Math.floor(Math.log(h)/Math.LN2))+127<<23|8388607&Math.round(h*Math.pow(2,-d)*8388608))>>>0,m,p)}function u(d,h,m){d=d(h,m),h=2*(d>>31)+1,m=d>>>23&255,d&=8388607;return 255==m?d?NaN:1/0*h:0==m?1401298464324817e-60*h*d:h*Math.pow(2,m-150)*(8388608+d)}o.writeFloatLE=s.bind(null,n),o.writeFloatBE=s.bind(null,i),o.readFloatLE=u.bind(null,a),o.readFloatBE=u.bind(null,l)}(),("undefined"!=typeof Float64Array?function(){var s=new Float64Array([-0]),u=new Uint8Array(s.buffer),d=128===u[7];function h(P,O,T){s[0]=P,O[T]=u[0],O[T+1]=u[1],O[T+2]=u[2],O[T+3]=u[3],O[T+4]=u[4],O[T+5]=u[5],O[T+6]=u[6],O[T+7]=u[7]}function m(P,O,T){s[0]=P,O[T]=u[7],O[T+1]=u[6],O[T+2]=u[5],O[T+3]=u[4],O[T+4]=u[3],O[T+5]=u[2],O[T+6]=u[1],O[T+7]=u[0]}function p(P,O){return u[0]=P[O],u[1]=P[O+1],u[2]=P[O+2],u[3]=P[O+3],u[4]=P[O+4],u[5]=P[O+5],u[6]=P[O+6],u[7]=P[O+7],s[0]}function y(P,O){return u[7]=P[O],u[6]=P[O+1],u[5]=P[O+2],u[4]=P[O+3],u[3]=P[O+4],u[2]=P[O+5],u[1]=P[O+6],u[0]=P[O+7],s[0]}o.writeDoubleLE=d?h:m,o.writeDoubleBE=d?m:h,o.readDoubleLE=d?p:y,o.readDoubleBE=d?y:p}:function(){function s(d,h,m,p,y,P){var T,x,O=p<0?1:0;0===(p=O?-p:p)?(d(0,y,P+h),d(0<1/p?0:2147483648,y,P+m)):isNaN(p)?(d(0,y,P+h),d(2146959360,y,P+m)):17976931348623157e292<p?(d(0,y,P+h),d((O<<31|2146435072)>>>0,y,P+m)):p<22250738585072014e-324?(d((T=p/5e-324)>>>0,y,P+h),d((O<<31|T/4294967296)>>>0,y,P+m)):(1024===(x=Math.floor(Math.log(p)/Math.LN2))&&(x=1023),d(4503599627370496*(T=p*Math.pow(2,-x))>>>0,y,P+h),d((O<<31|x+1023<<20|1048576*T&1048575)>>>0,y,P+m))}function u(d,h,m,p,y){h=d(p,y+h),d=d(p,y+m),p=2*(d>>31)+1,y=d>>>20&2047,m=4294967296*(1048575&d)+h;return 2047==y?m?NaN:1/0*p:0==y?5e-324*p*m:p*Math.pow(2,y-1075)*(m+4503599627370496)}o.writeDoubleLE=s.bind(null,n,0,4),o.writeDoubleBE=s.bind(null,i,4,0),o.readDoubleLE=u.bind(null,a,0,4),o.readDoubleBE=u.bind(null,l,4,0)})(),o;function h(P,O,T){s[0]=P,O[T]=u[0],O[T+1]=u[1],O[T+2]=u[2],O[T+3]=u[3]}function m(P,O,T){s[0]=P,O[T]=u[3],O[T+1]=u[2],O[T+2]=u[1],O[T+3]=u[0]}function p(P,O){return u[0]=P[O],u[1]=P[O+1],u[2]=P[O+2],u[3]=P[O+3],s[0]}function y(P,O){return u[3]=P[O],u[2]=P[O+1],u[1]=P[O+2],u[0]=P[O+3],s[0]}var s,u,d}function n(o,s,u){s[u]=255&o,s[u+1]=o>>>8&255,s[u+2]=o>>>16&255,s[u+3]=o>>>24}function i(o,s,u){s[u]=o>>>24,s[u+1]=o>>>16&255,s[u+2]=o>>>8&255,s[u+3]=255&o}function a(o,s){return(o[s]|o[s+1]<<8|o[s+2]<<16|o[s+3]<<24)>>>0}function l(o,s){return(o[s]<<24|o[s+1]<<16|o[s+2]<<8|o[s+3])>>>0}t.exports=r(r)}}),vn=z({"node_modules/@protobufjs/inquire/index.js"(exports,module){"use strict";function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}module.exports=inquire}}),yn=z({"node_modules/@protobufjs/utf8/index.js"(e){"use strict";e.length=function(n){for(var a,i=0,l=0;l<n.length;++l)(a=n.charCodeAt(l))<128?i+=1:a<2048?i+=2:55296==(64512&a)&&56320==(64512&n.charCodeAt(l+1))?(++l,i+=4):i+=3;return i},e.read=function(n,i,a){if(a-i<1)return"";for(var d,o=null,s=[],u=0;i<a;)(d=n[i++])<128?s[u++]=d:191<d&&d<224?s[u++]=(31&d)<<6|63&n[i++]:239<d&&d<365?(d=((7&d)<<18|(63&n[i++])<<12|(63&n[i++])<<6|63&n[i++])-65536,s[u++]=55296+(d>>10),s[u++]=56320+(1023&d)):s[u++]=(15&d)<<12|(63&n[i++])<<6|63&n[i++],8191<u&&((o=o||[]).push(String.fromCharCode.apply(String,s)),u=0);return o?(u&&o.push(String.fromCharCode.apply(String,s.slice(0,u))),o.join("")):String.fromCharCode.apply(String,s.slice(0,u))},e.write=function(n,i,a){for(var o,s,l=a,u=0;u<n.length;++u)(o=n.charCodeAt(u))<128?i[a++]=o:(o<2048?i[a++]=o>>6|192:(55296==(64512&o)&&56320==(64512&(s=n.charCodeAt(u+1)))?(++u,i[a++]=(o=65536+((1023&o)<<10)+(1023&s))>>18|240,i[a++]=o>>12&63|128):i[a++]=o>>12|224,i[a++]=o>>6&63|128),i[a++]=63&o|128);return a-l}}}),kn=z({"node_modules/@protobufjs/pool/index.js"(e,t){"use strict";t.exports=function(n,i,a){var l=a||8192,o=l>>>1,s=null,u=l;return function(h){if(h<1||o<h)return n(h);l<u+h&&(s=n(l),u=0);h=i.call(s,u,u+=h);return 7&u&&(u=1+(7|u)),h}}}}),wn=z({"node_modules/protobufjs/src/util/longbits.js"(e,t){"use strict";t.exports=n;var r=ae();function n(o,s){this.lo=o>>>0,this.hi=s>>>0}var i=n.zero=new n(0,0),l=(i.toNumber=function(){return 0},i.zzEncode=i.zzDecode=function(){return this},i.length=function(){return 1},n.zeroHash="\0\0\0\0\0\0\0\0",n.fromNumber=function(s){if(0===s)return i;var u=s<0,d=(s=u?-s:s)>>>0,s=(s-d)/4294967296>>>0;return u&&(s=~s>>>0,d=~d>>>0,4294967295<++d&&(d=0,4294967295<++s&&(s=0))),new n(d,s)},n.from=function(s){if("number"==typeof s)return n.fromNumber(s);if(r.isString(s)){if(!r.Long)return n.fromNumber(parseInt(s,10));s=r.Long.fromString(s)}return s.low||s.high?new n(s.low>>>0,s.high>>>0):i},n.prototype.toNumber=function(s){var d;return!s&&this.hi>>>31?(s=1+~this.lo>>>0,d=~this.hi>>>0,-(s+4294967296*(d=s?d:d+1>>>0))):this.lo+4294967296*this.hi},n.prototype.toLong=function(s){return r.Long?new r.Long(0|this.lo,0|this.hi,Boolean(s)):{low:0|this.lo,high:0|this.hi,unsigned:Boolean(s)}},String.prototype.charCodeAt);n.fromHash=function(s){return"\0\0\0\0\0\0\0\0"===s?i:new n((l.call(s,0)|l.call(s,1)<<8|l.call(s,2)<<16|l.call(s,3)<<24)>>>0,(l.call(s,4)|l.call(s,5)<<8|l.call(s,6)<<16|l.call(s,7)<<24)>>>0)},n.prototype.toHash=function(){return String.fromCharCode(255&this.lo,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,255&this.hi,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},n.prototype.zzEncode=function(){var s=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^s)>>>0,this.lo=(this.lo<<1^s)>>>0,this},n.prototype.zzDecode=function(){var s=-(1&this.lo);return this.lo=((this.lo>>>1|this.hi<<31)^s)>>>0,this.hi=(this.hi>>>1^s)>>>0,this},n.prototype.length=function(){var s=this.lo,u=(this.lo>>>28|this.hi<<4)>>>0,d=this.hi>>>24;return 0==d?0==u?s<16384?s<128?1:2:s<2097152?3:4:u<16384?u<128?5:6:u<2097152?7:8:d<128?9:10}}}),ae=z({"node_modules/protobufjs/src/util/minimal.js"(e){"use strict";var t=e;function r(i,a,l){for(var o=Object.keys(a),s=0;s<o.length;++s)void 0!==i[o[s]]&&l||(i[o[s]]=a[o[s]]);return i}function n(i){function a(l,o){if(!(this instanceof a))return new a(l,o);Object.defineProperty(this,"message",{get:function(){return l}}),Error.captureStackTrace?Error.captureStackTrace(this,a):Object.defineProperty(this,"stack",{value:(new Error).stack||""}),o&&r(this,o)}return(a.prototype=Object.create(Error.prototype)).constructor=a,Object.defineProperty(a.prototype,"name",{get:function(){return i}}),a.prototype.toString=function(){return this.name+": "+this.message},a}t.asPromise=fn(),t.base64=_n(),t.EventEmitter=pn(),t.float=mn(),t.inquire=vn(),t.utf8=yn(),t.pool=kn(),t.LongBits=wn(),t.isNode=Boolean("undefined"!=typeof global&&global&&global.process&&global.process.versions&&global.process.versions.node),t.global=t.isNode&&global||"undefined"!=typeof window&&window||"undefined"!=typeof self&&self||e,t.emptyArray=Object.freeze?Object.freeze([]):[],t.emptyObject=Object.freeze?Object.freeze({}):{},t.isInteger=Number.isInteger||function(a){return"number"==typeof a&&isFinite(a)&&Math.floor(a)===a},t.isString=function(a){return"string"==typeof a||a instanceof String},t.isObject=function(a){return a&&"object"==typeof a},t.isset=t.isSet=function(a,l){var o=a[l];return!(null==o||!a.hasOwnProperty(l))&&("object"!=typeof o||0<(Array.isArray(o)?o:Object.keys(o)).length)},t.Buffer=function(){try{var i=t.inquire("buffer").Buffer;return i.prototype.utf8Write?i:null}catch(a){return null}}(),t._Buffer_from=null,t._Buffer_allocUnsafe=null,t.newBuffer=function(a){return"number"==typeof a?t.Buffer?t._Buffer_allocUnsafe(a):new t.Array(a):t.Buffer?t._Buffer_from(a):"undefined"==typeof Uint8Array?a:new Uint8Array(a)},t.Array="undefined"!=typeof Uint8Array?Uint8Array:Array,t.Long=t.global.dcodeIO&&t.global.dcodeIO.Long||t.global.Long||t.inquire("long"),t.key2Re=/^true|false|0|1$/,t.key32Re=/^-?(?:0|[1-9][0-9]*)$/,t.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,t.longToHash=function(a){return a?t.LongBits.from(a).toHash():t.LongBits.zeroHash},t.longFromHash=function(a,l){a=t.LongBits.fromHash(a);return t.Long?t.Long.fromBits(a.lo,a.hi,l):a.toNumber(Boolean(l))},t.merge=r,t.lcFirst=function(a){return a.charAt(0).toLowerCase()+a.substring(1)},t.newError=n,t.ProtocolError=n("ProtocolError"),t.oneOfGetter=function(a){for(var l={},o=0;o<a.length;++o)l[a[o]]=1;return function(){for(var s=Object.keys(this),u=s.length-1;-1<u;--u)if(1===l[s[u]]&&void 0!==this[s[u]]&&null!==this[s[u]])return s[u]}},t.oneOfSetter=function(a){return function(l){for(var o=0;o<a.length;++o)a[o]!==l&&delete this[a[o]]}},t.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},t._configure=function(){var i=t.Buffer;i?(t._Buffer_from=i.from!==Uint8Array.from&&i.from||function(l,o){return new i(l,o)},t._Buffer_allocUnsafe=i.allocUnsafe||function(l){return new i(l)}):t._Buffer_from=t._Buffer_allocUnsafe=null}}}),Pi=z({"node_modules/protobufjs/src/writer.js"(e,t){"use strict";t.exports=d;var n,r=ae(),i=r.LongBits,a=r.base64,l=r.utf8;function o(x,g,E){this.fn=x,this.len=g,this.next=void 0,this.val=E}function s(){}function u(x){this.head=x.head,this.tail=x.tail,this.len=x.len,this.next=x.states}function d(){this.len=0,this.head=new o(s,0,0),this.tail=this.head,this.states=null}function h(){return r.Buffer?function(){return(d.create=function(){return new n})()}:function(){return new d}}function m(x,g,E){g[E]=255&x}function y(x,g){this.len=x,this.next=void 0,this.val=g}function P(x,g,E){for(;x.hi;)g[E++]=127&x.lo|128,x.lo=(x.lo>>>7|x.hi<<25)>>>0,x.hi>>>=7;for(;127<x.lo;)g[E++]=127&x.lo|128,x.lo=x.lo>>>7;g[E++]=x.lo}function O(x,g,E){g[E]=255&x,g[E+1]=x>>>8&255,g[E+2]=x>>>16&255,g[E+3]=x>>>24}d.create=h(),d.alloc=function(g){return new r.Array(g)},r.Array!==Array&&(d.alloc=r.pool(d.alloc,r.Array.prototype.subarray)),d.prototype._push=function(g,E,B){return this.tail=this.tail.next=new o(g,E,B),this.len+=E,this},(y.prototype=Object.create(o.prototype)).fn=function(x,g,E){for(;127<x;)g[E++]=127&x|128,x>>>=7;g[E]=x},d.prototype.uint32=function(g){return this.len+=(this.tail=this.tail.next=new y((g>>>=0)<128?1:g<16384?2:g<2097152?3:g<268435456?4:5,g)).len,this},d.prototype.int32=function(g){return g<0?this._push(P,10,i.fromNumber(g)):this.uint32(g)},d.prototype.sint32=function(g){return this.uint32((g<<1^g>>31)>>>0)},d.prototype.int64=d.prototype.uint64=function(g){g=i.from(g);return this._push(P,g.length(),g)},d.prototype.sint64=function(g){g=i.from(g).zzEncode();return this._push(P,g.length(),g)},d.prototype.bool=function(g){return this._push(m,1,g?1:0)},d.prototype.sfixed32=d.prototype.fixed32=function(g){return this._push(O,4,g>>>0)},d.prototype.sfixed64=d.prototype.fixed64=function(g){g=i.from(g);return this._push(O,4,g.lo)._push(O,4,g.hi)},d.prototype.float=function(g){return this._push(r.float.writeFloatLE,4,g)},d.prototype.double=function(g){return this._push(r.float.writeDoubleLE,8,g)};var T=r.Array.prototype.set?function(g,E,B){E.set(g,B)}:function(g,E,B){for(var L=0;L<g.length;++L)E[B+L]=g[L]};d.prototype.bytes=function(g){var B,E=g.length>>>0;return E?(r.isString(g)&&(B=d.alloc(E=a.length(g)),a.decode(g,B,0),g=B),this.uint32(E)._push(T,E,g)):this._push(m,1,0)},d.prototype.string=function(g){var E=l.length(g);return E?this.uint32(E)._push(l.write,E,g):this._push(m,1,0)},d.prototype.fork=function(){return this.states=new u(this),this.head=this.tail=new o(s,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new o(s,0,0),this.len=0),this},d.prototype.ldelim=function(){var g=this.head,E=this.tail,B=this.len;return this.reset().uint32(B),B&&(this.tail.next=g.next,this.tail=E,this.len+=B),this},d.prototype.finish=function(){for(var g=this.head.next,E=this.constructor.alloc(this.len),B=0;g;)g.fn(g.val,E,B),B+=g.len,g=g.next;return E},d._configure=function(x){n=x,d.create=h(),n._configure()}}}),gn=z({"node_modules/protobufjs/src/writer_buffer.js"(e,t){"use strict";t.exports=i;var r=Pi(),n=((i.prototype=Object.create(r.prototype)).constructor=i,ae());function i(){r.call(this)}function a(l,o,s){l.length<40?n.utf8.write(l,o,s):o.utf8Write?o.utf8Write(l,s):o.write(l,s)}i._configure=function(){i.alloc=n._Buffer_allocUnsafe,i.writeBytesBuffer=n.Buffer&&n.Buffer.prototype instanceof Uint8Array&&"set"===n.Buffer.prototype.set.name?function(o,s,u){s.set(o,u)}:function(o,s,u){if(o.copy)o.copy(s,u,0,o.length);else for(var d=0;d<o.length;)s[u++]=o[d++]}},i.prototype.bytes=function(o){var s=(o=n.isString(o)?n._Buffer_from(o,"base64"):o).length>>>0;return this.uint32(s),s&&this._push(i.writeBytesBuffer,s,o),this},i.prototype.string=function(o){var s=n.Buffer.byteLength(o);return this.uint32(s),s&&this._push(a,s,o),this},i._configure()}}),Oi=z({"node_modules/protobufjs/src/reader.js"(e,t){"use strict";t.exports=o;var n,r=ae(),i=r.LongBits,a=r.utf8;function l(p,y){return RangeError("index out of range: "+p.pos+" + "+(y||1)+" > "+p.len)}function o(p){this.buf=p,this.pos=0,this.len=p.length}function u(){return r.Buffer?function(P){return(o.create=function(T){return r.Buffer.isBuffer(T)?new n(T):s(T)})(P)}:s}var y,s="undefined"!=typeof Uint8Array?function(y){if(y instanceof Uint8Array||Array.isArray(y))return new o(y);throw Error("illegal buffer")}:function(y){if(Array.isArray(y))return new o(y);throw Error("illegal buffer")};function d(){var p=new i(0,0),y=0;if(!(4<this.len-this.pos)){for(;y<3;++y){if(this.pos>=this.len)throw l(this);if(p.lo=(p.lo|(127&this.buf[this.pos])<<7*y)>>>0,this.buf[this.pos++]<128)return p}return p.lo=(p.lo|(127&this.buf[this.pos++])<<7*y)>>>0,p}for(;y<4;++y)if(p.lo=(p.lo|(127&this.buf[this.pos])<<7*y)>>>0,this.buf[this.pos++]<128)return p;if(p.lo=(p.lo|(127&this.buf[this.pos])<<28)>>>0,p.hi=(p.hi|(127&this.buf[this.pos])>>4)>>>0,this.buf[this.pos++]<128)return p;if(y=0,4<this.len-this.pos){for(;y<5;++y)if(p.hi=(p.hi|(127&this.buf[this.pos])<<7*y+3)>>>0,this.buf[this.pos++]<128)return p}else for(;y<5;++y){if(this.pos>=this.len)throw l(this);if(p.hi=(p.hi|(127&this.buf[this.pos])<<7*y+3)>>>0,this.buf[this.pos++]<128)return p}throw Error("invalid varint encoding")}function h(p,y){return(p[y-4]|p[y-3]<<8|p[y-2]<<16|p[y-1]<<24)>>>0}function m(){if(this.pos+8>this.len)throw l(this,8);return new i(h(this.buf,this.pos+=4),h(this.buf,this.pos+=4))}o.create=u(),o.prototype._slice=r.Array.prototype.subarray||r.Array.prototype.slice,o.prototype.uint32=(y=4294967295,function(){if(y=(127&this.buf[this.pos])>>>0,!(this.buf[this.pos++]<128||(y=(y|(127&this.buf[this.pos])<<7)>>>0,this.buf[this.pos++]<128)||(y=(y|(127&this.buf[this.pos])<<14)>>>0,this.buf[this.pos++]<128)||(y=(y|(127&this.buf[this.pos])<<21)>>>0,this.buf[this.pos++]<128)||(y=(y|(15&this.buf[this.pos])<<28)>>>0,this.buf[this.pos++]<128))&&(this.pos+=5)>this.len)throw this.pos=this.len,l(this,10);return y}),o.prototype.int32=function(){return 0|this.uint32()},o.prototype.sint32=function(){var y=this.uint32();return y>>>1^-(1&y)|0},o.prototype.bool=function(){return 0!==this.uint32()},o.prototype.fixed32=function(){if(this.pos+4>this.len)throw l(this,4);return h(this.buf,this.pos+=4)},o.prototype.sfixed32=function(){if(this.pos+4>this.len)throw l(this,4);return 0|h(this.buf,this.pos+=4)},o.prototype.float=function(){if(this.pos+4>this.len)throw l(this,4);var y=r.float.readFloatLE(this.buf,this.pos);return this.pos+=4,y},o.prototype.double=function(){if(this.pos+8>this.len)throw l(this,4);var y=r.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,y},o.prototype.bytes=function(){var y=this.uint32(),P=this.pos,O=this.pos+y;if(O>this.len)throw l(this,y);return this.pos+=y,Array.isArray(this.buf)?this.buf.slice(P,O):P===O?new this.buf.constructor(0):this._slice.call(this.buf,P,O)},o.prototype.string=function(){var y=this.bytes();return a.read(y,0,y.length)},o.prototype.skip=function(y){if("number"==typeof y){if(this.pos+y>this.len)throw l(this,y);this.pos+=y}else do{if(this.pos>=this.len)throw l(this)}while(128&this.buf[this.pos++]);return this},o.prototype.skipType=function(p){switch(p){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;4!=(p=7&this.uint32());)this.skipType(p);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+p+" at offset "+this.pos)}return this},o._configure=function(p){n=p,o.create=u(),n._configure();var y=r.Long?"toLong":"toNumber";r.merge(o.prototype,{int64:function(){return d.call(this)[y](!1)},uint64:function(){return d.call(this)[y](!0)},sint64:function(){return d.call(this).zzDecode()[y](!1)},fixed64:function(){return m.call(this)[y](!0)},sfixed64:function(){return m.call(this)[y](!1)}})}}}),Sn=z({"node_modules/protobufjs/src/reader_buffer.js"(e,t){"use strict";t.exports=i;var r=Oi(),n=((i.prototype=Object.create(r.prototype)).constructor=i,ae());function i(a){r.call(this,a)}i._configure=function(){n.Buffer&&(i.prototype._slice=n.Buffer.prototype.slice)},i.prototype.string=function(){var l=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+l,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+l,this.len))},i._configure()}}),Pn=z({"node_modules/protobufjs/src/rpc/service.js"(e,t){"use strict";t.exports=n;var r=ae();function n(i,a,l){if("function"!=typeof i)throw TypeError("rpcImpl must be a function");r.EventEmitter.call(this),this.rpcImpl=i,this.requestDelimited=Boolean(a),this.responseDelimited=Boolean(l)}((n.prototype=Object.create(r.EventEmitter.prototype)).constructor=n).prototype.rpcCall=function i(a,l,o,s,u){if(!s)throw TypeError("request must be specified");var d=this;if(!u)return r.asPromise(i,d,a,l,o,s);if(d.rpcImpl)try{return d.rpcImpl(a,l[d.requestDelimited?"encodeDelimited":"encode"](s).finish(),function(m,p){if(m)return d.emit("error",m,a),u(m);if(null!==p){if(!(p instanceof o))try{p=o[d.responseDelimited?"decodeDelimited":"decode"](p)}catch(y){return d.emit("error",y,a),u(y)}return d.emit("data",p,a),u(null,p)}d.end(!0)})}catch(h){return d.emit("error",h,a),void setTimeout(function(){u(h)},0)}else setTimeout(function(){u(Error("already ended"))},0)},n.prototype.end=function(a){return this.rpcImpl&&(a||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}}}),On=z({"node_modules/protobufjs/src/rpc.js"(e){"use strict";e.Service=Pn()}}),Nn=z({"node_modules/protobufjs/src/roots.js"(e,t){"use strict";t.exports={}}}),Jn=z({"node_modules/protobufjs/src/index-minimal.js"(e){"use strict";var t=e;function r(){t.util._configure(),t.Writer._configure(t.BufferWriter),t.Reader._configure(t.BufferReader)}t.build="minimal",t.Writer=Pi(),t.BufferWriter=gn(),t.Reader=Oi(),t.BufferReader=Sn(),t.util=ae(),t.rpc=On(),t.roots=Nn(),t.configure=r,r()}}),wt=z({"node_modules/protobufjs/minimal.js"(e,t){"use strict";t.exports=Jn()}}),si=ie(kt()),_=ie(wt()),oi=ie(kt()),lt=ie(wt()),Et={seconds:0,nanos:0};function Rn(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new globalThis.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}var K={encode(e,t=lt.Writer.create()){return t.uint32(8).int64(e.seconds),t.uint32(16).int32(e.nanos),t},decode(e,t){let r=e instanceof Uint8Array?new lt.Reader(e):e,n=void 0===t?r.len:r.pos+t,i=f({},Et);for(;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.seconds=Rn(r.int64());break;case 2:i.nanos=r.int32();break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},Et);return void 0!==e.seconds&&null!==e.seconds&&(t.seconds=Number(e.seconds)),void 0!==e.nanos&&null!==e.nanos&&(t.nanos=Number(e.nanos)),t},fromPartial(e){let t=f({},Et);return void 0!==e.seconds&&null!==e.seconds&&(t.seconds=e.seconds),void 0!==e.nanos&&null!==e.nanos&&(t.nanos=e.nanos),t},toJSON(e){let t={};return void 0!==e.seconds&&(t.seconds=e.seconds),void 0!==e.nanos&&(t.nanos=e.nanos),t}},ui=(lt.util.Long!==oi&&(lt.util.Long=oi,(0,lt.configure)()),ie(kt())),Y=ie(wt()),li=ie(kt()),te=ie(wt()),qt={value:0},Tt={value:!1},At={value:""},vt={encode(e,t=te.Writer.create()){return t.uint32(8).int32(e.value),t},decode(e,t){let r=e instanceof Uint8Array?new te.Reader(e):e,n=void 0===t?r.len:r.pos+t,i=f({},qt);for(;r.pos<n;){var a=r.uint32();a>>>3==1?i.value=r.int32():r.skipType(7&a)}return i},fromJSON(e){let t=f({},qt);return void 0!==e.value&&null!==e.value&&(t.value=Number(e.value)),t},fromPartial(e){let t=f({},qt);return void 0!==e.value&&null!==e.value&&(t.value=e.value),t},toJSON(e){let t={};return void 0!==e.value&&(t.value=e.value),t}},re={encode(e,t=te.Writer.create()){return t.uint32(8).bool(e.value),t},decode(e,t){let r=e instanceof Uint8Array?new te.Reader(e):e,n=void 0===t?r.len:r.pos+t,i=f({},Tt);for(;r.pos<n;){var a=r.uint32();a>>>3==1?i.value=r.bool():r.skipType(7&a)}return i},fromJSON(e){let t=f({},Tt);return void 0!==e.value&&null!==e.value&&(t.value=Boolean(e.value)),t},fromPartial(e){let t=f({},Tt);return void 0!==e.value&&null!==e.value&&(t.value=e.value),t},toJSON(e){let t={};return void 0!==e.value&&(t.value=e.value),t}},oe={encode(e,t=te.Writer.create()){return t.uint32(10).string(e.value),t},decode(e,t){let r=e instanceof Uint8Array?new te.Reader(e):e,n=void 0===t?r.len:r.pos+t,i=f({},At);for(;r.pos<n;){var a=r.uint32();a>>>3==1?i.value=r.string():r.skipType(7&a)}return i},fromJSON(e){let t=f({},At);return void 0!==e.value&&null!==e.value&&(t.value=String(e.value)),t},fromPartial(e){let t=f({},At);return void 0!==e.value&&null!==e.value&&(t.value=e.value),t},toJSON(e){let t={};return void 0!==e.value&&(t.value=e.value),t}},Ni=(te.util.Long!==li&&(te.util.Long=li,(0,te.configure)()),globalThis),bn=Ni.atob||(e=>Buffer.from(e,"base64").toString("binary")),Ln=Ni.btoa||(e=>Buffer.from(e,"binary").toString("base64")),Ut={channel_id:"",message_id:"",sender_id:"",username:"",content:"",room_name:"",group_id:"",user_id_one:"",user_id_two:""},fe={encode(e,t=Y.default.Writer.create()){return""!==e.channel_id&&t.uint32(10).string(e.channel_id),""!==e.message_id&&t.uint32(18).string(e.message_id),void 0!==e.code&&vt.encode({value:e.code},t.uint32(26).fork()).ldelim(),""!==e.sender_id&&t.uint32(34).string(e.sender_id),""!==e.username&&t.uint32(42).string(e.username),""!==e.content&&t.uint32(50).string(e.content),void 0!==e.create_time&&K.encode(Gr(e.create_time),t.uint32(58).fork()).ldelim(),void 0!==e.update_time&&K.encode(Gr(e.update_time),t.uint32(66).fork()).ldelim(),void 0!==e.persistent&&re.encode({value:e.persistent},t.uint32(74).fork()).ldelim(),""!==e.room_name&&t.uint32(82).string(e.room_name),""!==e.group_id&&t.uint32(90).string(e.group_id),""!==e.user_id_one&&t.uint32(98).string(e.user_id_one),""!==e.user_id_two&&t.uint32(106).string(e.user_id_two),t},decode(e,t){let r=e instanceof Y.default.Reader?e:new Y.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Ut);for(;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.channel_id=r.string();break;case 2:i.message_id=r.string();break;case 3:i.code=vt.decode(r,r.uint32()).value;break;case 4:i.sender_id=r.string();break;case 5:i.username=r.string();break;case 6:i.content=r.string();break;case 7:i.create_time=yt(K.decode(r,r.uint32()));break;case 8:i.update_time=yt(K.decode(r,r.uint32()));break;case 9:i.persistent=re.decode(r,r.uint32()).value;break;case 10:i.room_name=r.string();break;case 11:i.group_id=r.string();break;case 12:i.user_id_one=r.string();break;case 13:i.user_id_two=r.string();break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},Ut);return void 0!==e.channel_id&&null!==e.channel_id?t.channel_id=String(e.channel_id):t.channel_id="",void 0!==e.message_id&&null!==e.message_id?t.message_id=String(e.message_id):t.message_id="",void 0!==e.code&&null!==e.code?t.code=Number(e.code):t.code=void 0,void 0!==e.sender_id&&null!==e.sender_id?t.sender_id=String(e.sender_id):t.sender_id="",void 0!==e.username&&null!==e.username?t.username=String(e.username):t.username="",void 0!==e.content&&null!==e.content?t.content=String(e.content):t.content="",void 0!==e.create_time&&null!==e.create_time?t.create_time=Wr(e.create_time):t.create_time=void 0,void 0!==e.update_time&&null!==e.update_time?t.update_time=Wr(e.update_time):t.update_time=void 0,void 0!==e.persistent&&null!==e.persistent?t.persistent=Boolean(e.persistent):t.persistent=void 0,void 0!==e.room_name&&null!==e.room_name?t.room_name=String(e.room_name):t.room_name="",void 0!==e.group_id&&null!==e.group_id?t.group_id=String(e.group_id):t.group_id="",void 0!==e.user_id_one&&null!==e.user_id_one?t.user_id_one=String(e.user_id_one):t.user_id_one="",void 0!==e.user_id_two&&null!==e.user_id_two?t.user_id_two=String(e.user_id_two):t.user_id_two="",t},toJSON(e){let t={};return void 0!==e.channel_id&&(t.channel_id=e.channel_id),void 0!==e.message_id&&(t.message_id=e.message_id),void 0!==e.code&&(t.code=e.code),void 0!==e.sender_id&&(t.sender_id=e.sender_id),void 0!==e.username&&(t.username=e.username),void 0!==e.content&&(t.content=e.content),void 0!==e.create_time&&(t.create_time=e.create_time.toISOString()),void 0!==e.update_time&&(t.update_time=e.update_time.toISOString()),void 0!==e.persistent&&(t.persistent=e.persistent),void 0!==e.room_name&&(t.room_name=e.room_name),void 0!==e.group_id&&(t.group_id=e.group_id),void 0!==e.user_id_one&&(t.user_id_one=e.user_id_one),void 0!==e.user_id_two&&(t.user_id_two=e.user_id_two),t},fromPartial(e){let t=f({},Ut);return void 0!==e.channel_id&&null!==e.channel_id?t.channel_id=e.channel_id:t.channel_id="",void 0!==e.message_id&&null!==e.message_id?t.message_id=e.message_id:t.message_id="",void 0!==e.code&&null!==e.code?t.code=e.code:t.code=void 0,void 0!==e.sender_id&&null!==e.sender_id?t.sender_id=e.sender_id:t.sender_id="",void 0!==e.username&&null!==e.username?t.username=e.username:t.username="",void 0!==e.content&&null!==e.content?t.content=e.content:t.content="",void 0!==e.create_time&&null!==e.create_time?t.create_time=e.create_time:t.create_time=void 0,void 0!==e.update_time&&null!==e.update_time?t.update_time=e.update_time:t.update_time=void 0,void 0!==e.persistent&&null!==e.persistent?t.persistent=e.persistent:t.persistent=void 0,void 0!==e.room_name&&null!==e.room_name?t.room_name=e.room_name:t.room_name="",void 0!==e.group_id&&null!==e.group_id?t.group_id=e.group_id:t.group_id="",void 0!==e.user_id_one&&null!==e.user_id_one?t.user_id_one=e.user_id_one:t.user_id_one="",void 0!==e.user_id_two&&null!==e.user_id_two?t.user_id_two=e.user_id_two:t.user_id_two="",t}},Ct={id:"",subject:"",content:"",code:0,sender_id:"",persistent:!1},_e={encode(e,t=Y.default.Writer.create()){return""!==e.id&&t.uint32(10).string(e.id),""!==e.subject&&t.uint32(18).string(e.subject),""!==e.content&&t.uint32(26).string(e.content),0!==e.code&&t.uint32(32).int32(e.code),""!==e.sender_id&&t.uint32(42).string(e.sender_id),void 0!==e.create_time&&K.encode(Gr(e.create_time),t.uint32(50).fork()).ldelim(),!0===e.persistent&&t.uint32(56).bool(e.persistent),t},decode(e,t){let r=e instanceof Y.default.Reader?e:new Y.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Ct);for(;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.id=r.string();break;case 2:i.subject=r.string();break;case 3:i.content=r.string();break;case 4:i.code=r.int32();break;case 5:i.sender_id=r.string();break;case 6:i.create_time=yt(K.decode(r,r.uint32()));break;case 7:i.persistent=r.bool();break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},Ct);return void 0!==e.id&&null!==e.id?t.id=String(e.id):t.id="",void 0!==e.subject&&null!==e.subject?t.subject=String(e.subject):t.subject="",void 0!==e.content&&null!==e.content?t.content=String(e.content):t.content="",void 0!==e.code&&null!==e.code?t.code=Number(e.code):t.code=0,void 0!==e.sender_id&&null!==e.sender_id?t.sender_id=String(e.sender_id):t.sender_id="",void 0!==e.create_time&&null!==e.create_time?t.create_time=Wr(e.create_time):t.create_time=void 0,void 0!==e.persistent&&null!==e.persistent?t.persistent=Boolean(e.persistent):t.persistent=!1,t},toJSON(e){let t={};return void 0!==e.id&&(t.id=e.id),void 0!==e.subject&&(t.subject=e.subject),void 0!==e.content&&(t.content=e.content),void 0!==e.code&&(t.code=e.code),void 0!==e.sender_id&&(t.sender_id=e.sender_id),void 0!==e.create_time&&(t.create_time=e.create_time.toISOString()),void 0!==e.persistent&&(t.persistent=e.persistent),t},fromPartial(e){let t=f({},Ct);return void 0!==e.id&&null!==e.id?t.id=e.id:t.id="",void 0!==e.subject&&null!==e.subject?t.subject=e.subject:t.subject="",void 0!==e.content&&null!==e.content?t.content=e.content:t.content="",void 0!==e.code&&null!==e.code?t.code=e.code:t.code=0,void 0!==e.sender_id&&null!==e.sender_id?t.sender_id=e.sender_id:t.sender_id="",void 0!==e.create_time&&null!==e.create_time?t.create_time=e.create_time:t.create_time=void 0,void 0!==e.persistent&&null!==e.persistent?t.persistent=e.persistent:t.persistent=!1,t}},Bt={id:"",payload:"",http_key:""},pe={encode(e,t=Y.default.Writer.create()){return""!==e.id&&t.uint32(10).string(e.id),""!==e.payload&&t.uint32(18).string(e.payload),""!==e.http_key&&t.uint32(26).string(e.http_key),t},decode(e,t){let r=e instanceof Y.default.Reader?e:new Y.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Bt);for(;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.id=r.string();break;case 2:i.payload=r.string();break;case 3:i.http_key=r.string();break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},Bt);return void 0!==e.id&&null!==e.id?t.id=String(e.id):t.id="",void 0!==e.payload&&null!==e.payload?t.payload=String(e.payload):t.payload="",void 0!==e.http_key&&null!==e.http_key?t.http_key=String(e.http_key):t.http_key="",t},toJSON(e){let t={};return void 0!==e.id&&(t.id=e.id),void 0!==e.payload&&(t.payload=e.payload),void 0!==e.http_key&&(t.http_key=e.http_key),t},fromPartial(e){let t=f({},Bt);return void 0!==e.id&&null!==e.id?t.id=e.id:t.id="",void 0!==e.payload&&null!==e.payload?t.payload=e.payload:t.payload="",void 0!==e.http_key&&null!==e.http_key?t.http_key=e.http_key:t.http_key="",t}},di=(()=>{if(void 0!==di)return di;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw"Unable to locate global object"})();function Gr(e){return{seconds:e.getTime()/1e3,nanos:e.getTime()%1e3*1e6}}function yt(e){var t=1e3*e.seconds;return t+=e.nanos/1e6,new Date(t)}function Wr(e){return e instanceof Date?e:"string"==typeof e?new Date(e):yt(K.fromJSON(e))}Y.default.util.Long!==ui.default&&(Y.default.util.Long=ui.default,Y.default.configure());var Ft={cid:""},Dt={encode(e,t=_.default.Writer.create()){return""!==e.cid&&t.uint32(10).string(e.cid),void 0!==e.channel&&me.encode(e.channel,t.uint32(18).fork()).ldelim(),void 0!==e.channel_join&&ve.encode(e.channel_join,t.uint32(26).fork()).ldelim(),void 0!==e.channel_leave&&ye.encode(e.channel_leave,t.uint32(34).fork()).ldelim(),void 0!==e.channel_message&&fe.encode(e.channel_message,t.uint32(42).fork()).ldelim(),void 0!==e.channel_message_ack&&ke.encode(e.channel_message_ack,t.uint32(50).fork()).ldelim(),void 0!==e.channel_message_send&&we.encode(e.channel_message_send,t.uint32(58).fork()).ldelim(),void 0!==e.channel_message_update&&ge.encode(e.channel_message_update,t.uint32(66).fork()).ldelim(),void 0!==e.channel_message_remove&&Se.encode(e.channel_message_remove,t.uint32(74).fork()).ldelim(),void 0!==e.channel_presence_event&&Pe.encode(e.channel_presence_event,t.uint32(82).fork()).ldelim(),void 0!==e.error&&Oe.encode(e.error,t.uint32(90).fork()).ldelim(),void 0!==e.match&&Ne.encode(e.match,t.uint32(98).fork()).ldelim(),void 0!==e.match_create&&Je.encode(e.match_create,t.uint32(106).fork()).ldelim(),void 0!==e.match_data&&Re.encode(e.match_data,t.uint32(114).fork()).ldelim(),void 0!==e.match_data_send&&Me.encode(e.match_data_send,t.uint32(122).fork()).ldelim(),void 0!==e.match_join&&xe.encode(e.match_join,t.uint32(130).fork()).ldelim(),void 0!==e.match_leave&&Ee.encode(e.match_leave,t.uint32(138).fork()).ldelim(),void 0!==e.match_presence_event&&qe.encode(e.match_presence_event,t.uint32(146).fork()).ldelim(),void 0!==e.matchmaker_add&&Te.encode(e.matchmaker_add,t.uint32(154).fork()).ldelim(),void 0!==e.matchmaker_matched&&Ae.encode(e.matchmaker_matched,t.uint32(162).fork()).ldelim(),void 0!==e.matchmaker_remove&&Ue.encode(e.matchmaker_remove,t.uint32(170).fork()).ldelim(),void 0!==e.matchmaker_ticket&&Ce.encode(e.matchmaker_ticket,t.uint32(178).fork()).ldelim(),void 0!==e.notifications&&Be.encode(e.notifications,t.uint32(186).fork()).ldelim(),void 0!==e.rpc&&pe.encode(e.rpc,t.uint32(194).fork()).ldelim(),void 0!==e.status&&rt.encode(e.status,t.uint32(202).fork()).ldelim(),void 0!==e.status_follow&&it.encode(e.status_follow,t.uint32(210).fork()).ldelim(),void 0!==e.status_presence_event&&nt.encode(e.status_presence_event,t.uint32(218).fork()).ldelim(),void 0!==e.status_unfollow&&at.encode(e.status_unfollow,t.uint32(226).fork()).ldelim(),void 0!==e.status_update&&st.encode(e.status_update,t.uint32(234).fork()).ldelim(),void 0!==e.stream_data&&ot.encode(e.stream_data,t.uint32(242).fork()).ldelim(),void 0!==e.stream_presence_event&&ut.encode(e.stream_presence_event,t.uint32(250).fork()).ldelim(),void 0!==e.ping&&et.encode(e.ping,t.uint32(258).fork()).ldelim(),void 0!==e.pong&&tt.encode(e.pong,t.uint32(266).fork()).ldelim(),void 0!==e.party&&Fe.encode(e.party,t.uint32(274).fork()).ldelim(),void 0!==e.party_create&&De.encode(e.party_create,t.uint32(282).fork()).ldelim(),void 0!==e.party_join&&Ie.encode(e.party_join,t.uint32(290).fork()).ldelim(),void 0!==e.party_leave&&ze.encode(e.party_leave,t.uint32(298).fork()).ldelim(),void 0!==e.party_promote&&be.encode(e.party_promote,t.uint32(306).fork()).ldelim(),void 0!==e.party_leader&&Le.encode(e.party_leader,t.uint32(314).fork()).ldelim(),void 0!==e.party_accept&&Ge.encode(e.party_accept,t.uint32(322).fork()).ldelim(),void 0!==e.party_remove&&We.encode(e.party_remove,t.uint32(330).fork()).ldelim(),void 0!==e.party_close&&He.encode(e.party_close,t.uint32(338).fork()).ldelim(),void 0!==e.party_join_request_list&&Ve.encode(e.party_join_request_list,t.uint32(346).fork()).ldelim(),void 0!==e.party_join_request&&Ze.encode(e.party_join_request,t.uint32(354).fork()).ldelim(),void 0!==e.party_matchmaker_add&&$e.encode(e.party_matchmaker_add,t.uint32(362).fork()).ldelim(),void 0!==e.party_matchmaker_remove&&Xe.encode(e.party_matchmaker_remove,t.uint32(370).fork()).ldelim(),void 0!==e.party_matchmaker_ticket&&Ke.encode(e.party_matchmaker_ticket,t.uint32(378).fork()).ldelim(),void 0!==e.party_data&&Ye.encode(e.party_data,t.uint32(386).fork()).ldelim(),void 0!==e.party_data_send&&Qe.encode(e.party_data_send,t.uint32(394).fork()).ldelim(),void 0!==e.party_presence_event&&je.encode(e.party_presence_event,t.uint32(402).fork()).ldelim(),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Ft);for(;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.cid=r.string();break;case 2:i.channel=me.decode(r,r.uint32());break;case 3:i.channel_join=ve.decode(r,r.uint32());break;case 4:i.channel_leave=ye.decode(r,r.uint32());break;case 5:i.channel_message=fe.decode(r,r.uint32());break;case 6:i.channel_message_ack=ke.decode(r,r.uint32());break;case 7:i.channel_message_send=we.decode(r,r.uint32());break;case 8:i.channel_message_update=ge.decode(r,r.uint32());break;case 9:i.channel_message_remove=Se.decode(r,r.uint32());break;case 10:i.channel_presence_event=Pe.decode(r,r.uint32());break;case 11:i.error=Oe.decode(r,r.uint32());break;case 12:i.match=Ne.decode(r,r.uint32());break;case 13:i.match_create=Je.decode(r,r.uint32());break;case 14:i.match_data=Re.decode(r,r.uint32());break;case 15:i.match_data_send=Me.decode(r,r.uint32());break;case 16:i.match_join=xe.decode(r,r.uint32());break;case 17:i.match_leave=Ee.decode(r,r.uint32());break;case 18:i.match_presence_event=qe.decode(r,r.uint32());break;case 19:i.matchmaker_add=Te.decode(r,r.uint32());break;case 20:i.matchmaker_matched=Ae.decode(r,r.uint32());break;case 21:i.matchmaker_remove=Ue.decode(r,r.uint32());break;case 22:i.matchmaker_ticket=Ce.decode(r,r.uint32());break;case 23:i.notifications=Be.decode(r,r.uint32());break;case 24:i.rpc=pe.decode(r,r.uint32());break;case 25:i.status=rt.decode(r,r.uint32());break;case 26:i.status_follow=it.decode(r,r.uint32());break;case 27:i.status_presence_event=nt.decode(r,r.uint32());break;case 28:i.status_unfollow=at.decode(r,r.uint32());break;case 29:i.status_update=st.decode(r,r.uint32());break;case 30:i.stream_data=ot.decode(r,r.uint32());break;case 31:i.stream_presence_event=ut.decode(r,r.uint32());break;case 32:i.ping=et.decode(r,r.uint32());break;case 33:i.pong=tt.decode(r,r.uint32());break;case 34:i.party=Fe.decode(r,r.uint32());break;case 35:i.party_create=De.decode(r,r.uint32());break;case 36:i.party_join=Ie.decode(r,r.uint32());break;case 37:i.party_leave=ze.decode(r,r.uint32());break;case 38:i.party_promote=be.decode(r,r.uint32());break;case 39:i.party_leader=Le.decode(r,r.uint32());break;case 40:i.party_accept=Ge.decode(r,r.uint32());break;case 41:i.party_remove=We.decode(r,r.uint32());break;case 42:i.party_close=He.decode(r,r.uint32());break;case 43:i.party_join_request_list=Ve.decode(r,r.uint32());break;case 44:i.party_join_request=Ze.decode(r,r.uint32());break;case 45:i.party_matchmaker_add=$e.decode(r,r.uint32());break;case 46:i.party_matchmaker_remove=Xe.decode(r,r.uint32());break;case 47:i.party_matchmaker_ticket=Ke.decode(r,r.uint32());break;case 48:i.party_data=Ye.decode(r,r.uint32());break;case 49:i.party_data_send=Qe.decode(r,r.uint32());break;case 50:i.party_presence_event=je.decode(r,r.uint32());break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},Ft);return void 0!==e.cid&&null!==e.cid?t.cid=String(e.cid):t.cid="",void 0!==e.channel&&null!==e.channel?t.channel=me.fromJSON(e.channel):t.channel=void 0,void 0!==e.channel_join&&null!==e.channel_join?t.channel_join=ve.fromJSON(e.channel_join):t.channel_join=void 0,void 0!==e.channel_leave&&null!==e.channel_leave?t.channel_leave=ye.fromJSON(e.channel_leave):t.channel_leave=void 0,void 0!==e.channel_message&&null!==e.channel_message?t.channel_message=fe.fromJSON(e.channel_message):t.channel_message=void 0,void 0!==e.channel_message_ack&&null!==e.channel_message_ack?t.channel_message_ack=ke.fromJSON(e.channel_message_ack):t.channel_message_ack=void 0,void 0!==e.channel_message_send&&null!==e.channel_message_send?t.channel_message_send=we.fromJSON(e.channel_message_send):t.channel_message_send=void 0,void 0!==e.channel_message_update&&null!==e.channel_message_update?t.channel_message_update=ge.fromJSON(e.channel_message_update):t.channel_message_update=void 0,void 0!==e.channel_message_remove&&null!==e.channel_message_remove?t.channel_message_remove=Se.fromJSON(e.channel_message_remove):t.channel_message_remove=void 0,void 0!==e.channel_presence_event&&null!==e.channel_presence_event?t.channel_presence_event=Pe.fromJSON(e.channel_presence_event):t.channel_presence_event=void 0,void 0!==e.error&&null!==e.error?t.error=Oe.fromJSON(e.error):t.error=void 0,void 0!==e.match&&null!==e.match?t.match=Ne.fromJSON(e.match):t.match=void 0,void 0!==e.match_create&&null!==e.match_create?t.match_create=Je.fromJSON(e.match_create):t.match_create=void 0,void 0!==e.match_data&&null!==e.match_data?t.match_data=Re.fromJSON(e.match_data):t.match_data=void 0,void 0!==e.match_data_send&&null!==e.match_data_send?t.match_data_send=Me.fromJSON(e.match_data_send):t.match_data_send=void 0,void 0!==e.match_join&&null!==e.match_join?t.match_join=xe.fromJSON(e.match_join):t.match_join=void 0,void 0!==e.match_leave&&null!==e.match_leave?t.match_leave=Ee.fromJSON(e.match_leave):t.match_leave=void 0,void 0!==e.match_presence_event&&null!==e.match_presence_event?t.match_presence_event=qe.fromJSON(e.match_presence_event):t.match_presence_event=void 0,void 0!==e.matchmaker_add&&null!==e.matchmaker_add?t.matchmaker_add=Te.fromJSON(e.matchmaker_add):t.matchmaker_add=void 0,void 0!==e.matchmaker_matched&&null!==e.matchmaker_matched?t.matchmaker_matched=Ae.fromJSON(e.matchmaker_matched):t.matchmaker_matched=void 0,void 0!==e.matchmaker_remove&&null!==e.matchmaker_remove?t.matchmaker_remove=Ue.fromJSON(e.matchmaker_remove):t.matchmaker_remove=void 0,void 0!==e.matchmaker_ticket&&null!==e.matchmaker_ticket?t.matchmaker_ticket=Ce.fromJSON(e.matchmaker_ticket):t.matchmaker_ticket=void 0,void 0!==e.notifications&&null!==e.notifications?t.notifications=Be.fromJSON(e.notifications):t.notifications=void 0,void 0!==e.rpc&&null!==e.rpc?t.rpc=pe.fromJSON(e.rpc):t.rpc=void 0,void 0!==e.status&&null!==e.status?t.status=rt.fromJSON(e.status):t.status=void 0,void 0!==e.status_follow&&null!==e.status_follow?t.status_follow=it.fromJSON(e.status_follow):t.status_follow=void 0,void 0!==e.status_presence_event&&null!==e.status_presence_event?t.status_presence_event=nt.fromJSON(e.status_presence_event):t.status_presence_event=void 0,void 0!==e.status_unfollow&&null!==e.status_unfollow?t.status_unfollow=at.fromJSON(e.status_unfollow):t.status_unfollow=void 0,void 0!==e.status_update&&null!==e.status_update?t.status_update=st.fromJSON(e.status_update):t.status_update=void 0,void 0!==e.stream_data&&null!==e.stream_data?t.stream_data=ot.fromJSON(e.stream_data):t.stream_data=void 0,void 0!==e.stream_presence_event&&null!==e.stream_presence_event?t.stream_presence_event=ut.fromJSON(e.stream_presence_event):t.stream_presence_event=void 0,void 0!==e.ping&&null!==e.ping?t.ping=et.fromJSON(e.ping):t.ping=void 0,void 0!==e.pong&&null!==e.pong?t.pong=tt.fromJSON(e.pong):t.pong=void 0,void 0!==e.party&&null!==e.party?t.party=Fe.fromJSON(e.party):t.party=void 0,void 0!==e.party_create&&null!==e.party_create?t.party_create=De.fromJSON(e.party_create):t.party_create=void 0,void 0!==e.party_join&&null!==e.party_join?t.party_join=Ie.fromJSON(e.party_join):t.party_join=void 0,void 0!==e.party_leave&&null!==e.party_leave?t.party_leave=ze.fromJSON(e.party_leave):t.party_leave=void 0,void 0!==e.party_promote&&null!==e.party_promote?t.party_promote=be.fromJSON(e.party_promote):t.party_promote=void 0,void 0!==e.party_leader&&null!==e.party_leader?t.party_leader=Le.fromJSON(e.party_leader):t.party_leader=void 0,void 0!==e.party_accept&&null!==e.party_accept?t.party_accept=Ge.fromJSON(e.party_accept):t.party_accept=void 0,void 0!==e.party_remove&&null!==e.party_remove?t.party_remove=We.fromJSON(e.party_remove):t.party_remove=void 0,void 0!==e.party_close&&null!==e.party_close?t.party_close=He.fromJSON(e.party_close):t.party_close=void 0,void 0!==e.party_join_request_list&&null!==e.party_join_request_list?t.party_join_request_list=Ve.fromJSON(e.party_join_request_list):t.party_join_request_list=void 0,void 0!==e.party_join_request&&null!==e.party_join_request?t.party_join_request=Ze.fromJSON(e.party_join_request):t.party_join_request=void 0,void 0!==e.party_matchmaker_add&&null!==e.party_matchmaker_add?t.party_matchmaker_add=$e.fromJSON(e.party_matchmaker_add):t.party_matchmaker_add=void 0,void 0!==e.party_matchmaker_remove&&null!==e.party_matchmaker_remove?t.party_matchmaker_remove=Xe.fromJSON(e.party_matchmaker_remove):t.party_matchmaker_remove=void 0,void 0!==e.party_matchmaker_ticket&&null!==e.party_matchmaker_ticket?t.party_matchmaker_ticket=Ke.fromJSON(e.party_matchmaker_ticket):t.party_matchmaker_ticket=void 0,void 0!==e.party_data&&null!==e.party_data?t.party_data=Ye.fromJSON(e.party_data):t.party_data=void 0,void 0!==e.party_data_send&&null!==e.party_data_send?t.party_data_send=Qe.fromJSON(e.party_data_send):t.party_data_send=void 0,void 0!==e.party_presence_event&&null!==e.party_presence_event?t.party_presence_event=je.fromJSON(e.party_presence_event):t.party_presence_event=void 0,t},toJSON(e){let t={};return void 0!==e.cid&&(t.cid=e.cid),void 0!==e.channel&&(t.channel=e.channel?me.toJSON(e.channel):void 0),void 0!==e.channel_join&&(t.channel_join=e.channel_join?ve.toJSON(e.channel_join):void 0),void 0!==e.channel_leave&&(t.channel_leave=e.channel_leave?ye.toJSON(e.channel_leave):void 0),void 0!==e.channel_message&&(t.channel_message=e.channel_message?fe.toJSON(e.channel_message):void 0),void 0!==e.channel_message_ack&&(t.channel_message_ack=e.channel_message_ack?ke.toJSON(e.channel_message_ack):void 0),void 0!==e.channel_message_send&&(t.channel_message_send=e.channel_message_send?we.toJSON(e.channel_message_send):void 0),void 0!==e.channel_message_update&&(t.channel_message_update=e.channel_message_update?ge.toJSON(e.channel_message_update):void 0),void 0!==e.channel_message_remove&&(t.channel_message_remove=e.channel_message_remove?Se.toJSON(e.channel_message_remove):void 0),void 0!==e.channel_presence_event&&(t.channel_presence_event=e.channel_presence_event?Pe.toJSON(e.channel_presence_event):void 0),void 0!==e.error&&(t.error=e.error?Oe.toJSON(e.error):void 0),void 0!==e.match&&(t.match=e.match?Ne.toJSON(e.match):void 0),void 0!==e.match_create&&(t.match_create=e.match_create?Je.toJSON(e.match_create):void 0),void 0!==e.match_data&&(t.match_data=e.match_data?Re.toJSON(e.match_data):void 0),void 0!==e.match_data_send&&(t.match_data_send=e.match_data_send?Me.toJSON(e.match_data_send):void 0),void 0!==e.match_join&&(t.match_join=e.match_join?xe.toJSON(e.match_join):void 0),void 0!==e.match_leave&&(t.match_leave=e.match_leave?Ee.toJSON(e.match_leave):void 0),void 0!==e.match_presence_event&&(t.match_presence_event=e.match_presence_event?qe.toJSON(e.match_presence_event):void 0),void 0!==e.matchmaker_add&&(t.matchmaker_add=e.matchmaker_add?Te.toJSON(e.matchmaker_add):void 0),void 0!==e.matchmaker_matched&&(t.matchmaker_matched=e.matchmaker_matched?Ae.toJSON(e.matchmaker_matched):void 0),void 0!==e.matchmaker_remove&&(t.matchmaker_remove=e.matchmaker_remove?Ue.toJSON(e.matchmaker_remove):void 0),void 0!==e.matchmaker_ticket&&(t.matchmaker_ticket=e.matchmaker_ticket?Ce.toJSON(e.matchmaker_ticket):void 0),void 0!==e.notifications&&(t.notifications=e.notifications?Be.toJSON(e.notifications):void 0),void 0!==e.rpc&&(t.rpc=e.rpc?pe.toJSON(e.rpc):void 0),void 0!==e.status&&(t.status=e.status?rt.toJSON(e.status):void 0),void 0!==e.status_follow&&(t.status_follow=e.status_follow?it.toJSON(e.status_follow):void 0),void 0!==e.status_presence_event&&(t.status_presence_event=e.status_presence_event?nt.toJSON(e.status_presence_event):void 0),void 0!==e.status_unfollow&&(t.status_unfollow=e.status_unfollow?at.toJSON(e.status_unfollow):void 0),void 0!==e.status_update&&(t.status_update=e.status_update?st.toJSON(e.status_update):void 0),void 0!==e.stream_data&&(t.stream_data=e.stream_data?ot.toJSON(e.stream_data):void 0),void 0!==e.stream_presence_event&&(t.stream_presence_event=e.stream_presence_event?ut.toJSON(e.stream_presence_event):void 0),void 0!==e.ping&&(t.ping=e.ping?et.toJSON(e.ping):void 0),void 0!==e.pong&&(t.pong=e.pong?tt.toJSON(e.pong):void 0),void 0!==e.party&&(t.party=e.party?Fe.toJSON(e.party):void 0),void 0!==e.party_create&&(t.party_create=e.party_create?De.toJSON(e.party_create):void 0),void 0!==e.party_join&&(t.party_join=e.party_join?Ie.toJSON(e.party_join):void 0),void 0!==e.party_leave&&(t.party_leave=e.party_leave?ze.toJSON(e.party_leave):void 0),void 0!==e.party_promote&&(t.party_promote=e.party_promote?be.toJSON(e.party_promote):void 0),void 0!==e.party_leader&&(t.party_leader=e.party_leader?Le.toJSON(e.party_leader):void 0),void 0!==e.party_accept&&(t.party_accept=e.party_accept?Ge.toJSON(e.party_accept):void 0),void 0!==e.party_remove&&(t.party_remove=e.party_remove?We.toJSON(e.party_remove):void 0),void 0!==e.party_close&&(t.party_close=e.party_close?He.toJSON(e.party_close):void 0),void 0!==e.party_join_request_list&&(t.party_join_request_list=e.party_join_request_list?Ve.toJSON(e.party_join_request_list):void 0),void 0!==e.party_join_request&&(t.party_join_request=e.party_join_request?Ze.toJSON(e.party_join_request):void 0),void 0!==e.party_matchmaker_add&&(t.party_matchmaker_add=e.party_matchmaker_add?$e.toJSON(e.party_matchmaker_add):void 0),void 0!==e.party_matchmaker_remove&&(t.party_matchmaker_remove=e.party_matchmaker_remove?Xe.toJSON(e.party_matchmaker_remove):void 0),void 0!==e.party_matchmaker_ticket&&(t.party_matchmaker_ticket=e.party_matchmaker_ticket?Ke.toJSON(e.party_matchmaker_ticket):void 0),void 0!==e.party_data&&(t.party_data=e.party_data?Ye.toJSON(e.party_data):void 0),void 0!==e.party_data_send&&(t.party_data_send=e.party_data_send?Qe.toJSON(e.party_data_send):void 0),void 0!==e.party_presence_event&&(t.party_presence_event=e.party_presence_event?je.toJSON(e.party_presence_event):void 0),t},fromPartial(e){let t=f({},Ft);return void 0!==e.cid&&null!==e.cid?t.cid=e.cid:t.cid="",void 0!==e.channel&&null!==e.channel?t.channel=me.fromPartial(e.channel):t.channel=void 0,void 0!==e.channel_join&&null!==e.channel_join?t.channel_join=ve.fromPartial(e.channel_join):t.channel_join=void 0,void 0!==e.channel_leave&&null!==e.channel_leave?t.channel_leave=ye.fromPartial(e.channel_leave):t.channel_leave=void 0,void 0!==e.channel_message&&null!==e.channel_message?t.channel_message=fe.fromPartial(e.channel_message):t.channel_message=void 0,void 0!==e.channel_message_ack&&null!==e.channel_message_ack?t.channel_message_ack=ke.fromPartial(e.channel_message_ack):t.channel_message_ack=void 0,void 0!==e.channel_message_send&&null!==e.channel_message_send?t.channel_message_send=we.fromPartial(e.channel_message_send):t.channel_message_send=void 0,void 0!==e.channel_message_update&&null!==e.channel_message_update?t.channel_message_update=ge.fromPartial(e.channel_message_update):t.channel_message_update=void 0,void 0!==e.channel_message_remove&&null!==e.channel_message_remove?t.channel_message_remove=Se.fromPartial(e.channel_message_remove):t.channel_message_remove=void 0,void 0!==e.channel_presence_event&&null!==e.channel_presence_event?t.channel_presence_event=Pe.fromPartial(e.channel_presence_event):t.channel_presence_event=void 0,void 0!==e.error&&null!==e.error?t.error=Oe.fromPartial(e.error):t.error=void 0,void 0!==e.match&&null!==e.match?t.match=Ne.fromPartial(e.match):t.match=void 0,void 0!==e.match_create&&null!==e.match_create?t.match_create=Je.fromPartial(e.match_create):t.match_create=void 0,void 0!==e.match_data&&null!==e.match_data?t.match_data=Re.fromPartial(e.match_data):t.match_data=void 0,void 0!==e.match_data_send&&null!==e.match_data_send?t.match_data_send=Me.fromPartial(e.match_data_send):t.match_data_send=void 0,void 0!==e.match_join&&null!==e.match_join?t.match_join=xe.fromPartial(e.match_join):t.match_join=void 0,void 0!==e.match_leave&&null!==e.match_leave?t.match_leave=Ee.fromPartial(e.match_leave):t.match_leave=void 0,void 0!==e.match_presence_event&&null!==e.match_presence_event?t.match_presence_event=qe.fromPartial(e.match_presence_event):t.match_presence_event=void 0,void 0!==e.matchmaker_add&&null!==e.matchmaker_add?t.matchmaker_add=Te.fromPartial(e.matchmaker_add):t.matchmaker_add=void 0,void 0!==e.matchmaker_matched&&null!==e.matchmaker_matched?t.matchmaker_matched=Ae.fromPartial(e.matchmaker_matched):t.matchmaker_matched=void 0,void 0!==e.matchmaker_remove&&null!==e.matchmaker_remove?t.matchmaker_remove=Ue.fromPartial(e.matchmaker_remove):t.matchmaker_remove=void 0,void 0!==e.matchmaker_ticket&&null!==e.matchmaker_ticket?t.matchmaker_ticket=Ce.fromPartial(e.matchmaker_ticket):t.matchmaker_ticket=void 0,void 0!==e.notifications&&null!==e.notifications?t.notifications=Be.fromPartial(e.notifications):t.notifications=void 0,void 0!==e.rpc&&null!==e.rpc?t.rpc=pe.fromPartial(e.rpc):t.rpc=void 0,void 0!==e.status&&null!==e.status?t.status=rt.fromPartial(e.status):t.status=void 0,void 0!==e.status_follow&&null!==e.status_follow?t.status_follow=it.fromPartial(e.status_follow):t.status_follow=void 0,void 0!==e.status_presence_event&&null!==e.status_presence_event?t.status_presence_event=nt.fromPartial(e.status_presence_event):t.status_presence_event=void 0,void 0!==e.status_unfollow&&null!==e.status_unfollow?t.status_unfollow=at.fromPartial(e.status_unfollow):t.status_unfollow=void 0,void 0!==e.status_update&&null!==e.status_update?t.status_update=st.fromPartial(e.status_update):t.status_update=void 0,void 0!==e.stream_data&&null!==e.stream_data?t.stream_data=ot.fromPartial(e.stream_data):t.stream_data=void 0,void 0!==e.stream_presence_event&&null!==e.stream_presence_event?t.stream_presence_event=ut.fromPartial(e.stream_presence_event):t.stream_presence_event=void 0,void 0!==e.ping&&null!==e.ping?t.ping=et.fromPartial(e.ping):t.ping=void 0,void 0!==e.pong&&null!==e.pong?t.pong=tt.fromPartial(e.pong):t.pong=void 0,void 0!==e.party&&null!==e.party?t.party=Fe.fromPartial(e.party):t.party=void 0,void 0!==e.party_create&&null!==e.party_create?t.party_create=De.fromPartial(e.party_create):t.party_create=void 0,void 0!==e.party_join&&null!==e.party_join?t.party_join=Ie.fromPartial(e.party_join):t.party_join=void 0,void 0!==e.party_leave&&null!==e.party_leave?t.party_leave=ze.fromPartial(e.party_leave):t.party_leave=void 0,void 0!==e.party_promote&&null!==e.party_promote?t.party_promote=be.fromPartial(e.party_promote):t.party_promote=void 0,void 0!==e.party_leader&&null!==e.party_leader?t.party_leader=Le.fromPartial(e.party_leader):t.party_leader=void 0,void 0!==e.party_accept&&null!==e.party_accept?t.party_accept=Ge.fromPartial(e.party_accept):t.party_accept=void 0,void 0!==e.party_remove&&null!==e.party_remove?t.party_remove=We.fromPartial(e.party_remove):t.party_remove=void 0,void 0!==e.party_close&&null!==e.party_close?t.party_close=He.fromPartial(e.party_close):t.party_close=void 0,void 0!==e.party_join_request_list&&null!==e.party_join_request_list?t.party_join_request_list=Ve.fromPartial(e.party_join_request_list):t.party_join_request_list=void 0,void 0!==e.party_join_request&&null!==e.party_join_request?t.party_join_request=Ze.fromPartial(e.party_join_request):t.party_join_request=void 0,void 0!==e.party_matchmaker_add&&null!==e.party_matchmaker_add?t.party_matchmaker_add=$e.fromPartial(e.party_matchmaker_add):t.party_matchmaker_add=void 0,void 0!==e.party_matchmaker_remove&&null!==e.party_matchmaker_remove?t.party_matchmaker_remove=Xe.fromPartial(e.party_matchmaker_remove):t.party_matchmaker_remove=void 0,void 0!==e.party_matchmaker_ticket&&null!==e.party_matchmaker_ticket?t.party_matchmaker_ticket=Ke.fromPartial(e.party_matchmaker_ticket):t.party_matchmaker_ticket=void 0,void 0!==e.party_data&&null!==e.party_data?t.party_data=Ye.fromPartial(e.party_data):t.party_data=void 0,void 0!==e.party_data_send&&null!==e.party_data_send?t.party_data_send=Qe.fromPartial(e.party_data_send):t.party_data_send=void 0,void 0!==e.party_presence_event&&null!==e.party_presence_event?t.party_presence_event=je.fromPartial(e.party_presence_event):t.party_presence_event=void 0,t}},It={id:"",room_name:"",group_id:"",user_id_one:"",user_id_two:""},me={encode(e,t=_.default.Writer.create()){""!==e.id&&t.uint32(10).string(e.id);for(var r of e.presences)v.encode(r,t.uint32(18).fork()).ldelim();return void 0!==e.self&&v.encode(e.self,t.uint32(26).fork()).ldelim(),""!==e.room_name&&t.uint32(34).string(e.room_name),""!==e.group_id&&t.uint32(42).string(e.group_id),""!==e.user_id_one&&t.uint32(50).string(e.user_id_one),""!==e.user_id_two&&t.uint32(58).string(e.user_id_two),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},It);for(i.presences=[];r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.id=r.string();break;case 2:i.presences.push(v.decode(r,r.uint32()));break;case 3:i.self=v.decode(r,r.uint32());break;case 4:i.room_name=r.string();break;case 5:i.group_id=r.string();break;case 6:i.user_id_one=r.string();break;case 7:i.user_id_two=r.string();break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},It);if(t.presences=[],void 0!==e.id&&null!==e.id?t.id=String(e.id):t.id="",void 0!==e.presences&&null!==e.presences)for(var r of e.presences)t.presences.push(v.fromJSON(r));return void 0!==e.self&&null!==e.self?t.self=v.fromJSON(e.self):t.self=void 0,void 0!==e.room_name&&null!==e.room_name?t.room_name=String(e.room_name):t.room_name="",void 0!==e.group_id&&null!==e.group_id?t.group_id=String(e.group_id):t.group_id="",void 0!==e.user_id_one&&null!==e.user_id_one?t.user_id_one=String(e.user_id_one):t.user_id_one="",void 0!==e.user_id_two&&null!==e.user_id_two?t.user_id_two=String(e.user_id_two):t.user_id_two="",t},toJSON(e){let t={};return void 0!==e.id&&(t.id=e.id),e.presences?t.presences=e.presences.map(r=>r?v.toJSON(r):void 0):t.presences=[],void 0!==e.self&&(t.self=e.self?v.toJSON(e.self):void 0),void 0!==e.room_name&&(t.room_name=e.room_name),void 0!==e.group_id&&(t.group_id=e.group_id),void 0!==e.user_id_one&&(t.user_id_one=e.user_id_one),void 0!==e.user_id_two&&(t.user_id_two=e.user_id_two),t},fromPartial(e){let t=f({},It);if(t.presences=[],void 0!==e.id&&null!==e.id?t.id=e.id:t.id="",void 0!==e.presences&&null!==e.presences)for(var r of e.presences)t.presences.push(v.fromPartial(r));return void 0!==e.self&&null!==e.self?t.self=v.fromPartial(e.self):t.self=void 0,void 0!==e.room_name&&null!==e.room_name?t.room_name=e.room_name:t.room_name="",void 0!==e.group_id&&null!==e.group_id?t.group_id=e.group_id:t.group_id="",void 0!==e.user_id_one&&null!==e.user_id_one?t.user_id_one=e.user_id_one:t.user_id_one="",void 0!==e.user_id_two&&null!==e.user_id_two?t.user_id_two=e.user_id_two:t.user_id_two="",t}},zt={target:"",type:0},ve={encode(e,t=_.default.Writer.create()){return""!==e.target&&t.uint32(10).string(e.target),0!==e.type&&t.uint32(16).int32(e.type),void 0!==e.persistence&&re.encode({value:e.persistence},t.uint32(26).fork()).ldelim(),void 0!==e.hidden&&re.encode({value:e.hidden},t.uint32(34).fork()).ldelim(),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},zt);for(;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.target=r.string();break;case 2:i.type=r.int32();break;case 3:i.persistence=re.decode(r,r.uint32()).value;break;case 4:i.hidden=re.decode(r,r.uint32()).value;break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},zt);return void 0!==e.target&&null!==e.target?t.target=String(e.target):t.target="",void 0!==e.type&&null!==e.type?t.type=Number(e.type):t.type=0,void 0!==e.persistence&&null!==e.persistence?t.persistence=Boolean(e.persistence):t.persistence=void 0,void 0!==e.hidden&&null!==e.hidden?t.hidden=Boolean(e.hidden):t.hidden=void 0,t},toJSON(e){let t={};return void 0!==e.target&&(t.target=e.target),void 0!==e.type&&(t.type=e.type),void 0!==e.persistence&&(t.persistence=e.persistence),void 0!==e.hidden&&(t.hidden=e.hidden),t},fromPartial(e){let t=f({},zt);return void 0!==e.target&&null!==e.target?t.target=e.target:t.target="",void 0!==e.type&&null!==e.type?t.type=e.type:t.type=0,void 0!==e.persistence&&null!==e.persistence?t.persistence=e.persistence:t.persistence=void 0,void 0!==e.hidden&&null!==e.hidden?t.hidden=e.hidden:t.hidden=void 0,t}},bt={channel_id:""},ye={encode(e,t=_.default.Writer.create()){return""!==e.channel_id&&t.uint32(10).string(e.channel_id),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},bt);for(;r.pos<n;){var a=r.uint32();a>>>3==1?i.channel_id=r.string():r.skipType(7&a)}return i},fromJSON(e){let t=f({},bt);return void 0!==e.channel_id&&null!==e.channel_id?t.channel_id=String(e.channel_id):t.channel_id="",t},toJSON(e){let t={};return void 0!==e.channel_id&&(t.channel_id=e.channel_id),t},fromPartial(e){let t=f({},bt);return void 0!==e.channel_id&&null!==e.channel_id?t.channel_id=e.channel_id:t.channel_id="",t}},Lt={channel_id:"",message_id:"",username:"",room_name:"",group_id:"",user_id_one:"",user_id_two:""},ke={encode(e,t=_.default.Writer.create()){return""!==e.channel_id&&t.uint32(10).string(e.channel_id),""!==e.message_id&&t.uint32(18).string(e.message_id),void 0!==e.code&&vt.encode({value:e.code},t.uint32(26).fork()).ldelim(),""!==e.username&&t.uint32(34).string(e.username),void 0!==e.create_time&&K.encode(ki(e.create_time),t.uint32(42).fork()).ldelim(),void 0!==e.update_time&&K.encode(ki(e.update_time),t.uint32(50).fork()).ldelim(),void 0!==e.persistent&&re.encode({value:e.persistent},t.uint32(58).fork()).ldelim(),""!==e.room_name&&t.uint32(66).string(e.room_name),""!==e.group_id&&t.uint32(74).string(e.group_id),""!==e.user_id_one&&t.uint32(82).string(e.user_id_one),""!==e.user_id_two&&t.uint32(90).string(e.user_id_two),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Lt);for(;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.channel_id=r.string();break;case 2:i.message_id=r.string();break;case 3:i.code=vt.decode(r,r.uint32()).value;break;case 4:i.username=r.string();break;case 5:i.create_time=Hr(K.decode(r,r.uint32()));break;case 6:i.update_time=Hr(K.decode(r,r.uint32()));break;case 7:i.persistent=re.decode(r,r.uint32()).value;break;case 8:i.room_name=r.string();break;case 9:i.group_id=r.string();break;case 10:i.user_id_one=r.string();break;case 11:i.user_id_two=r.string();break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},Lt);return void 0!==e.channel_id&&null!==e.channel_id?t.channel_id=String(e.channel_id):t.channel_id="",void 0!==e.message_id&&null!==e.message_id?t.message_id=String(e.message_id):t.message_id="",void 0!==e.code&&null!==e.code?t.code=Number(e.code):t.code=void 0,void 0!==e.username&&null!==e.username?t.username=String(e.username):t.username="",void 0!==e.create_time&&null!==e.create_time?t.create_time=wi(e.create_time):t.create_time=void 0,void 0!==e.update_time&&null!==e.update_time?t.update_time=wi(e.update_time):t.update_time=void 0,void 0!==e.persistent&&null!==e.persistent?t.persistent=Boolean(e.persistent):t.persistent=void 0,void 0!==e.room_name&&null!==e.room_name?t.room_name=String(e.room_name):t.room_name="",void 0!==e.group_id&&null!==e.group_id?t.group_id=String(e.group_id):t.group_id="",void 0!==e.user_id_one&&null!==e.user_id_one?t.user_id_one=String(e.user_id_one):t.user_id_one="",void 0!==e.user_id_two&&null!==e.user_id_two?t.user_id_two=String(e.user_id_two):t.user_id_two="",t},toJSON(e){let t={};return void 0!==e.channel_id&&(t.channel_id=e.channel_id),void 0!==e.message_id&&(t.message_id=e.message_id),void 0!==e.code&&(t.code=e.code),void 0!==e.username&&(t.username=e.username),void 0!==e.create_time&&(t.create_time=e.create_time.toISOString()),void 0!==e.update_time&&(t.update_time=e.update_time.toISOString()),void 0!==e.persistent&&(t.persistent=e.persistent),void 0!==e.room_name&&(t.room_name=e.room_name),void 0!==e.group_id&&(t.group_id=e.group_id),void 0!==e.user_id_one&&(t.user_id_one=e.user_id_one),void 0!==e.user_id_two&&(t.user_id_two=e.user_id_two),t},fromPartial(e){let t=f({},Lt);return void 0!==e.channel_id&&null!==e.channel_id?t.channel_id=e.channel_id:t.channel_id="",void 0!==e.message_id&&null!==e.message_id?t.message_id=e.message_id:t.message_id="",void 0!==e.code&&null!==e.code?t.code=e.code:t.code=void 0,void 0!==e.username&&null!==e.username?t.username=e.username:t.username="",void 0!==e.create_time&&null!==e.create_time?t.create_time=e.create_time:t.create_time=void 0,void 0!==e.update_time&&null!==e.update_time?t.update_time=e.update_time:t.update_time=void 0,void 0!==e.persistent&&null!==e.persistent?t.persistent=e.persistent:t.persistent=void 0,void 0!==e.room_name&&null!==e.room_name?t.room_name=e.room_name:t.room_name="",void 0!==e.group_id&&null!==e.group_id?t.group_id=e.group_id:t.group_id="",void 0!==e.user_id_one&&null!==e.user_id_one?t.user_id_one=e.user_id_one:t.user_id_one="",void 0!==e.user_id_two&&null!==e.user_id_two?t.user_id_two=e.user_id_two:t.user_id_two="",t}},Gt={channel_id:"",content:""},we={encode(e,t=_.default.Writer.create()){return""!==e.channel_id&&t.uint32(10).string(e.channel_id),""!==e.content&&t.uint32(18).string(e.content),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Gt);for(;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.channel_id=r.string();break;case 2:i.content=r.string();break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},Gt);return void 0!==e.channel_id&&null!==e.channel_id?t.channel_id=String(e.channel_id):t.channel_id="",void 0!==e.content&&null!==e.content?t.content=String(e.content):t.content="",t},toJSON(e){let t={};return void 0!==e.channel_id&&(t.channel_id=e.channel_id),void 0!==e.content&&(t.content=e.content),t},fromPartial(e){let t=f({},Gt);return void 0!==e.channel_id&&null!==e.channel_id?t.channel_id=e.channel_id:t.channel_id="",void 0!==e.content&&null!==e.content?t.content=e.content:t.content="",t}},Wt={channel_id:"",message_id:"",content:""},ge={encode(e,t=_.default.Writer.create()){return""!==e.channel_id&&t.uint32(10).string(e.channel_id),""!==e.message_id&&t.uint32(18).string(e.message_id),""!==e.content&&t.uint32(26).string(e.content),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Wt);for(;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.channel_id=r.string();break;case 2:i.message_id=r.string();break;case 3:i.content=r.string();break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},Wt);return void 0!==e.channel_id&&null!==e.channel_id?t.channel_id=String(e.channel_id):t.channel_id="",void 0!==e.message_id&&null!==e.message_id?t.message_id=String(e.message_id):t.message_id="",void 0!==e.content&&null!==e.content?t.content=String(e.content):t.content="",t},toJSON(e){let t={};return void 0!==e.channel_id&&(t.channel_id=e.channel_id),void 0!==e.message_id&&(t.message_id=e.message_id),void 0!==e.content&&(t.content=e.content),t},fromPartial(e){let t=f({},Wt);return void 0!==e.channel_id&&null!==e.channel_id?t.channel_id=e.channel_id:t.channel_id="",void 0!==e.message_id&&null!==e.message_id?t.message_id=e.message_id:t.message_id="",void 0!==e.content&&null!==e.content?t.content=e.content:t.content="",t}},Ht={channel_id:"",message_id:""},Se={encode(e,t=_.default.Writer.create()){return""!==e.channel_id&&t.uint32(10).string(e.channel_id),""!==e.message_id&&t.uint32(18).string(e.message_id),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Ht);for(;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.channel_id=r.string();break;case 2:i.message_id=r.string();break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},Ht);return void 0!==e.channel_id&&null!==e.channel_id?t.channel_id=String(e.channel_id):t.channel_id="",void 0!==e.message_id&&null!==e.message_id?t.message_id=String(e.message_id):t.message_id="",t},toJSON(e){let t={};return void 0!==e.channel_id&&(t.channel_id=e.channel_id),void 0!==e.message_id&&(t.message_id=e.message_id),t},fromPartial(e){let t=f({},Ht);return void 0!==e.channel_id&&null!==e.channel_id?t.channel_id=e.channel_id:t.channel_id="",void 0!==e.message_id&&null!==e.message_id?t.message_id=e.message_id:t.message_id="",t}},Vt={channel_id:"",room_name:"",group_id:"",user_id_one:"",user_id_two:""},Pe={encode(e,t=_.default.Writer.create()){""!==e.channel_id&&t.uint32(10).string(e.channel_id);for(var r of e.joins)v.encode(r,t.uint32(18).fork()).ldelim();for(let r of e.leaves)v.encode(r,t.uint32(26).fork()).ldelim();return""!==e.room_name&&t.uint32(34).string(e.room_name),""!==e.group_id&&t.uint32(42).string(e.group_id),""!==e.user_id_one&&t.uint32(50).string(e.user_id_one),""!==e.user_id_two&&t.uint32(58).string(e.user_id_two),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Vt);for(i.joins=[],i.leaves=[];r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.channel_id=r.string();break;case 2:i.joins.push(v.decode(r,r.uint32()));break;case 3:i.leaves.push(v.decode(r,r.uint32()));break;case 4:i.room_name=r.string();break;case 5:i.group_id=r.string();break;case 6:i.user_id_one=r.string();break;case 7:i.user_id_two=r.string();break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},Vt);if(t.joins=[],t.leaves=[],void 0!==e.channel_id&&null!==e.channel_id?t.channel_id=String(e.channel_id):t.channel_id="",void 0!==e.joins&&null!==e.joins)for(var r of e.joins)t.joins.push(v.fromJSON(r));if(void 0!==e.leaves&&null!==e.leaves)for(let r of e.leaves)t.leaves.push(v.fromJSON(r));return void 0!==e.room_name&&null!==e.room_name?t.room_name=String(e.room_name):t.room_name="",void 0!==e.group_id&&null!==e.group_id?t.group_id=String(e.group_id):t.group_id="",void 0!==e.user_id_one&&null!==e.user_id_one?t.user_id_one=String(e.user_id_one):t.user_id_one="",void 0!==e.user_id_two&&null!==e.user_id_two?t.user_id_two=String(e.user_id_two):t.user_id_two="",t},toJSON(e){let t={};return void 0!==e.channel_id&&(t.channel_id=e.channel_id),e.joins?t.joins=e.joins.map(r=>r?v.toJSON(r):void 0):t.joins=[],e.leaves?t.leaves=e.leaves.map(r=>r?v.toJSON(r):void 0):t.leaves=[],void 0!==e.room_name&&(t.room_name=e.room_name),void 0!==e.group_id&&(t.group_id=e.group_id),void 0!==e.user_id_one&&(t.user_id_one=e.user_id_one),void 0!==e.user_id_two&&(t.user_id_two=e.user_id_two),t},fromPartial(e){let t=f({},Vt);if(t.joins=[],t.leaves=[],void 0!==e.channel_id&&null!==e.channel_id?t.channel_id=e.channel_id:t.channel_id="",void 0!==e.joins&&null!==e.joins)for(var r of e.joins)t.joins.push(v.fromPartial(r));if(void 0!==e.leaves&&null!==e.leaves)for(let r of e.leaves)t.leaves.push(v.fromPartial(r));return void 0!==e.room_name&&null!==e.room_name?t.room_name=e.room_name:t.room_name="",void 0!==e.group_id&&null!==e.group_id?t.group_id=e.group_id:t.group_id="",void 0!==e.user_id_one&&null!==e.user_id_one?t.user_id_one=e.user_id_one:t.user_id_one="",void 0!==e.user_id_two&&null!==e.user_id_two?t.user_id_two=e.user_id_two:t.user_id_two="",t}},Zt={code:0,message:""},Oe={encode(e,t=_.default.Writer.create()){return 0!==e.code&&t.uint32(8).int32(e.code),""!==e.message&&t.uint32(18).string(e.message),Object.entries(e.context).forEach(([r,n])=>{ci.encode({key:r,value:n},t.uint32(26).fork()).ldelim()}),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Zt);for(i.context={};r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.code=r.int32();break;case 2:i.message=r.string();break;case 3:var l=ci.decode(r,r.uint32());void 0!==l.value&&(i.context[l.key]=l.value);break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},Zt);return t.context={},void 0!==e.code&&null!==e.code?t.code=Number(e.code):t.code=0,void 0!==e.message&&null!==e.message?t.message=String(e.message):t.message="",void 0!==e.context&&null!==e.context&&Object.entries(e.context).forEach(([r,n])=>{t.context[r]=String(n)}),t},toJSON(e){let t={};return void 0!==e.code&&(t.code=e.code),void 0!==e.message&&(t.message=e.message),t.context={},e.context&&Object.entries(e.context).forEach(([r,n])=>{t.context[r]=n}),t},fromPartial(e){let t=f({},Zt);return t.context={},void 0!==e.code&&null!==e.code?t.code=e.code:t.code=0,void 0!==e.message&&null!==e.message?t.message=e.message:t.message="",void 0!==e.context&&null!==e.context&&Object.entries(e.context).forEach(([r,n])=>{void 0!==n&&(t.context[r]=String(n))}),t}},$t={key:"",value:""},ci={encode(e,t=_.default.Writer.create()){return""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},$t);for(;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.key=r.string();break;case 2:i.value=r.string();break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},$t);return void 0!==e.key&&null!==e.key?t.key=String(e.key):t.key="",void 0!==e.value&&null!==e.value?t.value=String(e.value):t.value="",t},toJSON(e){let t={};return void 0!==e.key&&(t.key=e.key),void 0!==e.value&&(t.value=e.value),t},fromPartial(e){let t=f({},$t);return void 0!==e.key&&null!==e.key?t.key=e.key:t.key="",void 0!==e.value&&null!==e.value?t.value=e.value:t.value="",t}},Xt={match_id:"",authoritative:!1,size:0},Ne={encode(e,t=_.default.Writer.create()){""!==e.match_id&&t.uint32(10).string(e.match_id),!0===e.authoritative&&t.uint32(16).bool(e.authoritative),void 0!==e.label&&oe.encode({value:e.label},t.uint32(26).fork()).ldelim(),0!==e.size&&t.uint32(32).int32(e.size);for(var r of e.presences)v.encode(r,t.uint32(42).fork()).ldelim();return void 0!==e.self&&v.encode(e.self,t.uint32(50).fork()).ldelim(),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Xt);for(i.presences=[];r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.match_id=r.string();break;case 2:i.authoritative=r.bool();break;case 3:i.label=oe.decode(r,r.uint32()).value;break;case 4:i.size=r.int32();break;case 5:i.presences.push(v.decode(r,r.uint32()));break;case 6:i.self=v.decode(r,r.uint32());break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},Xt);if(t.presences=[],void 0!==e.match_id&&null!==e.match_id?t.match_id=String(e.match_id):t.match_id="",void 0!==e.authoritative&&null!==e.authoritative?t.authoritative=Boolean(e.authoritative):t.authoritative=!1,void 0!==e.label&&null!==e.label?t.label=String(e.label):t.label=void 0,void 0!==e.size&&null!==e.size?t.size=Number(e.size):t.size=0,void 0!==e.presences&&null!==e.presences)for(var r of e.presences)t.presences.push(v.fromJSON(r));return void 0!==e.self&&null!==e.self?t.self=v.fromJSON(e.self):t.self=void 0,t},toJSON(e){let t={};return void 0!==e.match_id&&(t.match_id=e.match_id),void 0!==e.authoritative&&(t.authoritative=e.authoritative),void 0!==e.label&&(t.label=e.label),void 0!==e.size&&(t.size=e.size),e.presences?t.presences=e.presences.map(r=>r?v.toJSON(r):void 0):t.presences=[],void 0!==e.self&&(t.self=e.self?v.toJSON(e.self):void 0),t},fromPartial(e){let t=f({},Xt);if(t.presences=[],void 0!==e.match_id&&null!==e.match_id?t.match_id=e.match_id:t.match_id="",void 0!==e.authoritative&&null!==e.authoritative?t.authoritative=e.authoritative:t.authoritative=!1,void 0!==e.label&&null!==e.label?t.label=e.label:t.label=void 0,void 0!==e.size&&null!==e.size?t.size=e.size:t.size=0,void 0!==e.presences&&null!==e.presences)for(var r of e.presences)t.presences.push(v.fromPartial(r));return void 0!==e.self&&null!==e.self?t.self=v.fromPartial(e.self):t.self=void 0,t}},Kt={},Je={encode(e,t=_.default.Writer.create()){return t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Kt);for(;r.pos<n;){var a=r.uint32();r.skipType(7&a)}return i},fromJSON(e){return f({},Kt)},toJSON(e){return{}},fromPartial(e){return f({},Kt)}},Yt={match_id:"",op_code:0,reliable:!1},Re={encode(e,t=_.default.Writer.create()){return""!==e.match_id&&t.uint32(10).string(e.match_id),void 0!==e.presence&&v.encode(e.presence,t.uint32(18).fork()).ldelim(),0!==e.op_code&&t.uint32(24).int64(e.op_code),0!==e.data.length&&t.uint32(34).bytes(e.data),!0===e.reliable&&t.uint32(40).bool(e.reliable),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Yt);for(i.data=new Uint8Array;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.match_id=r.string();break;case 2:i.presence=v.decode(r,r.uint32());break;case 3:i.op_code=Pt(r.int64());break;case 4:i.data=r.bytes();break;case 5:i.reliable=r.bool();break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},Yt);return t.data=new Uint8Array,void 0!==e.match_id&&null!==e.match_id?t.match_id=String(e.match_id):t.match_id="",void 0!==e.presence&&null!==e.presence?t.presence=v.fromJSON(e.presence):t.presence=void 0,void 0!==e.op_code&&null!==e.op_code?t.op_code=Number(e.op_code):t.op_code=0,void 0!==e.data&&null!==e.data&&(t.data=gt(e.data)),void 0!==e.reliable&&null!==e.reliable?t.reliable=Boolean(e.reliable):t.reliable=!1,t},toJSON(e){let t={};return void 0!==e.match_id&&(t.match_id=e.match_id),void 0!==e.presence&&(t.presence=e.presence?v.toJSON(e.presence):void 0),void 0!==e.op_code&&(t.op_code=e.op_code),void 0!==e.data&&(t.data=St(void 0!==e.data?e.data:new Uint8Array)),void 0!==e.reliable&&(t.reliable=e.reliable),t},fromPartial(e){let t=f({},Yt);return void 0!==e.match_id&&null!==e.match_id?t.match_id=e.match_id:t.match_id="",void 0!==e.presence&&null!==e.presence?t.presence=v.fromPartial(e.presence):t.presence=void 0,void 0!==e.op_code&&null!==e.op_code?t.op_code=e.op_code:t.op_code=0,void 0!==e.data&&null!==e.data?t.data=e.data:t.data=new Uint8Array,void 0!==e.reliable&&null!==e.reliable?t.reliable=e.reliable:t.reliable=!1,t}},Qt={match_id:"",op_code:0,reliable:!1},Me={encode(e,t=_.default.Writer.create()){""!==e.match_id&&t.uint32(10).string(e.match_id),0!==e.op_code&&t.uint32(16).int64(e.op_code),0!==e.data.length&&t.uint32(26).bytes(e.data);for(var r of e.presences)v.encode(r,t.uint32(34).fork()).ldelim();return!0===e.reliable&&t.uint32(40).bool(e.reliable),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Qt);for(i.presences=[],i.data=new Uint8Array;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.match_id=r.string();break;case 2:i.op_code=Pt(r.int64());break;case 3:i.data=r.bytes();break;case 4:i.presences.push(v.decode(r,r.uint32()));break;case 5:i.reliable=r.bool();break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},Qt);if(t.presences=[],t.data=new Uint8Array,void 0!==e.match_id&&null!==e.match_id?t.match_id=String(e.match_id):t.match_id="",void 0!==e.op_code&&null!==e.op_code?t.op_code=Number(e.op_code):t.op_code=0,void 0!==e.data&&null!==e.data&&(t.data=gt(e.data)),void 0!==e.presences&&null!==e.presences)for(var r of e.presences)t.presences.push(v.fromJSON(r));return void 0!==e.reliable&&null!==e.reliable?t.reliable=Boolean(e.reliable):t.reliable=!1,t},toJSON(e){let t={};return void 0!==e.match_id&&(t.match_id=e.match_id),void 0!==e.op_code&&(t.op_code=e.op_code),void 0!==e.data&&(t.data=St(void 0!==e.data?e.data:new Uint8Array)),e.presences?t.presences=e.presences.map(r=>r?v.toJSON(r):void 0):t.presences=[],void 0!==e.reliable&&(t.reliable=e.reliable),t},fromPartial(e){let t=f({},Qt);if(t.presences=[],void 0!==e.match_id&&null!==e.match_id?t.match_id=e.match_id:t.match_id="",void 0!==e.op_code&&null!==e.op_code?t.op_code=e.op_code:t.op_code=0,void 0!==e.data&&null!==e.data?t.data=e.data:t.data=new Uint8Array,void 0!==e.presences&&null!==e.presences)for(var r of e.presences)t.presences.push(v.fromPartial(r));return void 0!==e.reliable&&null!==e.reliable?t.reliable=e.reliable:t.reliable=!1,t}},jt={},xe={encode(e,t=_.default.Writer.create()){return void 0!==e.match_id&&t.uint32(10).string(e.match_id),void 0!==e.token&&t.uint32(18).string(e.token),Object.entries(e.metadata).forEach(([r,n])=>{hi.encode({key:r,value:n},t.uint32(26).fork()).ldelim()}),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},jt);for(i.metadata={};r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.match_id=r.string();break;case 2:i.token=r.string();break;case 3:var l=hi.decode(r,r.uint32());void 0!==l.value&&(i.metadata[l.key]=l.value);break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},jt);return t.metadata={},void 0!==e.match_id&&null!==e.match_id?t.match_id=String(e.match_id):t.match_id=void 0,void 0!==e.token&&null!==e.token?t.token=String(e.token):t.token=void 0,void 0!==e.metadata&&null!==e.metadata&&Object.entries(e.metadata).forEach(([r,n])=>{t.metadata[r]=String(n)}),t},toJSON(e){let t={};return void 0!==e.match_id&&(t.match_id=e.match_id),void 0!==e.token&&(t.token=e.token),t.metadata={},e.metadata&&Object.entries(e.metadata).forEach(([r,n])=>{t.metadata[r]=n}),t},fromPartial(e){let t=f({},jt);return t.metadata={},void 0!==e.match_id&&null!==e.match_id?t.match_id=e.match_id:t.match_id=void 0,void 0!==e.token&&null!==e.token?t.token=e.token:t.token=void 0,void 0!==e.metadata&&null!==e.metadata&&Object.entries(e.metadata).forEach(([r,n])=>{void 0!==n&&(t.metadata[r]=String(n))}),t}},er={key:"",value:""},hi={encode(e,t=_.default.Writer.create()){return""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},er);for(;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.key=r.string();break;case 2:i.value=r.string();break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},er);return void 0!==e.key&&null!==e.key?t.key=String(e.key):t.key="",void 0!==e.value&&null!==e.value?t.value=String(e.value):t.value="",t},toJSON(e){let t={};return void 0!==e.key&&(t.key=e.key),void 0!==e.value&&(t.value=e.value),t},fromPartial(e){let t=f({},er);return void 0!==e.key&&null!==e.key?t.key=e.key:t.key="",void 0!==e.value&&null!==e.value?t.value=e.value:t.value="",t}},tr={match_id:""},Ee={encode(e,t=_.default.Writer.create()){return""!==e.match_id&&t.uint32(10).string(e.match_id),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},tr);for(;r.pos<n;){var a=r.uint32();a>>>3==1?i.match_id=r.string():r.skipType(7&a)}return i},fromJSON(e){let t=f({},tr);return void 0!==e.match_id&&null!==e.match_id?t.match_id=String(e.match_id):t.match_id="",t},toJSON(e){let t={};return void 0!==e.match_id&&(t.match_id=e.match_id),t},fromPartial(e){let t=f({},tr);return void 0!==e.match_id&&null!==e.match_id?t.match_id=e.match_id:t.match_id="",t}},rr={match_id:""},qe={encode(e,t=_.default.Writer.create()){""!==e.match_id&&t.uint32(10).string(e.match_id);for(var r of e.joins)v.encode(r,t.uint32(18).fork()).ldelim();for(let r of e.leaves)v.encode(r,t.uint32(26).fork()).ldelim();return t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},rr);for(i.joins=[],i.leaves=[];r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.match_id=r.string();break;case 2:i.joins.push(v.decode(r,r.uint32()));break;case 3:i.leaves.push(v.decode(r,r.uint32()));break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},rr);if(t.joins=[],t.leaves=[],void 0!==e.match_id&&null!==e.match_id?t.match_id=String(e.match_id):t.match_id="",void 0!==e.joins&&null!==e.joins)for(var r of e.joins)t.joins.push(v.fromJSON(r));if(void 0!==e.leaves&&null!==e.leaves)for(let r of e.leaves)t.leaves.push(v.fromJSON(r));return t},toJSON(e){let t={};return void 0!==e.match_id&&(t.match_id=e.match_id),e.joins?t.joins=e.joins.map(r=>r?v.toJSON(r):void 0):t.joins=[],e.leaves?t.leaves=e.leaves.map(r=>r?v.toJSON(r):void 0):t.leaves=[],t},fromPartial(e){let t=f({},rr);if(t.joins=[],t.leaves=[],void 0!==e.match_id&&null!==e.match_id?t.match_id=e.match_id:t.match_id="",void 0!==e.joins&&null!==e.joins)for(var r of e.joins)t.joins.push(v.fromPartial(r));if(void 0!==e.leaves&&null!==e.leaves)for(let r of e.leaves)t.leaves.push(v.fromPartial(r));return t}},ir={min_count:0,max_count:0,query:""},Te={encode(e,t=_.default.Writer.create()){return 0!==e.min_count&&t.uint32(8).int32(e.min_count),0!==e.max_count&&t.uint32(16).int32(e.max_count),""!==e.query&&t.uint32(26).string(e.query),Object.entries(e.string_properties).forEach(([r,n])=>{fi.encode({key:r,value:n},t.uint32(34).fork()).ldelim()}),Object.entries(e.numeric_properties).forEach(([r,n])=>{_i.encode({key:r,value:n},t.uint32(42).fork()).ldelim()}),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},ir);for(i.string_properties={},i.numeric_properties={};r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.min_count=r.int32();break;case 2:i.max_count=r.int32();break;case 3:i.query=r.string();break;case 4:var l=fi.decode(r,r.uint32());void 0!==l.value&&(i.string_properties[l.key]=l.value);break;case 5:l=_i.decode(r,r.uint32());void 0!==l.value&&(i.numeric_properties[l.key]=l.value);break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},ir);return t.string_properties={},t.numeric_properties={},void 0!==e.min_count&&null!==e.min_count?t.min_count=Number(e.min_count):t.min_count=0,void 0!==e.max_count&&null!==e.max_count?t.max_count=Number(e.max_count):t.max_count=0,void 0!==e.query&&null!==e.query?t.query=String(e.query):t.query="",void 0!==e.string_properties&&null!==e.string_properties&&Object.entries(e.string_properties).forEach(([r,n])=>{t.string_properties[r]=String(n)}),void 0!==e.numeric_properties&&null!==e.numeric_properties&&Object.entries(e.numeric_properties).forEach(([r,n])=>{t.numeric_properties[r]=Number(n)}),t},toJSON(e){let t={};return void 0!==e.min_count&&(t.min_count=e.min_count),void 0!==e.max_count&&(t.max_count=e.max_count),void 0!==e.query&&(t.query=e.query),t.string_properties={},e.string_properties&&Object.entries(e.string_properties).forEach(([r,n])=>{t.string_properties[r]=n}),t.numeric_properties={},e.numeric_properties&&Object.entries(e.numeric_properties).forEach(([r,n])=>{t.numeric_properties[r]=n}),t},fromPartial(e){let t=f({},ir);return t.string_properties={},t.numeric_properties={},void 0!==e.min_count&&null!==e.min_count?t.min_count=e.min_count:t.min_count=0,void 0!==e.max_count&&null!==e.max_count?t.max_count=e.max_count:t.max_count=0,void 0!==e.query&&null!==e.query?t.query=e.query:t.query="",void 0!==e.string_properties&&null!==e.string_properties&&Object.entries(e.string_properties).forEach(([r,n])=>{void 0!==n&&(t.string_properties[r]=String(n))}),void 0!==e.numeric_properties&&null!==e.numeric_properties&&Object.entries(e.numeric_properties).forEach(([r,n])=>{void 0!==n&&(t.numeric_properties[r]=Number(n))}),t}},nr={key:"",value:""},fi={encode(e,t=_.default.Writer.create()){return""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},nr);for(;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.key=r.string();break;case 2:i.value=r.string();break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},nr);return void 0!==e.key&&null!==e.key?t.key=String(e.key):t.key="",void 0!==e.value&&null!==e.value?t.value=String(e.value):t.value="",t},toJSON(e){let t={};return void 0!==e.key&&(t.key=e.key),void 0!==e.value&&(t.value=e.value),t},fromPartial(e){let t=f({},nr);return void 0!==e.key&&null!==e.key?t.key=e.key:t.key="",void 0!==e.value&&null!==e.value?t.value=e.value:t.value="",t}},ar={key:"",value:0},_i={encode(e,t=_.default.Writer.create()){return""!==e.key&&t.uint32(10).string(e.key),0!==e.value&&t.uint32(17).double(e.value),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},ar);for(;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.key=r.string();break;case 2:i.value=r.double();break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},ar);return void 0!==e.key&&null!==e.key?t.key=String(e.key):t.key="",void 0!==e.value&&null!==e.value?t.value=Number(e.value):t.value=0,t},toJSON(e){let t={};return void 0!==e.key&&(t.key=e.key),void 0!==e.value&&(t.value=e.value),t},fromPartial(e){let t=f({},ar);return void 0!==e.key&&null!==e.key?t.key=e.key:t.key="",void 0!==e.value&&null!==e.value?t.value=e.value:t.value=0,t}},sr={ticket:""},Ae={encode(e,t=_.default.Writer.create()){""!==e.ticket&&t.uint32(10).string(e.ticket),void 0!==e.match_id&&t.uint32(18).string(e.match_id),void 0!==e.token&&t.uint32(26).string(e.token);for(var r of e.users)j.encode(r,t.uint32(34).fork()).ldelim();return void 0!==e.self&&j.encode(e.self,t.uint32(42).fork()).ldelim(),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},sr);for(i.users=[];r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.ticket=r.string();break;case 2:i.match_id=r.string();break;case 3:i.token=r.string();break;case 4:i.users.push(j.decode(r,r.uint32()));break;case 5:i.self=j.decode(r,r.uint32());break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},sr);if(t.users=[],void 0!==e.ticket&&null!==e.ticket?t.ticket=String(e.ticket):t.ticket="",void 0!==e.match_id&&null!==e.match_id?t.match_id=String(e.match_id):t.match_id=void 0,void 0!==e.token&&null!==e.token?t.token=String(e.token):t.token=void 0,void 0!==e.users&&null!==e.users)for(var r of e.users)t.users.push(j.fromJSON(r));return void 0!==e.self&&null!==e.self?t.self=j.fromJSON(e.self):t.self=void 0,t},toJSON(e){let t={};return void 0!==e.ticket&&(t.ticket=e.ticket),void 0!==e.match_id&&(t.match_id=e.match_id),void 0!==e.token&&(t.token=e.token),e.users?t.users=e.users.map(r=>r?j.toJSON(r):void 0):t.users=[],void 0!==e.self&&(t.self=e.self?j.toJSON(e.self):void 0),t},fromPartial(e){let t=f({},sr);if(t.users=[],void 0!==e.ticket&&null!==e.ticket?t.ticket=e.ticket:t.ticket="",void 0!==e.match_id&&null!==e.match_id?t.match_id=e.match_id:t.match_id=void 0,void 0!==e.token&&null!==e.token?t.token=e.token:t.token=void 0,void 0!==e.users&&null!==e.users)for(var r of e.users)t.users.push(j.fromPartial(r));return void 0!==e.self&&null!==e.self?t.self=j.fromPartial(e.self):t.self=void 0,t}},or={party_id:""},j={encode(e,t=_.default.Writer.create()){return void 0!==e.presence&&v.encode(e.presence,t.uint32(10).fork()).ldelim(),""!==e.party_id&&t.uint32(18).string(e.party_id),Object.entries(e.string_properties).forEach(([r,n])=>{pi.encode({key:r,value:n},t.uint32(42).fork()).ldelim()}),Object.entries(e.numeric_properties).forEach(([r,n])=>{mi.encode({key:r,value:n},t.uint32(50).fork()).ldelim()}),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},or);for(i.string_properties={},i.numeric_properties={};r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.presence=v.decode(r,r.uint32());break;case 2:i.party_id=r.string();break;case 5:var l=pi.decode(r,r.uint32());void 0!==l.value&&(i.string_properties[l.key]=l.value);break;case 6:l=mi.decode(r,r.uint32());void 0!==l.value&&(i.numeric_properties[l.key]=l.value);break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},or);return t.string_properties={},t.numeric_properties={},void 0!==e.presence&&null!==e.presence?t.presence=v.fromJSON(e.presence):t.presence=void 0,void 0!==e.party_id&&null!==e.party_id?t.party_id=String(e.party_id):t.party_id="",void 0!==e.string_properties&&null!==e.string_properties&&Object.entries(e.string_properties).forEach(([r,n])=>{t.string_properties[r]=String(n)}),void 0!==e.numeric_properties&&null!==e.numeric_properties&&Object.entries(e.numeric_properties).forEach(([r,n])=>{t.numeric_properties[r]=Number(n)}),t},toJSON(e){let t={};return void 0!==e.presence&&(t.presence=e.presence?v.toJSON(e.presence):void 0),void 0!==e.party_id&&(t.party_id=e.party_id),t.string_properties={},e.string_properties&&Object.entries(e.string_properties).forEach(([r,n])=>{t.string_properties[r]=n}),t.numeric_properties={},e.numeric_properties&&Object.entries(e.numeric_properties).forEach(([r,n])=>{t.numeric_properties[r]=n}),t},fromPartial(e){let t=f({},or);return t.string_properties={},t.numeric_properties={},void 0!==e.presence&&null!==e.presence?t.presence=v.fromPartial(e.presence):t.presence=void 0,void 0!==e.party_id&&null!==e.party_id?t.party_id=e.party_id:t.party_id="",void 0!==e.string_properties&&null!==e.string_properties&&Object.entries(e.string_properties).forEach(([r,n])=>{void 0!==n&&(t.string_properties[r]=String(n))}),void 0!==e.numeric_properties&&null!==e.numeric_properties&&Object.entries(e.numeric_properties).forEach(([r,n])=>{void 0!==n&&(t.numeric_properties[r]=Number(n))}),t}},ur={key:"",value:""},pi={encode(e,t=_.default.Writer.create()){return""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},ur);for(;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.key=r.string();break;case 2:i.value=r.string();break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},ur);return void 0!==e.key&&null!==e.key?t.key=String(e.key):t.key="",void 0!==e.value&&null!==e.value?t.value=String(e.value):t.value="",t},toJSON(e){let t={};return void 0!==e.key&&(t.key=e.key),void 0!==e.value&&(t.value=e.value),t},fromPartial(e){let t=f({},ur);return void 0!==e.key&&null!==e.key?t.key=e.key:t.key="",void 0!==e.value&&null!==e.value?t.value=e.value:t.value="",t}},lr={key:"",value:0},mi={encode(e,t=_.default.Writer.create()){return""!==e.key&&t.uint32(10).string(e.key),0!==e.value&&t.uint32(17).double(e.value),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},lr);for(;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.key=r.string();break;case 2:i.value=r.double();break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},lr);return void 0!==e.key&&null!==e.key?t.key=String(e.key):t.key="",void 0!==e.value&&null!==e.value?t.value=Number(e.value):t.value=0,t},toJSON(e){let t={};return void 0!==e.key&&(t.key=e.key),void 0!==e.value&&(t.value=e.value),t},fromPartial(e){let t=f({},lr);return void 0!==e.key&&null!==e.key?t.key=e.key:t.key="",void 0!==e.value&&null!==e.value?t.value=e.value:t.value=0,t}},dr={ticket:""},Ue={encode(e,t=_.default.Writer.create()){return""!==e.ticket&&t.uint32(10).string(e.ticket),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},dr);for(;r.pos<n;){var a=r.uint32();a>>>3==1?i.ticket=r.string():r.skipType(7&a)}return i},fromJSON(e){let t=f({},dr);return void 0!==e.ticket&&null!==e.ticket?t.ticket=String(e.ticket):t.ticket="",t},toJSON(e){let t={};return void 0!==e.ticket&&(t.ticket=e.ticket),t},fromPartial(e){let t=f({},dr);return void 0!==e.ticket&&null!==e.ticket?t.ticket=e.ticket:t.ticket="",t}},cr={ticket:""},Ce={encode(e,t=_.default.Writer.create()){return""!==e.ticket&&t.uint32(10).string(e.ticket),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},cr);for(;r.pos<n;){var a=r.uint32();a>>>3==1?i.ticket=r.string():r.skipType(7&a)}return i},fromJSON(e){let t=f({},cr);return void 0!==e.ticket&&null!==e.ticket?t.ticket=String(e.ticket):t.ticket="",t},toJSON(e){let t={};return void 0!==e.ticket&&(t.ticket=e.ticket),t},fromPartial(e){let t=f({},cr);return void 0!==e.ticket&&null!==e.ticket?t.ticket=e.ticket:t.ticket="",t}},hr={},Be={encode(e,t=_.default.Writer.create()){for(var r of e.notifications)_e.encode(r,t.uint32(10).fork()).ldelim();return t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},hr);for(i.notifications=[];r.pos<n;){var a=r.uint32();a>>>3==1?i.notifications.push(_e.decode(r,r.uint32())):r.skipType(7&a)}return i},fromJSON(e){let t=f({},hr);if(t.notifications=[],void 0!==e.notifications&&null!==e.notifications)for(var r of e.notifications)t.notifications.push(_e.fromJSON(r));return t},toJSON(e){let t={};return e.notifications?t.notifications=e.notifications.map(r=>r?_e.toJSON(r):void 0):t.notifications=[],t},fromPartial(e){let t=f({},hr);if(t.notifications=[],void 0!==e.notifications&&null!==e.notifications)for(var r of e.notifications)t.notifications.push(_e.fromPartial(r));return t}},fr={party_id:"",open:!1,max_size:0},Fe={encode(e,t=_.default.Writer.create()){""!==e.party_id&&t.uint32(10).string(e.party_id),!0===e.open&&t.uint32(16).bool(e.open),0!==e.max_size&&t.uint32(24).int32(e.max_size),void 0!==e.self&&v.encode(e.self,t.uint32(34).fork()).ldelim(),void 0!==e.leader&&v.encode(e.leader,t.uint32(42).fork()).ldelim();for(var r of e.presences)v.encode(r,t.uint32(50).fork()).ldelim();return t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},fr);for(i.presences=[];r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.party_id=r.string();break;case 2:i.open=r.bool();break;case 3:i.max_size=r.int32();break;case 4:i.self=v.decode(r,r.uint32());break;case 5:i.leader=v.decode(r,r.uint32());break;case 6:i.presences.push(v.decode(r,r.uint32()));break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},fr);if(t.presences=[],void 0!==e.party_id&&null!==e.party_id?t.party_id=String(e.party_id):t.party_id="",void 0!==e.open&&null!==e.open?t.open=Boolean(e.open):t.open=!1,void 0!==e.max_size&&null!==e.max_size?t.max_size=Number(e.max_size):t.max_size=0,void 0!==e.self&&null!==e.self?t.self=v.fromJSON(e.self):t.self=void 0,void 0!==e.leader&&null!==e.leader?t.leader=v.fromJSON(e.leader):t.leader=void 0,void 0!==e.presences&&null!==e.presences)for(var r of e.presences)t.presences.push(v.fromJSON(r));return t},toJSON(e){let t={};return void 0!==e.party_id&&(t.party_id=e.party_id),void 0!==e.open&&(t.open=e.open),void 0!==e.max_size&&(t.max_size=e.max_size),void 0!==e.self&&(t.self=e.self?v.toJSON(e.self):void 0),void 0!==e.leader&&(t.leader=e.leader?v.toJSON(e.leader):void 0),e.presences?t.presences=e.presences.map(r=>r?v.toJSON(r):void 0):t.presences=[],t},fromPartial(e){let t=f({},fr);if(t.presences=[],void 0!==e.party_id&&null!==e.party_id?t.party_id=e.party_id:t.party_id="",void 0!==e.open&&null!==e.open?t.open=e.open:t.open=!1,void 0!==e.max_size&&null!==e.max_size?t.max_size=e.max_size:t.max_size=0,void 0!==e.self&&null!==e.self?t.self=v.fromPartial(e.self):t.self=void 0,void 0!==e.leader&&null!==e.leader?t.leader=v.fromPartial(e.leader):t.leader=void 0,void 0!==e.presences&&null!==e.presences)for(var r of e.presences)t.presences.push(v.fromPartial(r));return t}},_r={open:!1,max_size:0},De={encode(e,t=_.default.Writer.create()){return!0===e.open&&t.uint32(8).bool(e.open),0!==e.max_size&&t.uint32(16).int32(e.max_size),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},_r);for(;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.open=r.bool();break;case 2:i.max_size=r.int32();break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},_r);return void 0!==e.open&&null!==e.open?t.open=Boolean(e.open):t.open=!1,void 0!==e.max_size&&null!==e.max_size?t.max_size=Number(e.max_size):t.max_size=0,t},toJSON(e){let t={};return void 0!==e.open&&(t.open=e.open),void 0!==e.max_size&&(t.max_size=e.max_size),t},fromPartial(e){let t=f({},_r);return void 0!==e.open&&null!==e.open?t.open=e.open:t.open=!1,void 0!==e.max_size&&null!==e.max_size?t.max_size=e.max_size:t.max_size=0,t}},pr={party_id:""},Ie={encode(e,t=_.default.Writer.create()){return""!==e.party_id&&t.uint32(10).string(e.party_id),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},pr);for(;r.pos<n;){var a=r.uint32();a>>>3==1?i.party_id=r.string():r.skipType(7&a)}return i},fromJSON(e){let t=f({},pr);return void 0!==e.party_id&&null!==e.party_id?t.party_id=String(e.party_id):t.party_id="",t},toJSON(e){let t={};return void 0!==e.party_id&&(t.party_id=e.party_id),t},fromPartial(e){let t=f({},pr);return void 0!==e.party_id&&null!==e.party_id?t.party_id=e.party_id:t.party_id="",t}},mr={party_id:""},ze={encode(e,t=_.default.Writer.create()){return""!==e.party_id&&t.uint32(10).string(e.party_id),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},mr);for(;r.pos<n;){var a=r.uint32();a>>>3==1?i.party_id=r.string():r.skipType(7&a)}return i},fromJSON(e){let t=f({},mr);return void 0!==e.party_id&&null!==e.party_id?t.party_id=String(e.party_id):t.party_id="",t},toJSON(e){let t={};return void 0!==e.party_id&&(t.party_id=e.party_id),t},fromPartial(e){let t=f({},mr);return void 0!==e.party_id&&null!==e.party_id?t.party_id=e.party_id:t.party_id="",t}},vr={party_id:""},be={encode(e,t=_.default.Writer.create()){return""!==e.party_id&&t.uint32(10).string(e.party_id),void 0!==e.presence&&v.encode(e.presence,t.uint32(18).fork()).ldelim(),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},vr);for(;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.party_id=r.string();break;case 2:i.presence=v.decode(r,r.uint32());break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},vr);return void 0!==e.party_id&&null!==e.party_id?t.party_id=String(e.party_id):t.party_id="",void 0!==e.presence&&null!==e.presence?t.presence=v.fromJSON(e.presence):t.presence=void 0,t},toJSON(e){let t={};return void 0!==e.party_id&&(t.party_id=e.party_id),void 0!==e.presence&&(t.presence=e.presence?v.toJSON(e.presence):void 0),t},fromPartial(e){let t=f({},vr);return void 0!==e.party_id&&null!==e.party_id?t.party_id=e.party_id:t.party_id="",void 0!==e.presence&&null!==e.presence?t.presence=v.fromPartial(e.presence):t.presence=void 0,t}},yr={party_id:""},Le={encode(e,t=_.default.Writer.create()){return""!==e.party_id&&t.uint32(10).string(e.party_id),void 0!==e.presence&&v.encode(e.presence,t.uint32(18).fork()).ldelim(),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},yr);for(;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.party_id=r.string();break;case 2:i.presence=v.decode(r,r.uint32());break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},yr);return void 0!==e.party_id&&null!==e.party_id?t.party_id=String(e.party_id):t.party_id="",void 0!==e.presence&&null!==e.presence?t.presence=v.fromJSON(e.presence):t.presence=void 0,t},toJSON(e){let t={};return void 0!==e.party_id&&(t.party_id=e.party_id),void 0!==e.presence&&(t.presence=e.presence?v.toJSON(e.presence):void 0),t},fromPartial(e){let t=f({},yr);return void 0!==e.party_id&&null!==e.party_id?t.party_id=e.party_id:t.party_id="",void 0!==e.presence&&null!==e.presence?t.presence=v.fromPartial(e.presence):t.presence=void 0,t}},kr={party_id:""},Ge={encode(e,t=_.default.Writer.create()){return""!==e.party_id&&t.uint32(10).string(e.party_id),void 0!==e.presence&&v.encode(e.presence,t.uint32(18).fork()).ldelim(),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},kr);for(;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.party_id=r.string();break;case 2:i.presence=v.decode(r,r.uint32());break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},kr);return void 0!==e.party_id&&null!==e.party_id?t.party_id=String(e.party_id):t.party_id="",void 0!==e.presence&&null!==e.presence?t.presence=v.fromJSON(e.presence):t.presence=void 0,t},toJSON(e){let t={};return void 0!==e.party_id&&(t.party_id=e.party_id),void 0!==e.presence&&(t.presence=e.presence?v.toJSON(e.presence):void 0),t},fromPartial(e){let t=f({},kr);return void 0!==e.party_id&&null!==e.party_id?t.party_id=e.party_id:t.party_id="",void 0!==e.presence&&null!==e.presence?t.presence=v.fromPartial(e.presence):t.presence=void 0,t}},wr={party_id:""},We={encode(e,t=_.default.Writer.create()){return""!==e.party_id&&t.uint32(10).string(e.party_id),void 0!==e.presence&&v.encode(e.presence,t.uint32(18).fork()).ldelim(),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},wr);for(;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.party_id=r.string();break;case 2:i.presence=v.decode(r,r.uint32());break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},wr);return void 0!==e.party_id&&null!==e.party_id?t.party_id=String(e.party_id):t.party_id="",void 0!==e.presence&&null!==e.presence?t.presence=v.fromJSON(e.presence):t.presence=void 0,t},toJSON(e){let t={};return void 0!==e.party_id&&(t.party_id=e.party_id),void 0!==e.presence&&(t.presence=e.presence?v.toJSON(e.presence):void 0),t},fromPartial(e){let t=f({},wr);return void 0!==e.party_id&&null!==e.party_id?t.party_id=e.party_id:t.party_id="",void 0!==e.presence&&null!==e.presence?t.presence=v.fromPartial(e.presence):t.presence=void 0,t}},gr={party_id:""},He={encode(e,t=_.default.Writer.create()){return""!==e.party_id&&t.uint32(10).string(e.party_id),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},gr);for(;r.pos<n;){var a=r.uint32();a>>>3==1?i.party_id=r.string():r.skipType(7&a)}return i},fromJSON(e){let t=f({},gr);return void 0!==e.party_id&&null!==e.party_id?t.party_id=String(e.party_id):t.party_id="",t},toJSON(e){let t={};return void 0!==e.party_id&&(t.party_id=e.party_id),t},fromPartial(e){let t=f({},gr);return void 0!==e.party_id&&null!==e.party_id?t.party_id=e.party_id:t.party_id="",t}},Sr={party_id:""},Ve={encode(e,t=_.default.Writer.create()){return""!==e.party_id&&t.uint32(10).string(e.party_id),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Sr);for(;r.pos<n;){var a=r.uint32();a>>>3==1?i.party_id=r.string():r.skipType(7&a)}return i},fromJSON(e){let t=f({},Sr);return void 0!==e.party_id&&null!==e.party_id?t.party_id=String(e.party_id):t.party_id="",t},toJSON(e){let t={};return void 0!==e.party_id&&(t.party_id=e.party_id),t},fromPartial(e){let t=f({},Sr);return void 0!==e.party_id&&null!==e.party_id?t.party_id=e.party_id:t.party_id="",t}},Pr={party_id:""},Ze={encode(e,t=_.default.Writer.create()){""!==e.party_id&&t.uint32(10).string(e.party_id);for(var r of e.presences)v.encode(r,t.uint32(18).fork()).ldelim();return t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Pr);for(i.presences=[];r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.party_id=r.string();break;case 2:i.presences.push(v.decode(r,r.uint32()));break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},Pr);if(t.presences=[],void 0!==e.party_id&&null!==e.party_id?t.party_id=String(e.party_id):t.party_id="",void 0!==e.presences&&null!==e.presences)for(var r of e.presences)t.presences.push(v.fromJSON(r));return t},toJSON(e){let t={};return void 0!==e.party_id&&(t.party_id=e.party_id),e.presences?t.presences=e.presences.map(r=>r?v.toJSON(r):void 0):t.presences=[],t},fromPartial(e){let t=f({},Pr);if(t.presences=[],void 0!==e.party_id&&null!==e.party_id?t.party_id=e.party_id:t.party_id="",void 0!==e.presences&&null!==e.presences)for(var r of e.presences)t.presences.push(v.fromPartial(r));return t}},Or={party_id:"",min_count:0,max_count:0,query:""},$e={encode(e,t=_.default.Writer.create()){return""!==e.party_id&&t.uint32(10).string(e.party_id),0!==e.min_count&&t.uint32(16).int32(e.min_count),0!==e.max_count&&t.uint32(24).int32(e.max_count),""!==e.query&&t.uint32(34).string(e.query),Object.entries(e.string_properties).forEach(([r,n])=>{vi.encode({key:r,value:n},t.uint32(42).fork()).ldelim()}),Object.entries(e.numeric_properties).forEach(([r,n])=>{yi.encode({key:r,value:n},t.uint32(50).fork()).ldelim()}),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Or);for(i.string_properties={},i.numeric_properties={};r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.party_id=r.string();break;case 2:i.min_count=r.int32();break;case 3:i.max_count=r.int32();break;case 4:i.query=r.string();break;case 5:var l=vi.decode(r,r.uint32());void 0!==l.value&&(i.string_properties[l.key]=l.value);break;case 6:l=yi.decode(r,r.uint32());void 0!==l.value&&(i.numeric_properties[l.key]=l.value);break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},Or);return t.string_properties={},t.numeric_properties={},void 0!==e.party_id&&null!==e.party_id?t.party_id=String(e.party_id):t.party_id="",void 0!==e.min_count&&null!==e.min_count?t.min_count=Number(e.min_count):t.min_count=0,void 0!==e.max_count&&null!==e.max_count?t.max_count=Number(e.max_count):t.max_count=0,void 0!==e.query&&null!==e.query?t.query=String(e.query):t.query="",void 0!==e.string_properties&&null!==e.string_properties&&Object.entries(e.string_properties).forEach(([r,n])=>{t.string_properties[r]=String(n)}),void 0!==e.numeric_properties&&null!==e.numeric_properties&&Object.entries(e.numeric_properties).forEach(([r,n])=>{t.numeric_properties[r]=Number(n)}),t},toJSON(e){let t={};return void 0!==e.party_id&&(t.party_id=e.party_id),void 0!==e.min_count&&(t.min_count=e.min_count),void 0!==e.max_count&&(t.max_count=e.max_count),void 0!==e.query&&(t.query=e.query),t.string_properties={},e.string_properties&&Object.entries(e.string_properties).forEach(([r,n])=>{t.string_properties[r]=n}),t.numeric_properties={},e.numeric_properties&&Object.entries(e.numeric_properties).forEach(([r,n])=>{t.numeric_properties[r]=n}),t},fromPartial(e){let t=f({},Or);return t.string_properties={},t.numeric_properties={},void 0!==e.party_id&&null!==e.party_id?t.party_id=e.party_id:t.party_id="",void 0!==e.min_count&&null!==e.min_count?t.min_count=e.min_count:t.min_count=0,void 0!==e.max_count&&null!==e.max_count?t.max_count=e.max_count:t.max_count=0,void 0!==e.query&&null!==e.query?t.query=e.query:t.query="",void 0!==e.string_properties&&null!==e.string_properties&&Object.entries(e.string_properties).forEach(([r,n])=>{void 0!==n&&(t.string_properties[r]=String(n))}),void 0!==e.numeric_properties&&null!==e.numeric_properties&&Object.entries(e.numeric_properties).forEach(([r,n])=>{void 0!==n&&(t.numeric_properties[r]=Number(n))}),t}},Nr={key:"",value:""},vi={encode(e,t=_.default.Writer.create()){return""!==e.key&&t.uint32(10).string(e.key),""!==e.value&&t.uint32(18).string(e.value),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Nr);for(;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.key=r.string();break;case 2:i.value=r.string();break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},Nr);return void 0!==e.key&&null!==e.key?t.key=String(e.key):t.key="",void 0!==e.value&&null!==e.value?t.value=String(e.value):t.value="",t},toJSON(e){let t={};return void 0!==e.key&&(t.key=e.key),void 0!==e.value&&(t.value=e.value),t},fromPartial(e){let t=f({},Nr);return void 0!==e.key&&null!==e.key?t.key=e.key:t.key="",void 0!==e.value&&null!==e.value?t.value=e.value:t.value="",t}},Jr={key:"",value:0},yi={encode(e,t=_.default.Writer.create()){return""!==e.key&&t.uint32(10).string(e.key),0!==e.value&&t.uint32(17).double(e.value),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Jr);for(;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.key=r.string();break;case 2:i.value=r.double();break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},Jr);return void 0!==e.key&&null!==e.key?t.key=String(e.key):t.key="",void 0!==e.value&&null!==e.value?t.value=Number(e.value):t.value=0,t},toJSON(e){let t={};return void 0!==e.key&&(t.key=e.key),void 0!==e.value&&(t.value=e.value),t},fromPartial(e){let t=f({},Jr);return void 0!==e.key&&null!==e.key?t.key=e.key:t.key="",void 0!==e.value&&null!==e.value?t.value=e.value:t.value=0,t}},Rr={party_id:"",ticket:""},Xe={encode(e,t=_.default.Writer.create()){return""!==e.party_id&&t.uint32(10).string(e.party_id),""!==e.ticket&&t.uint32(18).string(e.ticket),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Rr);for(;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.party_id=r.string();break;case 2:i.ticket=r.string();break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},Rr);return void 0!==e.party_id&&null!==e.party_id?t.party_id=String(e.party_id):t.party_id="",void 0!==e.ticket&&null!==e.ticket?t.ticket=String(e.ticket):t.ticket="",t},toJSON(e){let t={};return void 0!==e.party_id&&(t.party_id=e.party_id),void 0!==e.ticket&&(t.ticket=e.ticket),t},fromPartial(e){let t=f({},Rr);return void 0!==e.party_id&&null!==e.party_id?t.party_id=e.party_id:t.party_id="",void 0!==e.ticket&&null!==e.ticket?t.ticket=e.ticket:t.ticket="",t}},Mr={party_id:"",ticket:""},Ke={encode(e,t=_.default.Writer.create()){return""!==e.party_id&&t.uint32(10).string(e.party_id),""!==e.ticket&&t.uint32(18).string(e.ticket),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Mr);for(;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.party_id=r.string();break;case 2:i.ticket=r.string();break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},Mr);return void 0!==e.party_id&&null!==e.party_id?t.party_id=String(e.party_id):t.party_id="",void 0!==e.ticket&&null!==e.ticket?t.ticket=String(e.ticket):t.ticket="",t},toJSON(e){let t={};return void 0!==e.party_id&&(t.party_id=e.party_id),void 0!==e.ticket&&(t.ticket=e.ticket),t},fromPartial(e){let t=f({},Mr);return void 0!==e.party_id&&null!==e.party_id?t.party_id=e.party_id:t.party_id="",void 0!==e.ticket&&null!==e.ticket?t.ticket=e.ticket:t.ticket="",t}},xr={party_id:"",op_code:0},Ye={encode(e,t=_.default.Writer.create()){return""!==e.party_id&&t.uint32(10).string(e.party_id),void 0!==e.presence&&v.encode(e.presence,t.uint32(18).fork()).ldelim(),0!==e.op_code&&t.uint32(24).int64(e.op_code),0!==e.data.length&&t.uint32(34).bytes(e.data),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},xr);for(i.data=new Uint8Array;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.party_id=r.string();break;case 2:i.presence=v.decode(r,r.uint32());break;case 3:i.op_code=Pt(r.int64());break;case 4:i.data=r.bytes();break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},xr);return t.data=new Uint8Array,void 0!==e.party_id&&null!==e.party_id?t.party_id=String(e.party_id):t.party_id="",void 0!==e.presence&&null!==e.presence?t.presence=v.fromJSON(e.presence):t.presence=void 0,void 0!==e.op_code&&null!==e.op_code?t.op_code=Number(e.op_code):t.op_code=0,void 0!==e.data&&null!==e.data&&(t.data=gt(e.data)),t},toJSON(e){let t={};return void 0!==e.party_id&&(t.party_id=e.party_id),void 0!==e.presence&&(t.presence=e.presence?v.toJSON(e.presence):void 0),void 0!==e.op_code&&(t.op_code=e.op_code),void 0!==e.data&&(t.data=St(void 0!==e.data?e.data:new Uint8Array)),t},fromPartial(e){let t=f({},xr);return void 0!==e.party_id&&null!==e.party_id?t.party_id=e.party_id:t.party_id="",void 0!==e.presence&&null!==e.presence?t.presence=v.fromPartial(e.presence):t.presence=void 0,void 0!==e.op_code&&null!==e.op_code?t.op_code=e.op_code:t.op_code=0,void 0!==e.data&&null!==e.data?t.data=e.data:t.data=new Uint8Array,t}},Er={party_id:"",op_code:0},Qe={encode(e,t=_.default.Writer.create()){return""!==e.party_id&&t.uint32(10).string(e.party_id),0!==e.op_code&&t.uint32(16).int64(e.op_code),0!==e.data.length&&t.uint32(26).bytes(e.data),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Er);for(i.data=new Uint8Array;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.party_id=r.string();break;case 2:i.op_code=Pt(r.int64());break;case 3:i.data=r.bytes();break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},Er);return t.data=new Uint8Array,void 0!==e.party_id&&null!==e.party_id?t.party_id=String(e.party_id):t.party_id="",void 0!==e.op_code&&null!==e.op_code?t.op_code=Number(e.op_code):t.op_code=0,void 0!==e.data&&null!==e.data&&(t.data=gt(e.data)),t},toJSON(e){let t={};return void 0!==e.party_id&&(t.party_id=e.party_id),void 0!==e.op_code&&(t.op_code=e.op_code),void 0!==e.data&&(t.data=St(void 0!==e.data?e.data:new Uint8Array)),t},fromPartial(e){let t=f({},Er);return void 0!==e.party_id&&null!==e.party_id?t.party_id=e.party_id:t.party_id="",void 0!==e.op_code&&null!==e.op_code?t.op_code=e.op_code:t.op_code=0,void 0!==e.data&&null!==e.data?t.data=e.data:t.data=new Uint8Array,t}},qr={party_id:""},je={encode(e,t=_.default.Writer.create()){""!==e.party_id&&t.uint32(10).string(e.party_id);for(var r of e.joins)v.encode(r,t.uint32(18).fork()).ldelim();for(let r of e.leaves)v.encode(r,t.uint32(26).fork()).ldelim();return t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},qr);for(i.joins=[],i.leaves=[];r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.party_id=r.string();break;case 2:i.joins.push(v.decode(r,r.uint32()));break;case 3:i.leaves.push(v.decode(r,r.uint32()));break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},qr);if(t.joins=[],t.leaves=[],void 0!==e.party_id&&null!==e.party_id?t.party_id=String(e.party_id):t.party_id="",void 0!==e.joins&&null!==e.joins)for(var r of e.joins)t.joins.push(v.fromJSON(r));if(void 0!==e.leaves&&null!==e.leaves)for(let r of e.leaves)t.leaves.push(v.fromJSON(r));return t},toJSON(e){let t={};return void 0!==e.party_id&&(t.party_id=e.party_id),e.joins?t.joins=e.joins.map(r=>r?v.toJSON(r):void 0):t.joins=[],e.leaves?t.leaves=e.leaves.map(r=>r?v.toJSON(r):void 0):t.leaves=[],t},fromPartial(e){let t=f({},qr);if(t.joins=[],t.leaves=[],void 0!==e.party_id&&null!==e.party_id?t.party_id=e.party_id:t.party_id="",void 0!==e.joins&&null!==e.joins)for(var r of e.joins)t.joins.push(v.fromPartial(r));if(void 0!==e.leaves&&null!==e.leaves)for(let r of e.leaves)t.leaves.push(v.fromPartial(r));return t}},Tr={},et={encode(e,t=_.default.Writer.create()){return t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Tr);for(;r.pos<n;){var a=r.uint32();r.skipType(7&a)}return i},fromJSON(e){return f({},Tr)},toJSON(e){return{}},fromPartial(e){return f({},Tr)}},Ar={},tt={encode(e,t=_.default.Writer.create()){return t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Ar);for(;r.pos<n;){var a=r.uint32();r.skipType(7&a)}return i},fromJSON(e){return f({},Ar)},toJSON(e){return{}},fromPartial(e){return f({},Ar)}},Ur={},rt={encode(e,t=_.default.Writer.create()){for(var r of e.presences)v.encode(r,t.uint32(10).fork()).ldelim();return t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Ur);for(i.presences=[];r.pos<n;){var a=r.uint32();a>>>3==1?i.presences.push(v.decode(r,r.uint32())):r.skipType(7&a)}return i},fromJSON(e){let t=f({},Ur);if(t.presences=[],void 0!==e.presences&&null!==e.presences)for(var r of e.presences)t.presences.push(v.fromJSON(r));return t},toJSON(e){let t={};return e.presences?t.presences=e.presences.map(r=>r?v.toJSON(r):void 0):t.presences=[],t},fromPartial(e){let t=f({},Ur);if(t.presences=[],void 0!==e.presences&&null!==e.presences)for(var r of e.presences)t.presences.push(v.fromPartial(r));return t}},Cr={user_ids:"",usernames:""},it={encode(e,t=_.default.Writer.create()){for(var r of e.user_ids)t.uint32(10).string(r);for(let r of e.usernames)t.uint32(18).string(r);return t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Cr);for(i.user_ids=[],i.usernames=[];r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.user_ids.push(r.string());break;case 2:i.usernames.push(r.string());break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},Cr);if(t.user_ids=[],t.usernames=[],void 0!==e.user_ids&&null!==e.user_ids)for(var r of e.user_ids)t.user_ids.push(String(r));if(void 0!==e.usernames&&null!==e.usernames)for(let r of e.usernames)t.usernames.push(String(r));return t},toJSON(e){let t={};return e.user_ids?t.user_ids=e.user_ids.map(r=>r):t.user_ids=[],e.usernames?t.usernames=e.usernames.map(r=>r):t.usernames=[],t},fromPartial(e){let t=f({},Cr);if(t.user_ids=[],t.usernames=[],void 0!==e.user_ids&&null!==e.user_ids)for(var r of e.user_ids)t.user_ids.push(r);if(void 0!==e.usernames&&null!==e.usernames)for(let r of e.usernames)t.usernames.push(r);return t}},Br={},nt={encode(e,t=_.default.Writer.create()){for(var r of e.joins)v.encode(r,t.uint32(18).fork()).ldelim();for(let r of e.leaves)v.encode(r,t.uint32(26).fork()).ldelim();return t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Br);for(i.joins=[],i.leaves=[];r.pos<n;){var a=r.uint32();switch(a>>>3){case 2:i.joins.push(v.decode(r,r.uint32()));break;case 3:i.leaves.push(v.decode(r,r.uint32()));break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},Br);if(t.joins=[],t.leaves=[],void 0!==e.joins&&null!==e.joins)for(var r of e.joins)t.joins.push(v.fromJSON(r));if(void 0!==e.leaves&&null!==e.leaves)for(let r of e.leaves)t.leaves.push(v.fromJSON(r));return t},toJSON(e){let t={};return e.joins?t.joins=e.joins.map(r=>r?v.toJSON(r):void 0):t.joins=[],e.leaves?t.leaves=e.leaves.map(r=>r?v.toJSON(r):void 0):t.leaves=[],t},fromPartial(e){let t=f({},Br);if(t.joins=[],t.leaves=[],void 0!==e.joins&&null!==e.joins)for(var r of e.joins)t.joins.push(v.fromPartial(r));if(void 0!==e.leaves&&null!==e.leaves)for(let r of e.leaves)t.leaves.push(v.fromPartial(r));return t}},Fr={user_ids:""},at={encode(e,t=_.default.Writer.create()){for(var r of e.user_ids)t.uint32(10).string(r);return t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Fr);for(i.user_ids=[];r.pos<n;){var a=r.uint32();a>>>3==1?i.user_ids.push(r.string()):r.skipType(7&a)}return i},fromJSON(e){let t=f({},Fr);if(t.user_ids=[],void 0!==e.user_ids&&null!==e.user_ids)for(var r of e.user_ids)t.user_ids.push(String(r));return t},toJSON(e){let t={};return e.user_ids?t.user_ids=e.user_ids.map(r=>r):t.user_ids=[],t},fromPartial(e){let t=f({},Fr);if(t.user_ids=[],void 0!==e.user_ids&&null!==e.user_ids)for(var r of e.user_ids)t.user_ids.push(r);return t}},Dr={},st={encode(e,t=_.default.Writer.create()){return void 0!==e.status&&oe.encode({value:e.status},t.uint32(10).fork()).ldelim(),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Dr);for(;r.pos<n;){var a=r.uint32();a>>>3==1?i.status=oe.decode(r,r.uint32()).value:r.skipType(7&a)}return i},fromJSON(e){let t=f({},Dr);return void 0!==e.status&&null!==e.status?t.status=String(e.status):t.status=void 0,t},toJSON(e){let t={};return void 0!==e.status&&(t.status=e.status),t},fromPartial(e){let t=f({},Dr);return void 0!==e.status&&null!==e.status?t.status=e.status:t.status=void 0,t}},Ir={mode:0,subject:"",subcontext:"",label:""},ee={encode(e,t=_.default.Writer.create()){return 0!==e.mode&&t.uint32(8).int32(e.mode),""!==e.subject&&t.uint32(18).string(e.subject),""!==e.subcontext&&t.uint32(26).string(e.subcontext),""!==e.label&&t.uint32(34).string(e.label),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Ir);for(;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.mode=r.int32();break;case 2:i.subject=r.string();break;case 3:i.subcontext=r.string();break;case 4:i.label=r.string();break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},Ir);return void 0!==e.mode&&null!==e.mode?t.mode=Number(e.mode):t.mode=0,void 0!==e.subject&&null!==e.subject?t.subject=String(e.subject):t.subject="",void 0!==e.subcontext&&null!==e.subcontext?t.subcontext=String(e.subcontext):t.subcontext="",void 0!==e.label&&null!==e.label?t.label=String(e.label):t.label="",t},toJSON(e){let t={};return void 0!==e.mode&&(t.mode=e.mode),void 0!==e.subject&&(t.subject=e.subject),void 0!==e.subcontext&&(t.subcontext=e.subcontext),void 0!==e.label&&(t.label=e.label),t},fromPartial(e){let t=f({},Ir);return void 0!==e.mode&&null!==e.mode?t.mode=e.mode:t.mode=0,void 0!==e.subject&&null!==e.subject?t.subject=e.subject:t.subject="",void 0!==e.subcontext&&null!==e.subcontext?t.subcontext=e.subcontext:t.subcontext="",void 0!==e.label&&null!==e.label?t.label=e.label:t.label="",t}},zr={data:"",reliable:!1},ot={encode(e,t=_.default.Writer.create()){return void 0!==e.stream&&ee.encode(e.stream,t.uint32(10).fork()).ldelim(),void 0!==e.sender&&v.encode(e.sender,t.uint32(18).fork()).ldelim(),""!==e.data&&t.uint32(26).string(e.data),!0===e.reliable&&t.uint32(32).bool(e.reliable),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},zr);for(;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.stream=ee.decode(r,r.uint32());break;case 2:i.sender=v.decode(r,r.uint32());break;case 3:i.data=r.string();break;case 4:i.reliable=r.bool();break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},zr);return void 0!==e.stream&&null!==e.stream?t.stream=ee.fromJSON(e.stream):t.stream=void 0,void 0!==e.sender&&null!==e.sender?t.sender=v.fromJSON(e.sender):t.sender=void 0,void 0!==e.data&&null!==e.data?t.data=String(e.data):t.data="",void 0!==e.reliable&&null!==e.reliable?t.reliable=Boolean(e.reliable):t.reliable=!1,t},toJSON(e){let t={};return void 0!==e.stream&&(t.stream=e.stream?ee.toJSON(e.stream):void 0),void 0!==e.sender&&(t.sender=e.sender?v.toJSON(e.sender):void 0),void 0!==e.data&&(t.data=e.data),void 0!==e.reliable&&(t.reliable=e.reliable),t},fromPartial(e){let t=f({},zr);return void 0!==e.stream&&null!==e.stream?t.stream=ee.fromPartial(e.stream):t.stream=void 0,void 0!==e.sender&&null!==e.sender?t.sender=v.fromPartial(e.sender):t.sender=void 0,void 0!==e.data&&null!==e.data?t.data=e.data:t.data="",void 0!==e.reliable&&null!==e.reliable?t.reliable=e.reliable:t.reliable=!1,t}},br={},ut={encode(e,t=_.default.Writer.create()){void 0!==e.stream&&ee.encode(e.stream,t.uint32(10).fork()).ldelim();for(var r of e.joins)v.encode(r,t.uint32(18).fork()).ldelim();for(let r of e.leaves)v.encode(r,t.uint32(26).fork()).ldelim();return t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},br);for(i.joins=[],i.leaves=[];r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.stream=ee.decode(r,r.uint32());break;case 2:i.joins.push(v.decode(r,r.uint32()));break;case 3:i.leaves.push(v.decode(r,r.uint32()));break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},br);if(t.joins=[],t.leaves=[],void 0!==e.stream&&null!==e.stream?t.stream=ee.fromJSON(e.stream):t.stream=void 0,void 0!==e.joins&&null!==e.joins)for(var r of e.joins)t.joins.push(v.fromJSON(r));if(void 0!==e.leaves&&null!==e.leaves)for(let r of e.leaves)t.leaves.push(v.fromJSON(r));return t},toJSON(e){let t={};return void 0!==e.stream&&(t.stream=e.stream?ee.toJSON(e.stream):void 0),e.joins?t.joins=e.joins.map(r=>r?v.toJSON(r):void 0):t.joins=[],e.leaves?t.leaves=e.leaves.map(r=>r?v.toJSON(r):void 0):t.leaves=[],t},fromPartial(e){let t=f({},br);if(t.joins=[],t.leaves=[],void 0!==e.stream&&null!==e.stream?t.stream=ee.fromPartial(e.stream):t.stream=void 0,void 0!==e.joins&&null!==e.joins)for(var r of e.joins)t.joins.push(v.fromPartial(r));if(void 0!==e.leaves&&null!==e.leaves)for(let r of e.leaves)t.leaves.push(v.fromPartial(r));return t}},Lr={user_id:"",session_id:"",username:"",persistence:!1},v={encode(e,t=_.default.Writer.create()){return""!==e.user_id&&t.uint32(10).string(e.user_id),""!==e.session_id&&t.uint32(18).string(e.session_id),""!==e.username&&t.uint32(26).string(e.username),!0===e.persistence&&t.uint32(32).bool(e.persistence),void 0!==e.status&&oe.encode({value:e.status},t.uint32(42).fork()).ldelim(),t},decode(e,t){let r=e instanceof _.default.Reader?e:new _.default.Reader(e),n=void 0===t?r.len:r.pos+t,i=f({},Lr);for(;r.pos<n;){var a=r.uint32();switch(a>>>3){case 1:i.user_id=r.string();break;case 2:i.session_id=r.string();break;case 3:i.username=r.string();break;case 4:i.persistence=r.bool();break;case 5:i.status=oe.decode(r,r.uint32()).value;break;default:r.skipType(7&a)}}return i},fromJSON(e){let t=f({},Lr);return void 0!==e.user_id&&null!==e.user_id?t.user_id=String(e.user_id):t.user_id="",void 0!==e.session_id&&null!==e.session_id?t.session_id=String(e.session_id):t.session_id="",void 0!==e.username&&null!==e.username?t.username=String(e.username):t.username="",void 0!==e.persistence&&null!==e.persistence?t.persistence=Boolean(e.persistence):t.persistence=!1,void 0!==e.status&&null!==e.status?t.status=String(e.status):t.status=void 0,t},toJSON(e){let t={};return void 0!==e.user_id&&(t.user_id=e.user_id),void 0!==e.session_id&&(t.session_id=e.session_id),void 0!==e.username&&(t.username=e.username),void 0!==e.persistence&&(t.persistence=e.persistence),void 0!==e.status&&(t.status=e.status),t},fromPartial(e){let t=f({},Lr);return void 0!==e.user_id&&null!==e.user_id?t.user_id=e.user_id:t.user_id="",void 0!==e.session_id&&null!==e.session_id?t.session_id=e.session_id:t.session_id="",void 0!==e.username&&null!==e.username?t.username=e.username:t.username="",void 0!==e.persistence&&null!==e.persistence?t.persistence=e.persistence:t.persistence=!1,void 0!==e.status&&null!==e.status?t.status=e.status:t.status=void 0,t}},ne=(()=>{if(void 0!==ne)return ne;if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw"Unable to locate global object"})(),Mn=ne.atob||(e=>ne.Buffer.from(e,"base64").toString("binary"));function gt(e){let t=Mn(e),r=new Uint8Array(t.length);for(let n=0;n<t.length;++n)r[n]=t.charCodeAt(n);return r}var xn=ne.btoa||(e=>ne.Buffer.from(e,"binary").toString("base64"));function St(e){let t=[];for(let r=0;r<e.byteLength;++r)t.push(String.fromCharCode(e[r]));return xn(t.join(""))}function ki(e){return{seconds:e.getTime()/1e3,nanos:e.getTime()%1e3*1e6}}function Hr(e){var t=1e3*e.seconds;return t+=e.nanos/1e6,new Date(t)}function wi(e){return e instanceof Date?e:"string"==typeof e?new Date(e):Hr(K.fromJSON(e))}function Pt(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new ne.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}_.default.util.Long!==si.default&&(_.default.util.Long=si.default,_.default.configure());var Ji=class{constructor(){this._isConnected=!1}get onClose(){return this._socket.onclose}set onClose(e){this._socket.onclose=e}get onError(){return this._socket.onerror}set onError(e){this._socket.onerror=e}get onMessage(){return this._socket.onmessage}set onMessage(e){e?this._socket.onmessage=t=>{let r=t.data,n=new Uint8Array(r),i=Dt.decode(n);i.channel_message&&(null==i.channel_message.code&&(i.channel_message.code=0),null==i.channel_message.persistent&&(i.channel_message.persistent=!1)),e(i)}:e=null}get onOpen(){return this._socket.onopen}set onOpen(e){this._socket.onopen=e}get isConnected(){return this._isConnected}close(){this._isConnected=!1,this._socket.close(),this._socket=void 0}connect(e,t,r,n,i){e=""+e+t+`:${r}/ws?lang=en&status=${encodeURIComponent(n.toString())}&token=${encodeURIComponent(i)}&format=protobuf`;this._socket=new WebSocket(e),this._socket.binaryType="arraybuffer",this._isConnected=!0}send(e){if(e.match_data_send){var n=e.match_data_send.data;"string"==typeof n&&(e.match_data_send.data=(new TextEncoder).encode(n))}else if(e.party_data_send){let n=e.party_data_send.data;"string"==typeof n&&(e.party_data_send.data=(new TextEncoder).encode(n))}n=Dt.encode(Dt.fromPartial(e)).finish();this._socket.send(n)}},Ot=class{constructor(t,r,n=null,i=null,a=null){this.target=t||"",this.type=r,this.channel_id="",this.self=null,this.cb_onchannelpresence=i,this.cb_onchannelmessage=n,this.cb_this=a,this.messages=[],this.messageNextCursor=null,this.messagePrevCursor=null,this.room_name="",this.presenceMap=new Map,this._channelPresenceEvents=[],this._channelMessages=[]}findPresence(t){return this.presenceMap.get(t)}findPresenceByUsername(t){for(var r of this.presenceMap.values())if(r.username===t)return r}updateRoomName(t){this.room_name=t}join(t){t.forEach(r=>this.presenceMap.set(r.user_id,r))}leave(t){t.forEach(r=>this.presenceMap.delete(r.user_id))}arrayPresences(){return this.presences=Array.from(this.presenceMap.values())}},Nt=class extends Ot{constructor(t,r,n=null,i=null,a=null,l){super(t,r,n,i,a),this.room_name=""}},ue=class{constructor(t){this.netDriver=t,this.app=this.netDriver?this.netDriver.app:null,this.channels=[],this._channelMessages=[],this._channelPresenceEvents=[]}findChannel(t){return this.channels.find(r=>r.channel_id===t)}findChannelByRoomName(t){return this.channels.find(r=>r.room_name===t)}deleteChannel(t){var r=this.channels.findIndex(n=>n.channel_id===t);0<=r&&this.channels.splice(r,1)}setGlobalChannel(t){this.globalChannel=t}onchannelpresence(t,r=!1){try{let n=this.findChannel(t.channel_id);if(!n)return void this._channelPresenceEvents.push(t);var i=t.leaves,a=t.joins;n.joined||r?(i&&0<i.length&&n.leave(i),a&&0<a.length&&n.join(t.joins),n.cb_onchannelpresence?n.cb_onchannelpresence.call(n.cb_this,t,n):this.app&&this.app.fire("onchannelpresence",t,n)):n._channelPresenceEvents.push(t)}catch(n){}}onchannelmessage(t,r=!1){try{let n=this.findChannel(t.channel_id);if(!n)return void this._channelMessages.push(t);n.joined||r?(t.content.history&&n.messages.push(t),n.cb_onchannelmessage?n.cb_onchannelmessage.call(n.cb_this,t,n):this.app&&this.app.fire("onchannelmessage",t,n)):n._channelMessages.push(t)}catch(n){}}processOrphanMessage(t){let r=this._channelPresenceEvents.filter(l=>l.channel_id===t.channel_id),n=this._channelPresenceEvents.filter(l=>l.channel_id!==t.channel_id),i=(this._channelPresenceEvents=n,r.forEach(l=>t.push(l)),this._channelMessages.filter(l=>l.channel_id===t.channel_id)),a=this._channelMessages.filter(l=>l.channel_id!==t.channel_id);this._channelMessages=a,i.forEach(l=>t.push(l))}postJoinChannel(t){t._channelPresenceEvents.forEach(r=>this.onchannelpresence(r,!0)),t._channelPresenceEvents.length=0,t._channelMessages.forEach(r=>this.onchannelmessage(r,!0)),t._channelMessages.length=0}joinRoom(t,r=!1,n=!1,i=null,a=null,l=null){return A(this,null,function*(){var o=this.channels.find(s=>s.target===t);if(o)return Promise.resolve(o);try{let s=new Nt(t,1,i,a,l);this.channels.push(s);var u=yield this.netDriver.joinChat(t,1,r,n);return s.channel_id=u.id,s.self=u.self,s.room_name=u.room_name,u.presences&&0<u.presences.length&&s._channelPresenceEvents.unshift({channel_id:u.id,joins:u.presences,leaves:[]}),s.joined=!0,this.app.fire("channel:joinself",s),Promise.resolve(s)}catch(s){}})}leaveChat(t){return A(this,null,function*(){var r=this.findChannel(t);if(r)return this.onchannelpresence({channel_id:t,joins:[],leaves:[r.self]}),yield this.netDriver.leaveChat(t),Promise.resolve(this.deleteChannel(t))})}writeChat(t,r){return A(this,null,function*(){try{return yield this.netDriver.writeChat(t.channel_id,r)}catch(n){}})}writeChatById(t,r){return A(this,null,function*(){try{return yield this.netDriver.writeChat(t,r)}catch(n){}})}},dt=(ue.NOTIFICATION_CODE={RESERVED:0,WANNA_CHAT:-1,WANNA_ADD_FRIEND:-2,ACCEPT_FRIEND:-3,ACCEPT_GROUP:-4,WANNA_GROUP:-5,FRIEND_JOIN_GAME:-6},class{constructor(t,r=null,n=null,i=null,a=null){this.match_id=t,this.cb_onmatchdata=n,this.cb_onmatchpresence=i,this.cb_this=a,this.presences=[],this.self=r,this.presenceMap=new Map,this.pendingMatchData=[],this.pendingMatchPresenceEvents=[],this.joined=!1}join(t){t.forEach(r=>this.presenceMap.set(r.user_id,r))}leave(t){t.forEach(r=>this.presenceMap.delete(r.user_id))}arrayPresences(){this.presences=Array.from(this.presenceMap.values())}findPresence(t){return this.presenceMap.get(t)}findPresenceByName(t){return this.presences.find(r=>r.username===t)}}),ct=class{constructor(t){this.netDriver=t,this.app=this.netDriver?this.netDriver.app:null,this.matchMap=new Map,this.pendingPresenceEvents=[],this.pendingMatchData=[],this.pendingMatchIds=[],this.textDecoder=new TextDecoder}onmatchdata(t,r=!1){var n=this.textDecoder.decode(t.data),n=JSON.parse(n);try{let a=this.findMatch(t.match_id);a&&(a.joined||r?a.cb_onmatchdata?a.cb_onmatchdata.call(a.cb_this,t.match_id,t.op_code,n,t.presence,a):this.app&&this.app.fire("onmatchdata",t.match_id,t.op_code,n,t.presence,a):a.pendingMatchData.push(t))}catch(a){}}onmatchpresence(t,r=!1){try{let n=this.findMatch(t.match_id);if(!n)return;n.joined||r?(t.leaves&&t.leaves.length&&n.leave(t.leaves),t.joins&&t.joins.length&&n.join(t.joins),n.cb_onmatchpresence?n.cb_onmatchpresence.call(n.cb_this,t,n):this.app&&this.app.fire("onmatchpresence",t,n)):n.pendingMatchPresenceEvents.push(t)}catch(n){}}onmatchmakermatched(t){}findMatch(t){return this.matchMap.get(t)}createMatch(t=void 0,r=void 0){return A(this,null,function*(){var n=yield this.netDriver.createMatch(t,r);return Promise.resolve(n.payload)})}joinMatch(t,r=null,n=null,i=null){return A(this,null,function*(){let a=new dt(t,null,r,n,i);this.matchMap.set(t,a);let l;try{l=yield this.netDriver.joinMatch(t)}catch(u){return this.matchMap.delete(t),{success:"failed"}}a.self=l.self;var u,o=()=>{for(var u of a.pendingMatchData)this.onmatchdata(u,!0);a.pendingMatchData.length=0};o(),l.presences&&0<l.presences.length&&a.pendingMatchPresenceEvents.unshift({match_id:l.match_id,joins:l.presences});for(u of a.pendingMatchPresenceEvents)this.onmatchpresence(u,!0);return a.pendingMatchPresenceEvents.length=0,o(),a.joined=!0,Promise.resolve(l)})}leaveMatch(t){return A(this,null,function*(){this.matchMap.delete(t),yield this.netDriver.leaveMatch(t)})}sendMatchState(t,r,n){return A(this,null,function*(){try{yield this.netDriver.sendMatchState(t,r,n)}catch(i){}})}},Ri=e=>[...Array(e)].map(()=>Math.random().toString(36)[3]).join("");function Jt(e,t){var r="",n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",i="0123456789";if(t)for(let a=0;a<i.length;a++)r+=i.charAt(Math.floor(Math.random()*i.length));else for(let a=0;a<n.length;a++)r+=n.charAt(Math.floor(Math.random()*n.length));return r}var Zr=class{constructor(){this.initialized=!1,this.StorageObjects={write:t=>A(this,null,function*(){try{return yield this.client.writeStorageObjects(this.session,t)}catch(r){}}),list:(t,r=void 0,n=void 0,i=void 0)=>A(this,null,function*(){try{return yield this.client.listStorageObjects(this.session,t,r,n,i)}catch(a){}}),read:t=>A(this,null,function*(){try{return yield this.client.readStorageObjects(this.session,t)}catch(r){}}),delete:t=>A(this,null,function*(){try{return yield this.client.deleteStorageObjects(this.session,t)}catch(r){}})},this.Account={get:()=>A(this,null,function*(){return this.account=yield this.client.getAccount(this.session),Promise.resolve(this.account)}),update:t=>A(this,null,function*(){yield this.client.updateAccount(this.session,t)}),user:()=>this.account.user,metadata:()=>this.account.user.metadata?JSON.parse(this.account.user.metadata):{},isGM:()=>{var t=this.Account.metadata();return!!t.gm&&"1"===t.gm},user_id:()=>this.account.user.id},this.Users={get:t=>A(this,null,function*(){let r=yield this.client.getUsers(this.session,t);return r.users.forEach(n=>this.userMap.set(n.id,n)),this.users=Array.from(this.userMap.values()),Promise.resolve(r.users)}),getByIterable:t=>A(this,null,function*(){if(Array.isArray(t)){let r=[];if(t.forEach(n=>r.push(n.user_id)),r.length)try{return yield this.Users.get(r)}catch(n){}}}),find:t=>this.userMap.get(t),findUsers:t=>{let r=[];return t.forEach(n=>r.push(this.userMap.get(n))),r},findByUsername:t=>{for(var[r,n]of this.userMap)if(n.username===t)return this.userMap(r)},delete:t=>{this.userMap.delete(t),this.users=Array.from(this.userMap.values())},metadata:t=>{t=this.userMap.get(t);return t?"string"==typeof t.metadata?JSON.parse(t.metadata):t.metadata:{}}},this.Group={create:t=>A(this,null,function*(){try{return yield this.client.createGroup(this.session,t)}catch(r){}}),delete:t=>A(this,null,function*(){try{return yield this.client.deleteGroup(this.session,t)}catch(r){}}),list:(t=void 0,r=void 0,n=void 0)=>A(this,null,function*(){try{return yield this.client.listGroups(this.session,t,r,n)}catch(i){}})},this.Friends={add:(t=void 0,r=void 0)=>A(this,null,function*(){try{return yield this.client.addFriends(this.session,t,r)}catch(n){}}),list:()=>A(this,null,function*(){try{return yield this.client.listFriends(this.session)}catch(t){}}),delete:(t=void 0,r=void 0)=>A(this,null,function*(){try{return yield this.client.deleteFriends(this.session,t,r)}catch(n){}}),block:(t=void 0,r=void 0)=>A(this,null,function*(){try{return yield this.client.blockFriends(this.session,t,r)}catch(n){}})},this.Notification={notificationPool:new Map,cacheable_cursor:null,send:(t,r,n,i,a,l)=>A(this,null,function*(){var o={user_id:t,subject:r,content:n,code:i,sender_id:a,persistent:l};try{return yield this.socket.rpc("notification_send",JSON.stringify(o))}catch(s){}}),list:(t=void 0,r=void 0)=>A(this,null,function*(){var n=yield this.client.listNotifications(this.session,t,r);return this.Notification.cacheable_cursor=n.cacheable_cursor,Promise.resolve(n)}),accumulate:(t="")=>A(this,null,function*(){try{for(;;){var n,r=yield this.client.listNotifications(this.session,100,t);for(n of r.notifications)this.Notification.notificationPool.set(n.id,n);if(r.notifications.length<100)return void(this.notifications=Array.from(this.Notification.notificationPool.values()))}}catch(r){}}),delete:t=>A(this,null,function*(){null===t&&(t=Array.from(this.Notification.notificationPool.keys()),this.Notification.notificationPool.clear());for(var r of t)this.Notification.notificationPool.delete(r);this.notifications=Array.from(this.Notification.notificationPool.values()),yield this.client.deleteNotifications(this.session,t)}),receive:t=>{this.Notification.notificationPool.set(t.id,t),this.notifications.push(t)}},this.SessionWrapper={storeToStorage:t=>{"undefined"!=typeof Storage&&localStorage.setItem("nakamaToken",t.token)},getFromStorage:()=>{if("undefined"!=typeof Storage)return Promise.resolve(localStorage.getItem("nakamaToken"))},restore:()=>A(this,null,function*(){let t=null;try{var r=yield this.SessionWrapper.getFromStorage();if(r&&""!=r){t=X.restore(r);var n=new Date/1e3;if(!t.isexpired(n))return Promise.resolve(t)}}catch(r){}}),refreshAuthenticateCustom:t=>A(this,null,function*(){try{return t=yield this.client.authenticateCustom(t.vars.custom_id,!1,null,t.vars),this.SessionWrapper.storeToStorage(t),Promise.resolve(t)}catch(r){}})}}initialize(t,r){this.config=r||{host:"localhost",port:"7350",serverkey:"defaultkey"},this.app=t,this.social=new ue(this),this.gameplay=new ct(this),this.users=[],this.account=null,this.notifications=[],this.client=new ii(this.config.serverkey,this.config.host,this.config.port,this.config.useSSL,2e4),this.initialized=!0,this.connected=!1,this.isForcingSessionDisconnect=!1,this.userMap=new Map}authenticate(){return A(this,arguments,function*(t={},r,n){try{let i=window.atob,a=(window.atob=function(l){return i(l.replace("-","+").replace("_","/"))},new Map);return t.email?this.session=yield this.client.authenticateEmail(t.email,t.password,!0,t.username,a):t.ci?(a.ci=t.ci,this.session=yield this.client.authenticateCustom(t.ci,!0,Jt(4,!0)+"-"+Jt(11,!1),a)):t.google?this.session=yield this.client.authenticateGoogle(t.google.tokenId,!0,t.google.googleId):t.kakao?this.session=yield this.client.authenticateCustom(t.kakao.profile.id+"-kakao",!0,t.kakao.profile.id+"-kakao"):t.apple?t.apple.user?this.session=yield this.client.authenticateApple(t.apple.authorization.id_token,!0,""):this.session=yield this.client.authenticateApple(t.apple.authorization.id_token):t.id?(a.id=t.id,this.session=yield this.client.authenticateCustom(t.id,!0,t.id,a)):t.cid?this.session=yield this.client.authenticateCustom(t.cid,!0,n):this.session=yield this.client.authenticateCustom(Ri(12),!0,Jt(12,!1),a),window.atob=i,this.SessionWrapper.storeToStorage(this.session),this.account=yield this.Account.get(),Promise.resolve(this.session)}catch(i){this.app.fire("authenticate:fail")}})}ondisconnect(t,r){return A(this,null,function*(){this.isForcingSessionDisconnect?this.app.fire("forcetodisconnect"):(this.connected=!1,this.app.fire("ondisconnect"),(this.session.isexpired()||confirm(`  . 
  . `))&&window.location.reload())})}onnotification(t){1001===t.code&&(this.isForcingSessionDisconnect=!0),this.app&&this.app.fire("onnotification",t),this.Notification.receive(t)}onstatuspresence(t){}onstreampresence(t){}onstreamdata(t){}connect(t,r,n){return A(this,null,function*(){try{return this.connected&&(this.socket.disconnect(!1),this.socket=null,this.socket.connected=!1),this.socket=this.client.createSocket(t,r,new(n?Ji:mt)),this.socket.ondisconnect=this.ondisconnect.bind(this),this.socket.onnotification=this.onnotification.bind(this),this.socket.onstatuspresence=this.onstatuspresence.bind(this),this.socket.onchannelpresence=this.social.onchannelpresence.bind(this.social),this.socket.onchannelmessage=this.social.onchannelmessage.bind(this.social),this.socket.onmatchdata=this.gameplay.onmatchdata.bind(this.gameplay),this.socket.onmatchpresence=this.gameplay.onmatchpresence.bind(this.gameplay),this.socket.onmatchmakermatched=this.gameplay.onmatchmakermatched.bind(this.gameplay),this.socket.onstreampresence=this.onstreampresence.bind(this),this.socket.onstreamdata=this.onstreamdata.bind(this),this.session=yield this.socket.connect(this.session),this.connected=!0,this.connected}catch(i){}})}listMatches(t=1,r=!0,n=void 0,i=void 0,a=void 0,l=void 0){return A(this,null,function*(){try{return yield this.client.listMatches(this.session,t,r,n,i,a,l)}catch(o){}})}sendMatchState(t,r,n,i=null){return A(this,null,function*(){try{return yield this.socket.sendMatchState(t,r,JSON.stringify(n),i)}catch(a){}})}createMatch(t=void 0,r=void 0){return A(this,null,function*(){try{return t?yield this.socket.rpc(t,r):yield this.socket.createMatch()}catch(n){}})}rpcc(t=void 0,r=void 0){return A(this,null,function*(){try{return yield this.socket.rpc(t,r)}catch(n){}})}joinMatch(t,r=void 0,n=void 0){return A(this,null,function*(){try{return yield this.socket.joinMatch(t,r,n)}catch(i){}})}leaveMatch(t){return A(this,null,function*(){try{return yield this.socket.leaveMatch(t)}catch(r){}})}joinChat(t,r,n,i){return A(this,null,function*(){try{return yield this.socket.joinChat(t,r,n,i)}catch(a){}})}writeChat(t,r){return A(this,null,function*(){try{return 0===r.msg.indexOf("!@#$ ")&&this.Account.isGM()?yield this.gmCLI(r.msg):yield this.socket.writeChatMessage(t,r)}catch(n){}})}leaveChat(t){return A(this,null,function*(){try{return yield this.socket.leaveChat(t)}catch(r){}})}listChannelMessages(t,r=void 0,n=void 0,i=void 0){return A(this,null,function*(){try{return yield this.client.listChannelMessages(this.session,t,r,n,i)}catch(a){}})}};return Ai(En)})();